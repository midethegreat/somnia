{"file_contents":{"components/ui/input-otp.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport { OTPInput, OTPInputContext } from 'input-otp'\nimport { MinusIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction InputOTP({\n  className,\n  containerClassName,\n  ...props\n}: React.ComponentProps<typeof OTPInput> & {\n  containerClassName?: string\n}) {\n  return (\n    <OTPInput\n      data-slot=\"input-otp\"\n      containerClassName={cn(\n        'flex items-center gap-2 has-disabled:opacity-50',\n        containerClassName,\n      )}\n      className={cn('disabled:cursor-not-allowed', className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputOTPGroup({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"input-otp-group\"\n      className={cn('flex items-center', className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputOTPSlot({\n  index,\n  className,\n  ...props\n}: React.ComponentProps<'div'> & {\n  index: number\n}) {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext?.slots[index] ?? {}\n\n  return (\n    <div\n      data-slot=\"input-otp-slot\"\n      data-active={isActive}\n      className={cn(\n        'data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]',\n        className,\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"animate-caret-blink bg-foreground h-4 w-px duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction InputOTPSeparator({ ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div data-slot=\"input-otp-separator\" role=\"separator\" {...props}>\n      <MinusIcon />\n    </div>\n  )\n}\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2256},"components/ui/select.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n","size_bytes":6259},"components/ui/use-mobile.tsx":{"content":"import * as React from 'react'\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener('change', onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener('change', onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"components/ui/drawer.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport { Drawer as DrawerPrimitive } from 'vaul'\n\nimport { cn } from '@/lib/utils'\n\nfunction Drawer({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) {\n  return <DrawerPrimitive.Root data-slot=\"drawer\" {...props} />\n}\n\nfunction DrawerTrigger({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Trigger>) {\n  return <DrawerPrimitive.Trigger data-slot=\"drawer-trigger\" {...props} />\n}\n\nfunction DrawerPortal({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Portal>) {\n  return <DrawerPrimitive.Portal data-slot=\"drawer-portal\" {...props} />\n}\n\nfunction DrawerClose({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Close>) {\n  return <DrawerPrimitive.Close data-slot=\"drawer-close\" {...props} />\n}\n\nfunction DrawerOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Overlay>) {\n  return (\n    <DrawerPrimitive.Overlay\n      data-slot=\"drawer-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Content>) {\n  return (\n    <DrawerPortal data-slot=\"drawer-portal\">\n      <DrawerOverlay />\n      <DrawerPrimitive.Content\n        data-slot=\"drawer-content\"\n        className={cn(\n          'group/drawer-content bg-background fixed z-50 flex h-auto flex-col',\n          'data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b',\n          'data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t',\n          'data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm',\n          'data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm',\n          className,\n        )}\n        {...props}\n      >\n        <div className=\"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block\" />\n        {children}\n      </DrawerPrimitive.Content>\n    </DrawerPortal>\n  )\n}\n\nfunction DrawerHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"drawer-header\"\n      className={cn(\n        'flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"drawer-footer\"\n      className={cn('mt-auto flex flex-col gap-2 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Title>) {\n  return (\n    <DrawerPrimitive.Title\n      data-slot=\"drawer-title\"\n      className={cn('text-foreground font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Description>) {\n  return (\n    <DrawerPrimitive.Description\n      data-slot=\"drawer-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":4258},"components/ui/separator.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\n\nimport { cn } from '@/lib/utils'\n\nfunction Separator({\n  className,\n  orientation = 'horizontal',\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        'bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n","size_bytes":700},"app/somnia-demo/page.tsx":{"content":"\"use client\"\n\nimport { SomniaButton } from \"@/components/somnia-button\"\nimport { useState } from \"react\"\nimport { toast } from \"sonner\"\n\nexport default function SomniaDemoPage() {\n  const [eventId, setEventId] = useState(\"your-event-id\")\n\n  async function emitSampleData() {\n    try {\n      const response = await fetch(\"/api/somnia/emit\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          schemaId: \"0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef\",\n          encodedData: \"0x\",\n          eventId: eventId,\n          topics: [],\n          data: \"0x\",\n        }),\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        toast.success(\"Data emitted successfully!\")\n      } else {\n        toast.error(result.error || \"Failed to emit data\")\n      }\n    } catch (error) {\n      toast.error(\"Failed to emit data\")\n      console.error(\"Emit error:\", error)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background p-8\">\n      <div className=\"max-w-4xl mx-auto space-y-8\">\n        <div>\n          <h1 className=\"text-4xl font-bold mb-2\">Somnia Live Data Streams</h1>\n          <p className=\"text-muted-foreground\">\n            Subscribe to real-time data streams and emit events on the Somnia blockchain\n          </p>\n        </div>\n\n        <div className=\"border rounded-lg p-6 space-y-4\">\n          <div>\n            <h2 className=\"text-2xl font-semibold mb-4\">Subscribe to Stream</h2>\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              Click the button below to activate a subscription to Somnia data streams. This will listen for\n              real-time updates.\n            </p>\n            <div className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"eventId\" className=\"block text-sm font-medium mb-2\">\n                  Event ID (optional)\n                </label>\n                <input\n                  id=\"eventId\"\n                  type=\"text\"\n                  value={eventId}\n                  onChange={(e) => setEventId(e.target.value)}\n                  className=\"w-full px-3 py-2 border rounded-md bg-background\"\n                  placeholder=\"Enter event ID\"\n                />\n              </div>\n              <SomniaButton eventId={eventId} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"border rounded-lg p-6 space-y-4\">\n          <div>\n            <h2 className=\"text-2xl font-semibold mb-4\">Emit Data to Stream</h2>\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              Send data to the blockchain streams. This triggers events that subscribed clients can receive.\n            </p>\n            <button\n              onClick={emitSampleData}\n              className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors\"\n            >\n              Emit Sample Data\n            </button>\n          </div>\n        </div>\n\n        <div className=\"border rounded-lg p-6 bg-muted\">\n          <h3 className=\"text-lg font-semibold mb-2\">How It Works</h3>\n          <ol className=\"list-decimal list-inside space-y-2 text-sm\">\n            <li>\n              <strong>Subscribe:</strong> Click \"Start Somnia Stream\" to listen for real-time data updates from the\n              blockchain\n            </li>\n            <li>\n              <strong>Emit:</strong> Use \"Emit Sample Data\" to publish data to the stream, triggering notifications\n              to all subscribers\n            </li>\n            <li>\n              <strong>Real-Time:</strong> All updates happen instantly across all connected clients\n            </li>\n          </ol>\n        </div>\n\n        <div className=\"border rounded-lg p-6 bg-muted\">\n          <h3 className=\"text-lg font-semibold mb-2\">API Endpoints</h3>\n          <div className=\"space-y-2 text-sm font-mono\">\n            <div>\n              <span className=\"text-green-600\">GET</span> /api/somnia/subscribe\n            </div>\n            <div>\n              <span className=\"text-blue-600\">POST</span> /api/somnia/emit\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","size_bytes":4231},"components/ui/alert.tsx":{"content":"import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1617},"components/ui/toggle-group.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group'\nimport { type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\nimport { toggleVariants } from '@/components/ui/toggle'\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: 'default',\n  variant: 'default',\n})\n\nfunction ToggleGroup({\n  className,\n  variant,\n  size,\n  children,\n  ...props\n}: React.ComponentProps<typeof ToggleGroupPrimitive.Root> &\n  VariantProps<typeof toggleVariants>) {\n  return (\n    <ToggleGroupPrimitive.Root\n      data-slot=\"toggle-group\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(\n        'group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs',\n        className,\n      )}\n      {...props}\n    >\n      <ToggleGroupContext.Provider value={{ variant, size }}>\n        {children}\n      </ToggleGroupContext.Provider>\n    </ToggleGroupPrimitive.Root>\n  )\n}\n\nfunction ToggleGroupItem({\n  className,\n  children,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof ToggleGroupPrimitive.Item> &\n  VariantProps<typeof toggleVariants>) {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      data-slot=\"toggle-group-item\"\n      data-variant={context.variant || variant}\n      data-size={context.size || size}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        'min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n}\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1927},"components/ui/aspect-ratio.tsx":{"content":"'use client'\n\nimport * as AspectRatioPrimitive from '@radix-ui/react-aspect-ratio'\n\nfunction AspectRatio({\n  ...props\n}: React.ComponentProps<typeof AspectRatioPrimitive.Root>) {\n  return <AspectRatioPrimitive.Root data-slot=\"aspect-ratio\" {...props} />\n}\n\nexport { AspectRatio }\n","size_bytes":280},"components/ui/popover.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as PopoverPrimitive from '@radix-ui/react-popover'\n\nimport { cn } from '@/lib/utils'\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\n}\n\nfunction PopoverContent({\n  className,\n  align = 'center',\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden',\n          className,\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  )\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","size_bytes":1636},"components/ui/spinner.tsx":{"content":"import { Loader2Icon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Spinner({ className, ...props }: React.ComponentProps<'svg'>) {\n  return (\n    <Loader2Icon\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn('size-4 animate-spin', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Spinner }\n","size_bytes":331},"components/ui/tabs.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1971},"components/ui/button.tsx":{"content":"import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n","size_bytes":2143},"app/globals.css":{"content":"@import 'tailwindcss';\n\n@custom-variant dark (&:is(.dark *));\n\n:root {\n  /* Updated to white background with green accents */\n  --background: #ffffff;\n  --foreground: #1a1a1a;\n  --card: #f8fafb;\n  --card-foreground: #1a1a1a;\n  --popover: #ffffff;\n  --popover-foreground: #1a1a1a;\n  --primary: #00b854;\n  --primary-foreground: #ffffff;\n  --secondary: #f0f2f5;\n  --secondary-foreground: #1a1a1a;\n  --muted: #a0a0a0;\n  --muted-foreground: #666666;\n  --accent: #00b854;\n  --accent-foreground: #ffffff;\n  --destructive: #d32f2f;\n  --destructive-foreground: #ffffff;\n  --border: #e0e0e0;\n  --input: #f5f5f5;\n  --ring: #00b854;\n  --success: #00b854;\n  --success-foreground: #ffffff;\n  --warning: #f57c00;\n  --warning-foreground: #ffffff;\n  --chart-1: #00b854;\n  --chart-2: #0097a7;\n  --chart-3: #d32f2f;\n  --chart-4: #7b1fa2;\n  --chart-5: #f57f17;\n  --radius: 12px;\n}\n\n@theme inline {\n  --font-sans: 'Geist', 'Geist Fallback';\n  --font-mono: 'Geist Mono', 'Geist Mono Fallback';\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-card: var(--card);\n  --color-card-foreground: var(--card-foreground);\n  --color-popover: var(--popover);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-destructive-foreground: var(--destructive-foreground);\n  --color-border: var(--border);\n  --color-input: var(--input);\n  --color-ring: var(--ring);\n  --color-success: var(--success);\n  --color-success-foreground: var(--success-foreground);\n  --color-warning: var(--warning);\n  --color-warning-foreground: var(--warning-foreground);\n  --color-chart-1: var(--chart-1);\n  --color-chart-2: var(--chart-2);\n  --color-chart-3: var(--chart-3);\n  --color-chart-4: var(--chart-4);\n  --color-chart-5: var(--chart-5);\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n}\n\n@layer base {\n  * {\n    @apply border-border outline-ring/50;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n\n  /* Updated animations for light theme */\n  @keyframes glow-green {\n    0%, 100% {\n      color: var(--primary);\n      text-shadow: 0 0 5px rgba(0, 184, 84, 0.2);\n    }\n    50% {\n      color: var(--primary);\n      text-shadow: 0 0 15px rgba(0, 184, 84, 0.4);\n    }\n  }\n\n  @keyframes pulse-green {\n    0%, 100% {\n      border-color: rgba(0, 184, 84, 0.2);\n      box-shadow: 0 2px 8px rgba(0, 184, 84, 0.08);\n    }\n    50% {\n      border-color: rgba(0, 184, 84, 0.4);\n      box-shadow: 0 4px 16px rgba(0, 184, 84, 0.15);\n    }\n  }\n\n  .glow-text {\n    animation: glow-green 3s ease-in-out infinite;\n    color: var(--primary);\n  }\n\n  .glass-effect {\n    background: rgba(255, 255, 255, 0.7);\n    backdrop-filter: blur(8px);\n    border: 1px solid rgba(0, 184, 84, 0.15);\n  }\n\n  .glass-effect-hover:hover {\n    background: rgba(255, 255, 255, 0.9);\n    border-color: rgba(0, 184, 84, 0.25);\n  }\n\n  .neon-border {\n    animation: pulse-green 2s ease-in-out infinite;\n  }\n\n  .neon-border-hover:hover {\n    animation: pulse-green 0.6s ease-in-out;\n  }\n\n  .neon-glow {\n    color: var(--primary);\n    font-weight: 600;\n  }\n}\n","size_bytes":3544},"replit.md":{"content":"# Somniai - Prediction Markets on Somnia Data Streams\n\n## Overview\nSomniai is a decentralized prediction markets application built on Somnia Data Streams. Users can connect their Web3 wallet (MetaMask, Coinbase Wallet, Trust Wallet, or WalletConnect) to place bets on market outcomes, with all data stored transparently on the blockchain.\n\n## Project Architecture\n\n### Tech Stack\n- **Next.js 16** - Frontend framework with React Server Components and Turbopack\n- **React 19** - UI library\n- **TypeScript** - Type safety\n- **TailwindCSS 4** - Styling\n- **Somnia Data Streams** - On-chain data storage via `@somnia-chain/streams`\n- **Viem** - Web3 wallet integration and blockchain interactions\n- **Shadcn/ui** - UI component library (Radix UI primitives)\n- **Recharts** - Data visualization for bet statistics\n\n### Key Components\n- `components/wallet-connect.tsx` - Wallet connection interface\n- `components/dashboard.tsx` - Main betting dashboard\n- `components/betting-interface.tsx` - Bet placement UI\n- `components/bet-history-modal.tsx` - Shows user's betting history from SDS\n- `components/available-bets.tsx` - Displays live prediction markets\n- `lib/somnia-sdk.ts` - Somnia Data Streams SDK integration\n- `lib/viem-client.ts` - Web3 wallet client configuration\n- `lib/somnia-chain.ts` - Somnia Testnet chain configuration\n\n### Configuration Files\n- `next.config.mjs` - Next.js configuration with TypeScript build error ignoring and unoptimized images\n- `tsconfig.json` - TypeScript configuration with path aliases (`@/*`)\n- `package.json` - Dependencies and dev server configured for Replit (port 5000, host 0.0.0.0)\n\n## Replit Setup\n\n### Development Server\n- **Port**: 5000 (required for Replit webview)\n- **Host**: 0.0.0.0 (allows Replit proxy)\n- **Command**: `npm run dev`\n\n### Deployment Configuration\n- **Type**: Autoscale (stateless web application)\n- **Build**: `npm run build`\n- **Run**: `npm start`\n\n### Environment Variables (Optional)\nThe app has defaults for all required configurations:\n- `NEXT_PUBLIC_SOMNIA_RPC_URL` - Somnia RPC endpoint (defaults to \"https://rpc.somnia.network\")\n- `NEXT_PUBLIC_PREDICTION_MARKET_CONTRACT` - Smart contract address (defaults to \"0x0\")\n\n## Recent Changes (November 22, 2025)\n\n### Replit Environment Setup (Completed)\n1. Added `.gitignore` for Next.js project\n2. Updated `package.json` dev script to bind to `0.0.0.0:5000` for Replit compatibility\n3. Configured `next.config.mjs` with `allowedDevOrigins` set to Replit domain for proper proxy handling\n4. Installed all dependencies using `npm install --legacy-peer-deps` (React 19 compatibility)\n5. Set up workflow \"Start application\" running on port 5000 with webview output\n6. Configured deployment with autoscale target (build: npm run build, run: npm start)\n7. Verified application is running successfully and displays wallet connection screen without errors\n\n### Somnia Data Streams JSON Download Feature (Completed)\n1. Created `hooks/use-bet-history.ts` - fetches real bet data from Somnia Data Streams blockchain\n2. Updated `hooks/use-somnia-sdk.ts` - uses browser wallet (custom transport with window.ethereum) for signer-aware connection\n3. Enhanced bet history modal - displays live Somnia stream data with download button\n4. Download exports complete JSON file with: exportDate, walletAddress, schema, totalRecords, and all bet data\n5. Modal tabs all show data from the same source that gets exported (displayHistory)\n6. Implemented comprehensive error handling and loading states\n7. Falls back to mock data when no Somnia bets exist yet\n\n**JSON Export Format:**\n```json\n{\n  \"exportDate\": \"2025-11-22T...\",\n  \"walletAddress\": \"0x...\",\n  \"schema\": \"uint64 timestamp, uint8 betType, uint256 amount, uint256 odds, bytes32 betId, bytes32 marketId\",\n  \"totalRecords\": 5,\n  \"bets\": [/* array of bet records from Somnia */]\n}\n```\n\n**Files Modified:**\n- `components/bet-history-modal.tsx` - Added download button and real-time data display\n- `hooks/use-bet-history.ts` - New hook for fetching and downloading bet data\n- `hooks/use-somnia-sdk.ts` - Updated to use signer-aware wallet client\n- `lib/somnia-sdk.ts` - Added explicit return type for computeBetSchemaId\n\n## Development Workflow\n\n### Starting the App\nThe app starts automatically via the \"Start application\" workflow. It runs on port 5000 and is accessible via the Replit webview.\n\n### Building for Production\n```bash\nnpm run build\nnpm start\n```\n\n## User Flow\n\n1. **Connect Wallet** - User selects and connects their Web3 wallet\n2. **Browse Markets** - View available prediction markets with live odds\n3. **Place Bets** - Choose Buy (bet market goes up) or Sell (bet market goes down)\n4. **Sign Transaction** - Wallet prompts for signature to publish bet to Somnia Data Streams\n5. **View History** - All bets are stored on-chain and retrievable from SDS\n\n## Data Storage on Somnia\n\nAll bet data is stored on Somnia Data Streams in the following format:\n```\ntimestamp | bet type (buy/sell) | amount | odds | bet ID | market ID\n```\n\nThis data is tied to the user's wallet address and is:\n- Immutable and permanent\n- Publicly verifiable\n- Owned by the user\n- Accessible from any Somnia-compatible app\n\n## Smart Contracts\n\nThe project includes a Solidity contract at `contracts/PredictionMarket.sol` for managing prediction market logic.\n\n## Notes\n\n- The app uses `localStorage` to persist wallet connection between sessions\n- React 19 is used which requires `--legacy-peer-deps` for some package installations\n- TypeScript build errors are ignored in the config (already set by the original project)\n- Vercel Analytics is integrated for telemetry (dev mode only, no production data sent)\n- Images are unoptimized to avoid Next.js image optimization requirements\n","size_bytes":5725},"components/ui/command.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport { Command as CommandPrimitive } from 'cmdk'\nimport { SearchIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\n\nfunction Command({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive>) {\n  return (\n    <CommandPrimitive\n      data-slot=\"command\"\n      className={cn(\n        'bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandDialog({\n  title = 'Command Palette',\n  description = 'Search for a command to run...',\n  children,\n  className,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof Dialog> & {\n  title?: string\n  description?: string\n  className?: string\n  showCloseButton?: boolean\n}) {\n  return (\n    <Dialog {...props}>\n      <DialogHeader className=\"sr-only\">\n        <DialogTitle>{title}</DialogTitle>\n        <DialogDescription>{description}</DialogDescription>\n      </DialogHeader>\n      <DialogContent\n        className={cn('overflow-hidden p-0', className)}\n        showCloseButton={showCloseButton}\n      >\n        <Command className=\"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nfunction CommandInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Input>) {\n  return (\n    <div\n      data-slot=\"command-input-wrapper\"\n      className=\"flex h-9 items-center gap-2 border-b px-3\"\n    >\n      <SearchIcon className=\"size-4 shrink-0 opacity-50\" />\n      <CommandPrimitive.Input\n        data-slot=\"command-input\"\n        className={cn(\n          'placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50',\n          className,\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CommandList({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.List>) {\n  return (\n    <CommandPrimitive.List\n      data-slot=\"command-list\"\n      className={cn(\n        'max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandEmpty({\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Empty>) {\n  return (\n    <CommandPrimitive.Empty\n      data-slot=\"command-empty\"\n      className=\"py-6 text-center text-sm\"\n      {...props}\n    />\n  )\n}\n\nfunction CommandGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Group>) {\n  return (\n    <CommandPrimitive.Group\n      data-slot=\"command-group\"\n      className={cn(\n        'text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Separator>) {\n  return (\n    <CommandPrimitive.Separator\n      data-slot=\"command-separator\"\n      className={cn('bg-border -mx-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CommandItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Item>) {\n  return (\n    <CommandPrimitive.Item\n      data-slot=\"command-item\"\n      className={cn(\n        \"data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"command-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4824},"components/ui/scroll-area.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area'\n\nimport { cn } from '@/lib/utils'\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn('relative', className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = 'vertical',\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        'flex touch-none p-px transition-colors select-none',\n        orientation === 'vertical' &&\n          'h-full w-2.5 border-l border-l-transparent',\n        orientation === 'horizontal' &&\n          'h-2.5 flex-col border-t border-t-transparent',\n        className,\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1646},"components/liquidity-provider.tsx":{"content":"\"use client\"\n\nimport { useState } from \"react\"\nimport { Plus } from \"lucide-react\"\nimport { ammEngine } from \"@/lib/amm-liquidity\"\n\ninterface LiquidityProviderProps {\n  marketId: number\n  onLiquidityAdded?: (lpTokens: number) => void\n}\n\nexport default function LiquidityProvider({ marketId, onLiquidityAdded }: LiquidityProviderProps) {\n  const [yesAmount, setYesAmount] = useState(100)\n  const [noAmount, setNoAmount] = useState(100)\n  const [isAdding, setIsAdding] = useState(true)\n\n  const pool = ammEngine.getPoolState(marketId)\n\n  const handleAddLiquidity = () => {\n    const lpTokens = ammEngine.addLiquidity(marketId, yesAmount, noAmount)\n    onLiquidityAdded?.(lpTokens)\n    setYesAmount(100)\n    setNoAmount(100)\n  }\n\n  const handleRemoveLiquidity = () => {\n    const { yesAmount: returnedYes, noAmount: returnedNo } = ammEngine.removeLiquidity(marketId, yesAmount)\n    // Handle removal\n  }\n\n  return (\n    <div className=\"bg-card border border-border rounded-lg p-6\">\n      <h3 className=\"text-lg font-semibold text-foreground mb-4\">Provide Liquidity</h3>\n\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-foreground mb-2\">YES Amount</label>\n          <input\n            type=\"number\"\n            value={yesAmount}\n            onChange={(e) => setYesAmount(Number(e.target.value))}\n            className=\"w-full border border-border rounded-lg px-4 py-2 text-foreground bg-input\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-foreground mb-2\">NO Amount</label>\n          <input\n            type=\"number\"\n            value={noAmount}\n            onChange={(e) => setNoAmount(Number(e.target.value))}\n            className=\"w-full border border-border rounded-lg px-4 py-2 text-foreground bg-input\"\n          />\n        </div>\n\n        {pool && (\n          <div className=\"bg-secondary p-3 rounded-lg\">\n            <p className=\"text-xs text-muted-foreground\">\n              Current Pools: YES {pool.yesReserve.toFixed(0)} / NO {pool.noReserve.toFixed(0)}\n            </p>\n          </div>\n        )}\n\n        <button\n          onClick={handleAddLiquidity}\n          className=\"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Add Liquidity\n        </button>\n      </div>\n    </div>\n  )\n}\n","size_bytes":2475},"components/ui/sheet.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as SheetPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = 'right',\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: 'top' | 'right' | 'bottom' | 'left'\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500',\n          side === 'right' &&\n            'data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm',\n          side === 'left' &&\n            'data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm',\n          side === 'top' &&\n            'data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b',\n          side === 'bottom' &&\n            'data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn('flex flex-col gap-1.5 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn('mt-auto flex flex-col gap-2 p-4', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn('text-foreground font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4092},"lib/price-service.ts":{"content":"/**\n * Service to fetch and cache market prices\n * Can be extended to integrate with real price APIs\n */\n\nimport { subscribeToLivePrice, fetchMarketPrices, type MarketPrice } from \"./market-prices\"\n\nclass PriceService {\n  private priceCache: Map<string, MarketPrice> = new Map()\n  private subscriptions: Map<string, () => void> = new Map()\n\n  /**\n   * Get cached price or fetch new one\n   */\n  async getPrice(symbol: string): Promise<MarketPrice | null> {\n    if (this.priceCache.has(symbol)) {\n      return this.priceCache.get(symbol) || null\n    }\n\n    const prices = await fetchMarketPrices([symbol])\n    if (prices.length > 0) {\n      this.priceCache.set(symbol, prices[0])\n      return prices[0]\n    }\n\n    return null\n  }\n\n  /**\n   * Subscribe to live price updates\n   */\n  subscribeLivePrice(symbol: string, callback: (price: MarketPrice) => void): () => void {\n    // Unsubscribe from previous subscription if exists\n    if (this.subscriptions.has(symbol)) {\n      this.subscriptions.get(symbol)?.()\n    }\n\n    // Subscribe to new price updates\n    const unsubscribe = subscribeToLivePrice(symbol, (price) => {\n      this.priceCache.set(symbol, price)\n      callback(price)\n    })\n\n    this.subscriptions.set(symbol, unsubscribe)\n    return unsubscribe\n  }\n\n  /**\n   * Unsubscribe from price updates\n   */\n  unsubscribeLivePrice(symbol: string): void {\n    if (this.subscriptions.has(symbol)) {\n      this.subscriptions.get(symbol)?.()\n      this.subscriptions.delete(symbol)\n    }\n  }\n\n  /**\n   * Clear all subscriptions\n   */\n  clearAllSubscriptions(): void {\n    this.subscriptions.forEach((unsubscribe) => unsubscribe())\n    this.subscriptions.clear()\n  }\n}\n\n// Export singleton instance\nexport const priceService = new PriceService()\n","size_bytes":1747},"components/ui/toaster.tsx":{"content":"'use client'\n\nimport { useToast } from '@/hooks/use-toast'\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from '@/components/ui/toast'\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":786},"lib/settlement.ts":{"content":"import type { SomniaSDK } from \"@somnia-chain/streams\"\n\ninterface BetSettlement {\n  betId: number\n  marketId: number\n  bettor: string\n  position: boolean\n  amount: number\n  payout: number\n  settled: boolean\n  timestamp: number\n}\n\nexport async function recordSettlement(sdk: SomniaSDK, settlement: BetSettlement) {\n  try {\n    const schema = {\n      fields: [\n        { name: \"betId\", type: \"uint64\" },\n        { name: \"marketId\", type: \"uint64\" },\n        { name: \"settled\", type: \"uint8\" },\n        { name: \"payout\", type: \"uint256\" },\n      ],\n    }\n\n    const data = {\n      betId: settlement.betId,\n      marketId: settlement.marketId,\n      settled: settlement.settled ? 1 : 0,\n      payout: settlement.payout,\n    }\n\n    await sdk.streams.set(`settlement-${settlement.betId}`, Buffer.from(JSON.stringify(data)), schema)\n\n    return true\n  } catch (error) {\n    console.error(\"Error recording settlement:\", error)\n    return false\n  }\n}\n\nexport async function calculatePayout(betAmount: number, betOdds: number, won: boolean): Promise<number> {\n  if (!won) return 0\n  return betAmount + (betAmount * (betOdds - 100)) / 100\n}\n","size_bytes":1130},"lib/contract-utils.ts":{"content":"import { createPublicClient, createWalletClient, http } from \"viem\"\nimport { somniaTestnet } from \"./somnia-chain\"\n\n// ABI for PredictionMarket contract\nexport const PREDICTION_MARKET_ABI = [\n  {\n    inputs: [\n      { internalType: \"string\", name: \"_title\", type: \"string\" },\n      { internalType: \"string\", name: \"_category\", type: \"string\" },\n    ],\n    name: \"createMarket\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"uint256\", name: \"_marketId\", type: \"uint256\" },\n      { internalType: \"bool\", name: \"_position\", type: \"bool\" },\n      { internalType: \"uint256\", name: \"_amount\", type: \"uint256\" },\n    ],\n    name: \"placeBet\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_marketId\", type: \"uint256\" }],\n    name: \"getMarket\",\n    outputs: [\n      {\n        components: [\n          { internalType: \"uint256\", name: \"id\", type: \"uint256\" },\n          { internalType: \"string\", name: \"title\", type: \"string\" },\n          { internalType: \"string\", name: \"category\", type: \"string\" },\n          { internalType: \"uint256\", name: \"yesPool\", type: \"uint256\" },\n          { internalType: \"uint256\", name: \"noPool\", type: \"uint256\" },\n          { internalType: \"uint256\", name: \"createdAt\", type: \"uint256\" },\n          { internalType: \"uint256\", name: \"resolvedAt\", type: \"uint256\" },\n          { internalType: \"bool\", name: \"resolved\", type: \"bool\" },\n          { internalType: \"bool\", name: \"outcome\", type: \"bool\" },\n          { internalType: \"address\", name: \"oracle\", type: \"address\" },\n        ],\n        internalType: \"struct PredictionMarket.Market\",\n        name: \"\",\n        type: \"tuple\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_betId\", type: \"uint256\" }],\n    name: \"getBet\",\n    outputs: [\n      {\n        components: [\n          { internalType: \"uint256\", name: \"id\", type: \"uint256\" },\n          { internalType: \"uint256\", name: \"marketId\", type: \"uint256\" },\n          { internalType: \"address\", name: \"bettor\", type: \"address\" },\n          { internalType: \"bool\", name: \"position\", type: \"bool\" },\n          { internalType: \"uint256\", name: \"amount\", type: \"uint256\" },\n          { internalType: \"uint256\", name: \"odds\", type: \"uint256\" },\n          { internalType: \"uint256\", name: \"timestamp\", type: \"uint256\" },\n          { internalType: \"bool\", name: \"settled\", type: \"bool\" },\n          { internalType: \"uint256\", name: \"payout\", type: \"uint256\" },\n        ],\n        internalType: \"struct PredictionMarket.Bet\",\n        name: \"\",\n        type: \"tuple\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n] as const\n\nexport const PREDICTION_MARKET_ADDRESS = process.env.NEXT_PUBLIC_PREDICTION_MARKET_CONTRACT || \"0x0\"\n\nexport async function createMarketOnChain(title: string, category: string) {\n  try {\n    const walletClient = createWalletClient({\n      chain: somniaTestnet,\n      transport: http(process.env.NEXT_PUBLIC_SOMNIA_RPC_URL),\n    })\n\n    // This would be called by owner/admin\n    console.log(`Creating market: ${title} in category: ${category}`)\n    return true\n  } catch (error) {\n    console.error(\"Error creating market:\", error)\n    return false\n  }\n}\n\nexport async function getMarketData(marketId: number) {\n  try {\n    const publicClient = createPublicClient({\n      chain: somniaTestnet,\n      transport: http(process.env.NEXT_PUBLIC_SOMNIA_RPC_URL),\n    })\n\n    // Would fetch from contract\n    return null\n  } catch (error) {\n    console.error(\"Error fetching market:\", error)\n    return null\n  }\n}\n","size_bytes":3764},"hooks/use-toast.ts":{"content":"'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3945},"lib/market-data.ts":{"content":"export interface MarketTemplate {\n  category: string\n  title: string\n  description: string\n  icon: string\n}\n\nexport const MARKET_CATEGORIES = {\n  crypto: {\n    name: \"Crypto\",\n    icon: \"\",\n    templates: [\n      { title: \"Bitcoin above $60k by end of year?\", category: \"Crypto\" },\n      { title: \"Ethereum flips Bitcoin by market cap?\", category: \"Crypto\" },\n      { title: \"Solana rebounds to $200+?\", category: \"Crypto\" },\n      { title: \"Major stablecoin depeg event in 2024?\", category: \"Crypto\" },\n    ],\n  },\n  sports: {\n    name: \"Sports\",\n    icon: \"\",\n    templates: [\n      { title: \"Team A wins championship 2024?\", category: \"Sports\" },\n      { title: \"Player scores 50+ points in playoff game?\", category: \"Sports\" },\n      { title: \"Conference finals go to Game 7?\", category: \"Sports\" },\n      { title: \"Rookie wins Player of the Year?\", category: \"Sports\" },\n    ],\n  },\n  weather: {\n    name: \"Weather\",\n    icon: \"\",\n    templates: [\n      { title: \"Record high temperature this summer?\", category: \"Weather\" },\n      { title: \"Hurricane makes landfall in season?\", category: \"Weather\" },\n      { title: \"Snowfall exceeds 50 inches?\", category: \"Weather\" },\n      { title: \"Heatwave causes emergency declarations?\", category: \"Weather\" },\n    ],\n  },\n  economics: {\n    name: \"Economics\",\n    icon: \"\",\n    templates: [\n      { title: \"Federal Reserve cuts rates in 2024?\", category: \"Economics\" },\n      { title: \"Unemployment below 3.5%?\", category: \"Economics\" },\n      { title: \"Stock market hits new all-time high?\", category: \"Economics\" },\n      { title: \"Inflation rate drops below 2%?\", category: \"Economics\" },\n    ],\n  },\n  entertainment: {\n    name: \"Entertainment\",\n    icon: \"\",\n    templates: [\n      { title: \"Movie breaks $1B box office globally?\", category: \"Entertainment\" },\n      { title: \"Album debuts at #1 on charts?\", category: \"Entertainment\" },\n      { title: \"Award show viewership increases?\", category: \"Entertainment\" },\n      { title: \"New TV series renewed for season 2?\", category: \"Entertainment\" },\n    ],\n  },\n}\n\nexport function getMarketsByCategory(category: string) {\n  const cat = MARKET_CATEGORIES[category as keyof typeof MARKET_CATEGORIES]\n  return cat ? cat.templates : []\n}\n\nexport function getAllMarkets() {\n  const allMarkets = []\n  for (const category of Object.values(MARKET_CATEGORIES)) {\n    allMarkets.push(...category.templates)\n  }\n  return allMarkets\n}\n","size_bytes":2445},"components/ui/toast.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as ToastPrimitives from '@radix-ui/react-toast'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { X } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      'fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]',\n      className,\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  'group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full',\n  {\n    variants: {\n      variant: {\n        default: 'border bg-background text-foreground',\n        destructive:\n          'destructive group border-destructive bg-destructive text-destructive-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      'inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive',\n      className,\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      'absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600',\n      className,\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn('text-sm font-semibold', className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn('text-sm opacity-90', className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4863},"components/betting-interface.tsx":{"content":"'use client';\n\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { TrendingUp, TrendingDown, Zap } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { toHex } from 'viem';\n\ninterface BettingInterfaceProps {\n  selectedBet?: any;\n}\n\nexport default function BettingInterface({ selectedBet }: BettingInterfaceProps) {\n  const [betType, setBetType] = useState<'UP' | 'DOWN'>('UP');\n  const [amount, setAmount] = useState('100');\n  const [isPlacing, setIsPlacing] = useState(false);\n\n  const mockBet = selectedBet || {\n    title: 'BTC/USD Price Up in 30s',\n    description: 'Bitcoin will trade above $93,500 in the next 30 seconds',\n    odds: { up: 1.95, down: 2.05 },\n    currentPrice: 93250,\n  };\n\n  const currentOdds = betType === 'UP' ? mockBet.odds.up : mockBet.odds.down;\n  const potentialPayout = (parseFloat(amount) || 0) * currentOdds;\n  const profit = potentialPayout - (parseFloat(amount) || 0);\n\n  const handlePlaceBet = async () => {\n    setIsPlacing(true);\n    \n    try {\n      // Create bet data for blockchain\n      const betData = {\n        betType,\n        amount: parseFloat(amount),\n        odds: currentOdds,\n        potentialPayout: potentialPayout,\n        profit: profit,\n        marketTitle: mockBet.title,\n        currentPrice: mockBet.currentPrice,\n        timestamp: Date.now(),\n      };\n\n      // Publish bet data to Somnia blockchain\n      const response = await fetch('/api/somnia/emit', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          streamId: toHex('bet-stream', { size: 32 }),\n          schemaId: toHex('bet-schema-v1', { size: 32 }),\n          encodedData: toHex(JSON.stringify(betData)),\n          eventId: toHex(`bet-${Date.now()}`, { size: 32 }),\n          topics: [\n            toHex(betType, { size: 32 }),\n            toHex(amount, { size: 32 }),\n          ],\n          data: toHex(JSON.stringify(betData)),\n        }),\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        toast.success(\n          ` Bet published to Somnia blockchain!\\n${betType} for $${amount} at ${currentOdds}x odds`,\n          { duration: 4000 }\n        );\n        setAmount('100');\n      } else {\n        toast.error('Failed to publish bet to blockchain: ' + result.error);\n      }\n    } catch (error) {\n      console.error('Bet placement error:', error);\n      toast.error('Failed to place bet on blockchain');\n    } finally {\n      setIsPlacing(false);\n    }\n  };\n\n  return (\n    <div className=\"mx-auto max-w-2xl px-4 sm:px-0\">\n      <Card className=\"border-primary/20 overflow-hidden\">\n        <CardHeader className=\"border-b border-primary/15 pb-4\">\n          <CardTitle className=\"text-xl sm:text-2xl neon-glow\">{mockBet.title}</CardTitle>\n          <CardDescription className=\"text-muted-foreground mt-2 text-sm sm:text-base\">{mockBet.description}</CardDescription>\n          {mockBet.currentPrice && (\n            <div className=\"mt-4 text-xs sm:text-sm\">\n              <span className=\"text-muted-foreground\">Current: </span>\n              <span className=\"neon-glow font-bold\">${mockBet.currentPrice.toLocaleString()}</span>\n            </div>\n          )}\n        </CardHeader>\n        <CardContent className=\"space-y-6 pt-6\">\n          <div className=\"grid grid-cols-2 gap-3 sm:gap-4\">\n            <Button\n              onClick={() => setBetType('UP')}\n              className={`h-20 sm:h-24 text-sm sm:text-lg font-bold transition-all duration-300 border-2 ${\n                betType === 'UP'\n                  ? 'border-primary bg-primary/10 text-primary'\n                  : 'border-primary/20 text-muted-foreground hover:border-primary/50 hover:text-primary'\n              }`}\n              variant=\"outline\"\n            >\n              <div className=\"flex flex-col items-center gap-1\">\n                <TrendingUp className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                <div className=\"text-xs sm:text-base\">BUY (UP)</div>\n                <div className=\"text-xs opacity-75\">{mockBet.odds.up}x</div>\n              </div>\n            </Button>\n\n            <Button\n              onClick={() => setBetType('DOWN')}\n              className={`h-20 sm:h-24 text-sm sm:text-lg font-bold transition-all duration-300 border-2 ${\n                betType === 'DOWN'\n                  ? 'border-destructive bg-destructive/10 text-destructive'\n                  : 'border-primary/20 text-muted-foreground hover:border-destructive/50 hover:text-destructive'\n              }`}\n              variant=\"outline\"\n            >\n              <div className=\"flex flex-col items-center gap-1\">\n                <TrendingDown className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                <div className=\"text-xs sm:text-base\">SELL (DOWN)</div>\n                <div className=\"text-xs opacity-75\">{mockBet.odds.down}x</div>\n              </div>\n            </Button>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"bet-amount\" className=\"text-foreground font-semibold text-sm sm:text-base\">\n              Bet Amount (USD)\n            </Label>\n            <div className=\"flex items-center gap-2\">\n              <Input\n                id=\"bet-amount\"\n                type=\"number\"\n                value={amount}\n                onChange={e => setAmount(e.target.value)}\n                placeholder=\"100\"\n                className=\"flex-1 border-primary/20 text-foreground bg-input focus:border-primary transition-colors text-sm sm:text-base\"\n              />\n              <span className=\"text-xs sm:text-sm font-semibold text-muted-foreground px-3\">USD</span>\n            </div>\n          </div>\n\n          <div className=\"space-y-3 rounded-lg border border-primary/15 bg-primary/5 p-3 sm:p-4\">\n            <div className=\"flex justify-between items-center text-xs sm:text-sm\">\n              <span className=\"text-muted-foreground\">Bet Amount:</span>\n              <span className=\"font-semibold text-foreground\">${(parseFloat(amount) || 0).toFixed(2)}</span>\n            </div>\n            <div className=\"flex justify-between items-center text-xs sm:text-sm\">\n              <span className=\"text-muted-foreground\">Multiplier:</span>\n              <span className={`font-semibold ${betType === 'UP' ? 'neon-glow' : 'text-destructive'}`}>\n                {currentOdds}x\n              </span>\n            </div>\n            <div className=\"border-t border-primary/15 pt-3 space-y-2\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"font-bold text-foreground text-xs sm:text-sm\">Potential Payout:</span>\n                <span className={`text-lg sm:text-2xl font-bold ${betType === 'UP' ? 'neon-glow' : 'text-destructive'}`}>\n                  ${potentialPayout.toFixed(2)}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center text-xs sm:text-sm\">\n                <span className=\"text-muted-foreground\">Profit if Win:</span>\n                <span className={`font-semibold ${profit >= 0 ? 'text-primary' : 'text-destructive'}`}>\n                  +${profit.toFixed(2)}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <Button\n            onClick={handlePlaceBet}\n            disabled={!amount || isPlacing || parseFloat(amount) <= 0}\n            className=\"w-full h-12 sm:h-14 bg-primary text-primary-foreground hover:bg-primary/90 text-base sm:text-lg font-bold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed gap-2\"\n          >\n            <Zap className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n            {isPlacing ? 'Placing Bet...' : `Place ${betType} Bet`}\n          </Button>\n\n          <div className=\"pt-4 border-t border-primary/15 text-center\">\n            <p className=\"text-xs text-muted-foreground\">\n               Bets settle automatically when market conditions are met\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":8259},"components/ui/avatar.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1099},"components/navbar.tsx":{"content":"\"use client\"\n\nimport { useState } from \"react\"\nimport { Menu, X, LogOut, History } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\n\ninterface NavbarProps {\n  walletAddress?: string\n  onHistoryClick: () => void\n  onDisconnect: () => void\n  onNavigate?: (page: string) => void\n  currentPage?: string\n}\n\nexport default function Navbar({ walletAddress, onHistoryClick, onDisconnect, onNavigate, currentPage }: NavbarProps) {\n  const [isOpen, setIsOpen] = useState(false)\n\n  const handleNavigation = (page: string) => {\n    onNavigate?.(page)\n    setIsOpen(false)\n  }\n\n  return (\n    <nav className=\"sticky top-0 z-50 bg-white border-b border-primary/10\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16\">\n          {/* Logo */}\n          <div className=\"flex-shrink-0\">\n            <h1 className=\"text-2xl sm:text-3xl font-bold text-primary\">Somnia</h1>\n          </div>\n\n          {/* Desktop Navigation */}\n          <div className=\"hidden md:flex items-center gap-8\">\n            <button\n              onClick={() => handleNavigation(\"markets\")}\n              className={`text-sm font-medium transition-colors cursor-pointer ${\n                currentPage === \"markets\" ? \"text-primary\" : \"text-foreground hover:text-primary\"\n              }`}\n            >\n              Markets\n            </button>\n            <button\n              onClick={() => handleNavigation(\"leaderboard\")}\n              className={`text-sm font-medium transition-colors cursor-pointer ${\n                currentPage === \"leaderboard\" ? \"text-primary\" : \"text-foreground hover:text-primary\"\n              }`}\n            >\n              Leaderboard\n            </button>\n            <button\n              onClick={() => handleNavigation(\"stats\")}\n              className={`text-sm font-medium transition-colors cursor-pointer ${\n                currentPage === \"stats\" ? \"text-primary\" : \"text-foreground hover:text-primary\"\n              }`}\n            >\n              Stats\n            </button>\n            <a\n              href=\"https://docs.somnia.network/somnia-data-streams?_gl=1*14hui2e*_ga*NTk2ODM4MTA5LjE3NjM1NTc2MjU.*_ga_VRC3ZXBRT1*czE3NjM2Nzk4ODAkbzMkZzAkdDE3NjM2Nzk4ODAkajYwJGwwJGgw\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-sm font-medium text-foreground hover:text-primary transition-colors\"\n            >\n              Docs\n            </a>\n          </div>\n\n          {/* Actions */}\n          <div className=\"hidden md:flex items-center gap-3\">\n            {walletAddress && (\n              <>\n                <Button\n                  onClick={onHistoryClick}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"border-primary/20 text-primary hover:bg-primary/5 bg-transparent\"\n                >\n                  <History className=\"w-4 h-4 mr-2\" />\n                  History\n                </Button>\n                <Button\n                  onClick={onDisconnect}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"border-destructive/20 text-destructive hover:bg-destructive/5 bg-transparent\"\n                >\n                  <LogOut className=\"w-4 h-4 mr-2\" />\n                  Disconnect\n                </Button>\n              </>\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button\n            onClick={() => setIsOpen(!isOpen)}\n            className=\"md:hidden p-2 rounded-lg border border-primary/20 text-primary hover:bg-primary/5\"\n          >\n            {isOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\n          </button>\n        </div>\n\n        {/* Mobile Navigation */}\n        {isOpen && (\n          <div className=\"md:hidden pb-4 space-y-3 border-t border-primary/10 pt-4\">\n            <button\n              onClick={() => handleNavigation(\"markets\")}\n              className=\"block text-sm font-medium text-foreground hover:text-primary cursor-pointer\"\n            >\n              Markets\n            </button>\n            <button\n              onClick={() => handleNavigation(\"leaderboard\")}\n              className=\"block text-sm font-medium text-foreground hover:text-primary cursor-pointer\"\n            >\n              Leaderboard\n            </button>\n            <button\n              onClick={() => handleNavigation(\"stats\")}\n              className=\"block text-sm font-medium text-foreground hover:text-primary cursor-pointer\"\n            >\n              Stats\n            </button>\n            <a\n              href=\"https://docs.somnia.network/somnia-data-streams?_gl=1*14hui2e*_ga*NTk2ODM4MTA5LjE3NjM1NTc2MjU.*_ga_VRC3ZXBRT1*czE3NjM2Nzk4ODAkbzMkZzAkdDE3NjM2Nzk4ODAkajYwJGwwJGgw\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"block text-sm font-medium text-foreground hover:text-primary\"\n            >\n              Docs\n            </a>\n            {walletAddress && (\n              <>\n                <Button\n                  onClick={onHistoryClick}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"w-full border-primary/20 text-primary hover:bg-primary/5 bg-transparent\"\n                >\n                  <History className=\"w-4 h-4 mr-2\" />\n                  History\n                </Button>\n                <Button\n                  onClick={onDisconnect}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"w-full border-destructive/20 text-destructive hover:bg-destructive/5 bg-transparent\"\n                >\n                  <LogOut className=\"w-4 h-4 mr-2\" />\n                  Disconnect\n                </Button>\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    </nav>\n  )\n}\n","size_bytes":5879},"LEADERBOARD_IMPROVEMENTS.md":{"content":"#  Leaderboard Improvements - More Realistic & Reasonable\n\n## What Changed:\n\n### 1. **More Realistic Player Stats**\n- Expanded from 5 to 10 players for better competition\n- More balanced win/loss ratios (no one has 84% win rate anymore)\n- Top player now has 75% win rate (much more realistic)\n- Lower ranked players show negative profits (real betting scenario)\n\n### 2. **Reasonable Profit Values**\n**Before:** $15,420 profit (unrealistic)\n**After:** +$4,250 SMN profit (reasonable)\n\n- All values now use Somnia (SMN) currency\n- Profits range from +$4,250 (top) to -$840 (bottom)\n- Shows both winners and losers (more honest)\n\n### 3. **Better Visual Indicators**\n- Green (+) for positive profits\n- Red (-) for negative profits\n- Clear SMN currency labels\n- Better formatted volume numbers\n\n### 4. **More Realistic Win Rates**\n**Rank 1:** 75% win rate (127W/43L) - Previously 84%\n**Rank 5:** 43% win rate (64W/86L) - Previously 48%\n**Rank 10:** 21% win rate (31W/119L) - Shows losing players\n\n### 5. **Dynamic Description**\nThe subtitle now changes based on filter:\n- \"Top performers ranked by total profit\"\n- \"Top performers ranked by total wins\"\n- \"Top performers ranked by current win streak\"\n\n## Key Improvements:\n\n **10 players** instead of 5 (more competitive)\n **Realistic win rates** (21% - 75% range)\n **Both winners and losers** shown (ranks 8-10 are in red)\n **Proper currency** (SMN tokens, not just $)\n **More balanced stats** (no superhuman win rates)\n **Clear profit/loss indicators** (green/red colors)\n\n## How to View:\n\n1. Connect your wallet\n2. Click \"Leaderboard\" in the navbar\n3. See realistic player rankings with:\n   - Wins/Losses\n   - Win rate progress bars\n   - Total profit/loss in SMN\n   - Trading volume\n   - Current streak\n\nThe leaderboard now reflects a real prediction market where some win and some lose!\n","size_bytes":1856},"components/ui/form.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\nimport { Slot } from '@radix-ui/react-slot'\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  useFormState,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from 'react-hook-form'\n\nimport { cn } from '@/lib/utils'\nimport { Label } from '@/components/ui/label'\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue,\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState } = useFormContext()\n  const formState = useFormState({ name: fieldContext.name })\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error('useFormField should be used within <FormField>')\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue,\n)\n\nfunction FormItem({ className, ...props }: React.ComponentProps<'div'>) {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div\n        data-slot=\"form-item\"\n        className={cn('grid gap-2', className)}\n        {...props}\n      />\n    </FormItemContext.Provider>\n  )\n}\n\nfunction FormLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      data-slot=\"form-label\"\n      data-error={!!error}\n      className={cn('data-[error=true]:text-destructive', className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n}\n\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      data-slot=\"form-control\"\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n}\n\nfunction FormDescription({ className, ...props }: React.ComponentProps<'p'>) {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      data-slot=\"form-description\"\n      id={formDescriptionId}\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction FormMessage({ className, ...props }: React.ComponentProps<'p'>) {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? '') : props.children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      data-slot=\"form-message\"\n      id={formMessageId}\n      className={cn('text-destructive text-sm', className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n}\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":3761},"components/theme-provider.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport {\n  ThemeProvider as NextThemesProvider,\n  type ThemeProviderProps,\n} from 'next-themes'\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>\n}\n","size_bytes":292},"components/ui/accordion.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as AccordionPrimitive from '@radix-ui/react-accordion'\nimport { ChevronDownIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Accordion({\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Root>) {\n  return <AccordionPrimitive.Root data-slot=\"accordion\" {...props} />\n}\n\nfunction AccordionItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Item>) {\n  return (\n    <AccordionPrimitive.Item\n      data-slot=\"accordion-item\"\n      className={cn('border-b last:border-b-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AccordionTrigger({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {\n  return (\n    <AccordionPrimitive.Header className=\"flex\">\n      <AccordionPrimitive.Trigger\n        data-slot=\"accordion-trigger\"\n        className={cn(\n          'focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <ChevronDownIcon className=\"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200\" />\n      </AccordionPrimitive.Trigger>\n    </AccordionPrimitive.Header>\n  )\n}\n\nfunction AccordionContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Content>) {\n  return (\n    <AccordionPrimitive.Content\n      data-slot=\"accordion-content\"\n      className=\"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm\"\n      {...props}\n    >\n      <div className={cn('pt-0 pb-4', className)}>{children}</div>\n    </AccordionPrimitive.Content>\n  )\n}\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":2054},"components/ui/item.tsx":{"content":"import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\nimport { Separator } from '@/components/ui/separator'\n\nfunction ItemGroup({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      role=\"list\"\n      data-slot=\"item-group\"\n      className={cn('group/item-group flex flex-col', className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"item-separator\"\n      orientation=\"horizontal\"\n      className={cn('my-0', className)}\n      {...props}\n    />\n  )\n}\n\nconst itemVariants = cva(\n  'group/item flex items-center border border-transparent text-sm rounded-md transition-colors [a&]:hover:bg-accent/50 [a&]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n  {\n    variants: {\n      variant: {\n        default: 'bg-transparent',\n        outline: 'border-border',\n        muted: 'bg-muted/50',\n      },\n      size: {\n        default: 'p-4 gap-4 ',\n        sm: 'py-3 px-4 gap-2.5',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Item({\n  className,\n  variant = 'default',\n  size = 'default',\n  asChild = false,\n  ...props\n}: React.ComponentProps<'div'> &\n  VariantProps<typeof itemVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'div'\n  return (\n    <Comp\n      data-slot=\"item\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(itemVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nconst itemMediaVariants = cva(\n  'flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none group-has-[[data-slot=item-description]]/item:translate-y-0.5',\n  {\n    variants: {\n      variant: {\n        default: 'bg-transparent',\n        icon: \"size-8 border rounded-sm bg-muted [&_svg:not([class*='size-'])]:size-4\",\n        image:\n          'size-10 rounded-sm overflow-hidden [&_img]:size-full [&_img]:object-cover',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction ItemMedia({\n  className,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof itemMediaVariants>) {\n  return (\n    <div\n      data-slot=\"item-media\"\n      data-variant={variant}\n      className={cn(itemMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction ItemContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"item-content\"\n      className={cn(\n        'flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"item-title\"\n      className={cn(\n        'flex w-fit items-center gap-2 text-sm leading-snug font-medium',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemDescription({ className, ...props }: React.ComponentProps<'p'>) {\n  return (\n    <p\n      data-slot=\"item-description\"\n      className={cn(\n        'text-muted-foreground line-clamp-2 text-sm leading-normal font-normal text-balance',\n        '[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemActions({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"item-actions\"\n      className={cn('flex items-center gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"item-header\"\n      className={cn(\n        'flex basis-full items-center justify-between gap-2',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"item-footer\"\n      className={cn(\n        'flex basis-full items-center justify-between gap-2',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Item,\n  ItemMedia,\n  ItemContent,\n  ItemActions,\n  ItemGroup,\n  ItemSeparator,\n  ItemTitle,\n  ItemDescription,\n  ItemHeader,\n  ItemFooter,\n}\n","size_bytes":4503},"components/dashboard.tsx":{"content":"\"use client\"\n\nimport { useState } from \"react\"\nimport Navbar from \"./navbar\"\nimport AvailableBets from \"./available-bets\"\nimport BetHistoryModal from \"./bet-history-modal\"\nimport BettingInterface from \"./betting-interface\"\nimport AdminDashboard from \"./admin-dashboard\"\nimport Leaderboard from \"./leaderboard\"\nimport UserStats from \"./user-stats\"\nimport { SomniaButton } from \"./somnia-button\"\n\ninterface DashboardProps {\n  onDisconnect: () => void\n  walletAddress?: string\n}\n\nexport default function Dashboard({ onDisconnect, walletAddress }: DashboardProps) {\n  const [selectedBet, setSelectedBet] = useState<any>(null)\n  const [showHistory, setShowHistory] = useState(false)\n  const [activeView, setActiveView] = useState<\"markets\" | \"place-bet\" | \"admin\" | \"leaderboard\" | \"stats\">(\"markets\")\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Navbar with navigation */}\n      <Navbar\n        walletAddress={walletAddress}\n        onHistoryClick={() => setShowHistory(true)}\n        onDisconnect={onDisconnect}\n        onNavigate={(page) => {\n          if (page === \"markets\") setActiveView(\"markets\")\n          if (page === \"leaderboard\") setActiveView(\"leaderboard\")\n          if (page === \"stats\") setActiveView(\"stats\")\n        }}\n        currentPage={activeView === \"place-bet\" ? \"markets\" : activeView}\n      />\n\n      <main className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n        {/* Markets or Place Bet Section */}\n        {activeView === \"markets\" && (\n          <>\n            <div className=\"mb-8 flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-3xl font-bold text-foreground\">Welcome, Dev Mide</h2>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  {walletAddress\n                    ? `Connected: ${walletAddress.slice(0, 6)}...${walletAddress.slice(-4)}`\n                    : \"Connected to Somnia Testnet\"}\n                </p>\n              </div>\n              <div className=\"flex gap-2\">\n                <SomniaButton eventId=\"live-bets\" variant=\"outline\" />\n              </div>\n            </div>\n\n            <AvailableBets\n              onSelectBet={(bet) => {\n                setSelectedBet(bet)\n                setActiveView(\"place-bet\")\n              }}\n            />\n          </>\n        )}\n\n        {activeView === \"place-bet\" && (\n          <div className=\"space-y-4\">\n            <button\n              onClick={() => setActiveView(\"markets\")}\n              className=\"text-primary hover:text-primary/80 font-medium text-sm flex items-center gap-2\"\n            >\n               Back to Markets\n            </button>\n            <BettingInterface selectedBet={selectedBet} />\n          </div>\n        )}\n\n        {activeView === \"leaderboard\" && <Leaderboard />}\n\n        {activeView === \"stats\" && <UserStats walletAddress={walletAddress} />}\n\n        {activeView === \"admin\" && (\n          <div className=\"space-y-4\">\n            <button\n              onClick={() => setActiveView(\"markets\")}\n              className=\"text-primary hover:text-primary/80 font-medium text-sm flex items-center gap-2\"\n            >\n               Back to Markets\n            </button>\n            <AdminDashboard walletAddress={walletAddress} />\n          </div>\n        )}\n      </main>\n\n      {showHistory && <BetHistoryModal onClose={() => setShowHistory(false)} walletAddress={walletAddress} />}\n    </div>\n  )\n}\n","size_bytes":3447},"components/footer.tsx":{"content":"\"use client\"\nimport { Github, Twitter, Mail, Shield, BarChart3, Zap } from \"lucide-react\"\n\nexport default function Footer() {\n  const currentYear = new Date().getFullYear()\n\n  return (\n    <footer className=\"bg-white border-t border-primary/10 mt-16\">\n      <div className=\"max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8\">\n        {/* Main Footer Content */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8\">\n          {/* Brand */}\n          <div className=\"md:col-span-1\">\n            <div className=\"flex items-center gap-2 mb-4\">\n              <div className=\"w-10 h-10 rounded-lg bg-primary text-white flex items-center justify-center font-bold\">\n                \n              </div>\n              <span className=\"text-xl font-bold text-foreground\">Somnia</span>\n            </div>\n            <p className=\"text-sm text-muted-foreground\">\n              Decentralized prediction markets built on blockchain technology.\n            </p>\n            <div className=\"flex gap-4 mt-4\">\n              <a href=\"#\" className=\"text-muted-foreground hover:text-primary transition-colors\" title=\"GitHub\">\n                <Github className=\"w-5 h-5\" />\n              </a>\n              <a href=\"#\" className=\"text-muted-foreground hover:text-primary transition-colors\" title=\"Twitter\">\n                <Twitter className=\"w-5 h-5\" />\n              </a>\n              <a href=\"#\" className=\"text-muted-foreground hover:text-primary transition-colors\" title=\"Email\">\n                <Mail className=\"w-5 h-5\" />\n              </a>\n            </div>\n          </div>\n\n          {/* Platform */}\n          <div>\n            <h4 className=\"font-semibold text-foreground mb-4 flex items-center gap-2\">\n              <Zap className=\"w-4 h-4 text-primary\" />\n              Platform\n            </h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  Dashboard\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  Markets\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"https://soremi-portfolio.vercel.app/\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-sm text-muted-foreground hover:text-primary transition-colors\"\n                >\n                  Portfolio\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"https://docs.somnia.network/somnia-data-streams?_gl=1*14hui2e*_ga*NTk2ODM4MTA5LjE3NjM1NTc2MjU.*_ga_VRC3ZXBRT1*czE3NjM2Nzk4ODAkbzMkZzAkdDE3NjM2Nzk4ODAkajYwJGwwJGgw\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-sm text-muted-foreground hover:text-primary transition-colors\"\n                >\n                  Docs\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          {/* Resources */}\n          <div>\n            <h4 className=\"font-semibold text-foreground mb-4 flex items-center gap-2\">\n              <BarChart3 className=\"w-4 h-4 text-primary\" />\n              Resources\n            </h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  Documentation\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  API Reference\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  Blog\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  FAQ\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          {/* Legal */}\n          <div>\n            <h4 className=\"font-semibold text-foreground mb-4 flex items-center gap-2\">\n              <Shield className=\"w-4 h-4 text-primary\" />\n              Legal\n            </h4>\n            <ul className=\"space-y-2\">\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  Privacy Policy\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  Terms of Service\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  Cookie Policy\n                </a>\n              </li>\n              <li>\n                <a href=\"#\" className=\"text-sm text-muted-foreground hover:text-primary transition-colors\">\n                  Disclaimer\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        {/* Divider */}\n        <div className=\"border-t border-primary/10 pt-8\">\n          {/* Footer Bottom */}\n          <div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\n            <div className=\"text-center md:text-left\">\n              <p className=\"text-sm text-muted-foreground\">\n                Built with passion by <span className=\"font-semibold text-primary\">Mide</span>  {currentYear}\n              </p>\n              <p className=\"text-xs text-muted-foreground mt-1\">Empowering decentralized prediction markets</p>\n            </div>\n            <div className=\"flex gap-4\">\n              <a href=\"#\" className=\"text-xs text-muted-foreground hover:text-primary transition-colors\">\n                Status\n              </a>\n              <a href=\"#\" className=\"text-xs text-muted-foreground hover:text-primary transition-colors\">\n                Support\n              </a>\n              <a href=\"#\" className=\"text-xs text-muted-foreground hover:text-primary transition-colors\">\n                Contact\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  )\n}\n","size_bytes":6477},"components/ui/input-group.tsx":{"content":"'use client'\n\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Textarea } from '@/components/ui/textarea'\n\nfunction InputGroup({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"input-group\"\n      role=\"group\"\n      className={cn(\n        'group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none',\n        'h-9 has-[>textarea]:h-auto',\n\n        // Variants based on alignment.\n        'has-[>[data-align=inline-start]]:[&>input]:pl-2',\n        'has-[>[data-align=inline-end]]:[&>input]:pr-2',\n        'has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3',\n        'has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3',\n\n        // Focus state.\n        'has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]',\n\n        // Error state.\n        'has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40',\n\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupAddonVariants = cva(\n  \"text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50\",\n  {\n    variants: {\n      align: {\n        'inline-start':\n          'order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]',\n        'inline-end':\n          'order-last pr-3 has-[>button]:mr-[-0.4rem] has-[>kbd]:mr-[-0.35rem]',\n        'block-start':\n          'order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5',\n        'block-end':\n          'order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5',\n      },\n    },\n    defaultVariants: {\n      align: 'inline-start',\n    },\n  },\n)\n\nfunction InputGroupAddon({\n  className,\n  align = 'inline-start',\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof inputGroupAddonVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"input-group-addon\"\n      data-align={align}\n      className={cn(inputGroupAddonVariants({ align }), className)}\n      onClick={(e) => {\n        if ((e.target as HTMLElement).closest('button')) {\n          return\n        }\n        e.currentTarget.parentElement?.querySelector('input')?.focus()\n      }}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupButtonVariants = cva(\n  'text-sm shadow-none flex gap-2 items-center',\n  {\n    variants: {\n      size: {\n        xs: \"h-6 gap-1 px-2 rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-3.5 has-[>svg]:px-2\",\n        sm: 'h-8 px-2.5 gap-1.5 rounded-md has-[>svg]:px-2.5',\n        'icon-xs':\n          'size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0',\n        'icon-sm': 'size-8 p-0 has-[>svg]:p-0',\n      },\n    },\n    defaultVariants: {\n      size: 'xs',\n    },\n  },\n)\n\nfunction InputGroupButton({\n  className,\n  type = 'button',\n  variant = 'ghost',\n  size = 'xs',\n  ...props\n}: Omit<React.ComponentProps<typeof Button>, 'size'> &\n  VariantProps<typeof inputGroupButtonVariants>) {\n  return (\n    <Button\n      type={type}\n      data-size={size}\n      variant={variant}\n      className={cn(inputGroupButtonVariants({ size }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupText({ className, ...props }: React.ComponentProps<'span'>) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground flex items-center gap-2 text-sm [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupInput({\n  className,\n  ...props\n}: React.ComponentProps<'input'>) {\n  return (\n    <Input\n      data-slot=\"input-group-control\"\n      className={cn(\n        'flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupTextarea({\n  className,\n  ...props\n}: React.ComponentProps<'textarea'>) {\n  return (\n    <Textarea\n      data-slot=\"input-group-control\"\n      className={cn(\n        'flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupText,\n  InputGroupInput,\n  InputGroupTextarea,\n}\n","size_bytes":5031},"app/page.tsx":{"content":"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport WalletConnect from \"@/components/wallet-connect\"\nimport Dashboard from \"@/components/dashboard\"\nimport Footer from \"@/components/footer\"\n\nexport default function Home() {\n  const [isConnected, setIsConnected] = useState(false)\n  const [walletAddress, setWalletAddress] = useState<string>(\"\")\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const savedAddress = localStorage.getItem(\"walletAddress\")\n    const savedConnected = localStorage.getItem(\"isConnected\")\n\n    if (savedAddress && savedConnected === \"true\") {\n      setWalletAddress(savedAddress)\n      setIsConnected(true)\n    }\n    setIsLoading(false)\n  }, [])\n\n  const handleWalletConnect = (address: string) => {\n    setWalletAddress(address)\n    setIsConnected(true)\n    localStorage.setItem(\"walletAddress\", address)\n    localStorage.setItem(\"isConnected\", \"true\")\n  }\n\n  const handleDisconnect = () => {\n    setIsConnected(false)\n    setWalletAddress(\"\")\n    localStorage.removeItem(\"walletAddress\")\n    localStorage.removeItem(\"isConnected\")\n  }\n\n  if (isLoading) {\n    return (\n      <main className=\"min-h-screen bg-background flex flex-col items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-muted-foreground\">Loading...</p>\n        </div>\n      </main>\n    )\n  }\n\n  return (\n    <main className=\"min-h-screen bg-background flex flex-col\">\n      <div className=\"flex-1\">\n        {!isConnected ? (\n          <WalletConnect onConnect={handleWalletConnect} />\n        ) : (\n          <Dashboard walletAddress={walletAddress} onDisconnect={handleDisconnect} />\n        )}\n      </div>\n      <Footer />\n    </main>\n  )\n}\n","size_bytes":1721},"styles/globals.css":{"content":"@import 'tailwindcss';\n@import 'tw-animate-css';\n\n@custom-variant dark (&:is(.dark *));\n\n:root {\n  --background: oklch(1 0 0);\n  --foreground: oklch(0.145 0 0);\n  --card: oklch(1 0 0);\n  --card-foreground: oklch(0.145 0 0);\n  --popover: oklch(1 0 0);\n  --popover-foreground: oklch(0.145 0 0);\n  --primary: oklch(0.205 0 0);\n  --primary-foreground: oklch(0.985 0 0);\n  --secondary: oklch(0.97 0 0);\n  --secondary-foreground: oklch(0.205 0 0);\n  --muted: oklch(0.97 0 0);\n  --muted-foreground: oklch(0.556 0 0);\n  --accent: oklch(0.97 0 0);\n  --accent-foreground: oklch(0.205 0 0);\n  --destructive: oklch(0.577 0.245 27.325);\n  --destructive-foreground: oklch(0.577 0.245 27.325);\n  --border: oklch(0.922 0 0);\n  --input: oklch(0.922 0 0);\n  --ring: oklch(0.708 0 0);\n  --chart-1: oklch(0.646 0.222 41.116);\n  --chart-2: oklch(0.6 0.118 184.704);\n  --chart-3: oklch(0.398 0.07 227.392);\n  --chart-4: oklch(0.828 0.189 84.429);\n  --chart-5: oklch(0.769 0.188 70.08);\n  --radius: 0.625rem;\n  --sidebar: oklch(0.985 0 0);\n  --sidebar-foreground: oklch(0.145 0 0);\n  --sidebar-primary: oklch(0.205 0 0);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.97 0 0);\n  --sidebar-accent-foreground: oklch(0.205 0 0);\n  --sidebar-border: oklch(0.922 0 0);\n  --sidebar-ring: oklch(0.708 0 0);\n}\n\n.dark {\n  --background: oklch(0.145 0 0);\n  --foreground: oklch(0.985 0 0);\n  --card: oklch(0.145 0 0);\n  --card-foreground: oklch(0.985 0 0);\n  --popover: oklch(0.145 0 0);\n  --popover-foreground: oklch(0.985 0 0);\n  --primary: oklch(0.985 0 0);\n  --primary-foreground: oklch(0.205 0 0);\n  --secondary: oklch(0.269 0 0);\n  --secondary-foreground: oklch(0.985 0 0);\n  --muted: oklch(0.269 0 0);\n  --muted-foreground: oklch(0.708 0 0);\n  --accent: oklch(0.269 0 0);\n  --accent-foreground: oklch(0.985 0 0);\n  --destructive: oklch(0.396 0.141 25.723);\n  --destructive-foreground: oklch(0.637 0.237 25.331);\n  --border: oklch(0.269 0 0);\n  --input: oklch(0.269 0 0);\n  --ring: oklch(0.439 0 0);\n  --chart-1: oklch(0.488 0.243 264.376);\n  --chart-2: oklch(0.696 0.17 162.48);\n  --chart-3: oklch(0.769 0.188 70.08);\n  --chart-4: oklch(0.627 0.265 303.9);\n  --chart-5: oklch(0.645 0.246 16.439);\n  --sidebar: oklch(0.205 0 0);\n  --sidebar-foreground: oklch(0.985 0 0);\n  --sidebar-primary: oklch(0.488 0.243 264.376);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.269 0 0);\n  --sidebar-accent-foreground: oklch(0.985 0 0);\n  --sidebar-border: oklch(0.269 0 0);\n  --sidebar-ring: oklch(0.439 0 0);\n}\n\n@theme inline {\n  --font-sans: 'Geist', 'Geist Fallback';\n  --font-mono: 'Geist Mono', 'Geist Mono Fallback';\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-card: var(--card);\n  --color-card-foreground: var(--card-foreground);\n  --color-popover: var(--popover);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-destructive-foreground: var(--destructive-foreground);\n  --color-border: var(--border);\n  --color-input: var(--input);\n  --color-ring: var(--ring);\n  --color-chart-1: var(--chart-1);\n  --color-chart-2: var(--chart-2);\n  --color-chart-3: var(--chart-3);\n  --color-chart-4: var(--chart-4);\n  --color-chart-5: var(--chart-5);\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  --color-sidebar: var(--sidebar);\n  --color-sidebar-foreground: var(--sidebar-foreground);\n  --color-sidebar-primary: var(--sidebar-primary);\n  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);\n  --color-sidebar-accent: var(--sidebar-accent);\n  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);\n  --color-sidebar-border: var(--sidebar-border);\n  --color-sidebar-ring: var(--sidebar-ring);\n}\n\n@layer base {\n  * {\n    @apply border-border outline-ring/50;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n","size_bytes":4353},"components/ui/card.tsx":{"content":"import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1990},"components/header.tsx":{"content":"'use client';\n\nimport React from 'react';\nimport { HistoryIcon } from 'lucide-react';\n\ninterface HeaderProps {\n  onHistoryClick?: () => void;\n}\n\nexport default function Header({ onHistoryClick }: HeaderProps) {\n  return (\n    <header className=\"sticky top-0 z-50 border-b border-primary/15 bg-white/80 backdrop-blur-sm\">\n      <div className=\"flex items-center justify-between px-4 py-4 sm:px-6 lg:px-8\">\n        <div>\n          <h1 className=\"text-3xl sm:text-4xl font-bold neon-glow\">Somniai</h1>\n          <p className=\"text-xs sm:text-sm text-muted-foreground mt-1\">Prediction Markets  Real-Time Data</p>\n        </div>\n        {onHistoryClick && (\n          <button\n            onClick={onHistoryClick}\n            className=\"p-2 sm:p-3 rounded-lg border border-primary/20 text-primary hover:bg-primary/5 hover:border-primary/40 transition-all duration-300\"\n            title=\"View bet history\"\n            aria-label=\"View bet history\"\n          >\n            <HistoryIcon className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n          </button>\n        )}\n      </div>\n    </header>\n  );\n}\n","size_bytes":1084},"components/ui/toggle.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as TogglePrimitive from '@radix-ui/react-toggle'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-transparent',\n        outline:\n          'border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground',\n      },\n      size: {\n        default: 'h-9 px-2 min-w-9',\n        sm: 'h-8 px-1.5 min-w-8',\n        lg: 'h-10 px-2.5 min-w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Toggle({\n  className,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof TogglePrimitive.Root> &\n  VariantProps<typeof toggleVariants>) {\n  return (\n    <TogglePrimitive.Root\n      data-slot=\"toggle\"\n      className={cn(toggleVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Toggle, toggleVariants }\n","size_bytes":1571},"components/ui/radio-group.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group'\nimport { CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction RadioGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\n  return (\n    <RadioGroupPrimitive.Root\n      data-slot=\"radio-group\"\n      className={cn('grid gap-3', className)}\n      {...props}\n    />\n  )\n}\n\nfunction RadioGroupItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\n  return (\n    <RadioGroupPrimitive.Item\n      data-slot=\"radio-group-item\"\n      className={cn(\n        'border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator\n        data-slot=\"radio-group-indicator\"\n        className=\"relative flex items-center justify-center\"\n      >\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n}\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"contracts/PredictionMarket.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.19;\n\nimport \"@openzeppelin/contracts/token/ERC20/IERC20.sol\";\nimport \"@openzeppelin/contracts/access/Ownable.sol\";\nimport \"@openzeppelin/contracts/security/ReentrancyGuard.sol\";\n\ncontract PredictionMarket is Ownable, ReentrancyGuard {\n    struct Market {\n        uint256 id;\n        string title;\n        string category;\n        uint256 yesPool;\n        uint256 noPool;\n        uint256 createdAt;\n        uint256 resolvedAt;\n        bool resolved;\n        bool outcome; // true = YES wins, false = NO wins\n        address oracle;\n    }\n\n    struct Bet {\n        uint256 id;\n        uint256 marketId;\n        address bettor;\n        bool position; // true = YES, false = NO\n        uint256 amount;\n        uint256 odds;\n        uint256 timestamp;\n        bool settled;\n        uint256 payout;\n    }\n\n    mapping(uint256 => Market) public markets;\n    mapping(uint256 => Bet) public bets;\n    mapping(address => uint256[]) public userBets;\n    \n    uint256 public marketCount;\n    uint256 public betCount;\n    address public oracleAddress;\n\n    event MarketCreated(uint256 indexed marketId, string title, address indexed creator);\n    event BetPlaced(uint256 indexed betId, uint256 indexed marketId, address indexed bettor, bool position, uint256 amount);\n    event MarketResolved(uint256 indexed marketId, bool outcome);\n    event BetSettled(uint256 indexed betId, address indexed bettor, uint256 payout);\n\n    constructor(address _oracle) {\n        oracleAddress = _oracle;\n    }\n\n    function createMarket(string memory _title, string memory _category) external onlyOwner returns (uint256) {\n        uint256 marketId = marketCount++;\n        \n        markets[marketId] = Market({\n            id: marketId,\n            title: _title,\n            category: _category,\n            yesPool: 0,\n            noPool: 0,\n            createdAt: block.timestamp,\n            resolvedAt: 0,\n            resolved: false,\n            outcome: false,\n            oracle: msg.sender\n        });\n\n        emit MarketCreated(marketId, _title, msg.sender);\n        return marketId;\n    }\n\n    function placeBet(uint256 _marketId, bool _position, uint256 _amount) external nonReentrant {\n        require(!markets[_marketId].resolved, \"Market already resolved\");\n        require(_amount > 0, \"Amount must be greater than 0\");\n\n        // Calculate odds based on pool\n        uint256 odds = calculateOdds(_marketId, _position);\n        \n        uint256 betId = betCount++;\n        bets[betId] = Bet({\n            id: betId,\n            marketId: _marketId,\n            bettor: msg.sender,\n            position: _position,\n            amount: _amount,\n            odds: odds,\n            timestamp: block.timestamp,\n            settled: false,\n            payout: 0\n        });\n\n        // Update pools\n        if (_position) {\n            markets[_marketId].yesPool += _amount;\n        } else {\n            markets[_marketId].noPool += _amount;\n        }\n\n        userBets[msg.sender].push(betId);\n        emit BetPlaced(betId, _marketId, msg.sender, _position, _amount);\n    }\n\n    function calculateOdds(uint256 _marketId, bool _position) public view returns (uint256) {\n        Market memory market = markets[_marketId];\n        uint256 totalPool = market.yesPool + market.noPool;\n        \n        if (totalPool == 0) return 100; // 1:1 odds initially\n        \n        if (_position) {\n            // YES odds: total / yes\n            return (totalPool * 100) / (market.yesPool + 1); // +1 to prevent division by 0\n        } else {\n            // NO odds: total / no\n            return (totalPool * 100) / (market.noPool + 1);\n        }\n    }\n\n    function resolveMarket(uint256 _marketId, bool _outcome) external {\n        require(msg.sender == oracleAddress, \"Only oracle can resolve\");\n        require(!markets[_marketId].resolved, \"Market already resolved\");\n\n        markets[_marketId].resolved = true;\n        markets[_marketId].outcome = _outcome;\n        markets[_marketId].resolvedAt = block.timestamp;\n\n        emit MarketResolved(_marketId, _outcome);\n    }\n\n    function settleBet(uint256 _betId) external nonReentrant {\n        Bet storage bet = bets[_betId];\n        Market memory market = markets[bet.marketId];\n\n        require(market.resolved, \"Market not resolved\");\n        require(!bet.settled, \"Bet already settled\");\n        require(bet.bettor == msg.sender, \"Not bet owner\");\n\n        bet.settled = true;\n\n        if (bet.position == market.outcome) {\n            // Winning bet - calculate payout\n            uint256 winningPool = market.outcome ? market.yesPool : market.noPool;\n            uint256 losingPool = market.outcome ? market.noPool : market.yesPool;\n            \n            uint256 payout = bet.amount + ((bet.amount * losingPool) / winningPool);\n            bet.payout = payout;\n\n            emit BetSettled(_betId, bet.bettor, payout);\n        } else {\n            // Losing bet\n            bet.payout = 0;\n            emit BetSettled(_betId, bet.bettor, 0);\n        }\n    }\n\n    function getUserBets(address _user) external view returns (uint256[] memory) {\n        return userBets[_user];\n    }\n\n    function getMarket(uint256 _marketId) external view returns (Market memory) {\n        return markets[_marketId];\n    }\n\n    function getBet(uint256 _betId) external view returns (Bet memory) {\n        return bets[_betId];\n    }\n}\n","size_bytes":5408},"SOMNIA_STREAMS_GUIDE.md":{"content":"# Somnia Streams Implementation Guide\n\nThis guide explains how to use the Somnia Data Streams real-time functionality that has been implemented in your application.\n\n## What's Been Implemented\n\n### 1. API Routes\n\n#### `/app/api/somnia/subscribe/route.ts`\nA server API route that subscribes to Somnia data streams in real-time.\n\n**Endpoint:** `GET /api/somnia/subscribe`\n\n**Query Parameters:**\n- `eventId` (optional) - The specific event ID to subscribe to\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"message\": \"Subscription active\",\n  \"eventId\": \"your-event-id\"\n}\n```\n\n**How it works:**\n- Creates a Somnia SDK instance\n- Subscribes to the specified event stream\n- Listens for real-time data updates\n- Logs new data to the server console\n\n#### `/app/api/somnia/emit/route.ts`\nA server API route that emits data to Somnia streams.\n\n**Endpoint:** `POST /api/somnia/emit`\n\n**Request Body:**\n```json\n{\n  \"schemaId\": \"0x...\",\n  \"encodedData\": \"0x...\",\n  \"eventId\": \"your-event-id\",\n  \"topics\": [],\n  \"data\": \"0x\",\n  \"streamId\": \"optional-stream-id\"\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"tx\": \"transaction-hash\",\n  \"message\": \"Data emitted successfully\"\n}\n```\n\n### 2. Client Components\n\n#### `/components/somnia-button.tsx`\nA reusable React component that triggers stream subscriptions.\n\n**Props:**\n- `eventId?: string` - Optional event ID to subscribe to\n- `variant?: \"default\" | \"outline\" | \"ghost\" | \"link\" | \"destructive\" | \"secondary\"` - Button style variant\n- `className?: string` - Additional CSS classes\n\n**Usage Example:**\n```tsx\nimport { SomniaButton } from \"@/components/somnia-button\"\n\nexport default function MyPage() {\n  return (\n    <div>\n      <h1>My Page</h1>\n      <SomniaButton eventId=\"my-event-123\" />\n    </div>\n  )\n}\n```\n\n### 3. Demo Page\n\n#### `/app/somnia-demo/page.tsx`\nA fully functional demo page showing both subscription and emission capabilities.\n\n**Access it at:** `http://localhost:5000/somnia-demo`\n\n**Features:**\n- Subscribe to real-time data streams\n- Emit sample data to streams\n- Interactive UI with toast notifications\n- Detailed explanations of how it works\n\n## How to Use\n\n### Subscribe to a Stream\n\n1. Navigate to `/somnia-demo` in your browser\n2. Enter an event ID (or use the default)\n3. Click \"Start Somnia Stream\"\n4. The subscription will activate and listen for real-time updates\n5. All new data will be logged to the server console\n\n**Programmatically:**\n```typescript\n// From a client component\nconst response = await fetch(\"/api/somnia/subscribe?eventId=my-event\")\nconst data = await response.json()\nconsole.log(data.message) // \"Subscription active\"\n```\n\n### Emit Data to a Stream\n\n1. Navigate to `/somnia-demo`\n2. Click \"Emit Sample Data\"\n3. Data will be published to the blockchain\n4. All subscribers will receive the update\n\n**Programmatically:**\n```typescript\n// From a client component\nconst response = await fetch(\"/api/somnia/emit\", {\n  method: \"POST\",\n  headers: { \"Content-Type\": \"application/json\" },\n  body: JSON.stringify({\n    schemaId: \"0x1234...\",\n    encodedData: \"0x...\",\n    eventId: \"my-event\",\n    topics: [],\n    data: \"0x\"\n  })\n})\nconst result = await response.json()\nconsole.log(result.tx) // Transaction hash\n```\n\n## Integration with Your Betting App\n\nYou can integrate this streaming functionality with your existing betting platform:\n\n### Example: Real-Time Bet Updates\n\n```typescript\n// Subscribe to bet events\nconst subscribeToLiveBets = async () => {\n  await fetch(\"/api/somnia/subscribe?eventId=live-bets\")\n}\n\n// Emit a new bet\nconst emitNewBet = async (betData) => {\n  const response = await fetch(\"/api/somnia/emit\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      schemaId: betData.schemaId,\n      encodedData: betData.encodedData,\n      eventId: \"live-bets\",\n      topics: [betData.marketId],\n      data: betData.rawData\n    })\n  })\n  return response.json()\n}\n```\n\n## Files Created\n\n-  `/app/api/somnia/subscribe/route.ts` - Subscription API endpoint\n-  `/app/api/somnia/emit/route.ts` - Data emission API endpoint  \n-  `/components/somnia-button.tsx` - Reusable subscription button component\n-  `/app/somnia-demo/page.tsx` - Interactive demo page\n\n## Testing the Implementation\n\n1. **Start the development server** (already running on port 5000)\n2. **Navigate to** `http://localhost:5000/somnia-demo`\n3. **Click \"Start Somnia Stream\"** to activate a subscription\n4. **Click \"Emit Sample Data\"** to send test data\n5. **Check the server console** to see real-time updates\n\n## Next Steps\n\n1. **Configure Event IDs**: Replace placeholder event IDs with your actual Somnia event IDs\n2. **Add Wallet Integration**: Connect the emit functionality to your wallet for signing transactions\n3. **Customize Data Schema**: Modify the data structure to match your specific use case\n4. **Error Handling**: Add more robust error handling for production use\n5. **WebSocket Alternative**: For client-side subscriptions, consider implementing WebSocket connections\n\n## Need Help?\n\n- Check the [Somnia Documentation](https://docs.somnia.network)\n- Review the existing `lib/somnia-sdk.ts` for more SDK methods\n- Look at the betting interface components for real-world usage examples\n\n---\n\n**Built with Somnia Data Streams** \n","size_bytes":5277},"FEATURES.md":{"content":"# Somniai - Complete Feature Set\n\n## Core Features\n\n### 1. Wallet Integration\n- Support for multiple wallets: MetaMask, Coinbase Wallet, Trust Wallet, WalletConnect\n- Secure wallet connection with session persistence\n- Display connected wallet address in header\n- One-click disconnect functionality\n\n### 2. Real-Time Prediction Markets\n- Live market data with 3-second refresh cycles\n- Real-time price updates and odds adjustments\n- Place bets with instant confirmation\n- Buy (YES) and Sell (NO) betting mechanics\n- Automatic odds calculation based on pool reserves\n\n### 3. Somnia Data Streams Integration\n- All bet data published to Somnia Data Streams\n- Immutable transaction records\n- Real-time event subscriptions\n- User bet history retrieval from blockchain\n\n### 4. Bet Management\n- View available markets across multiple categories\n- Place bets with customizable amounts\n- Real-time bet history with filtering\n- Win/loss tracking and statistics\n\n### 5. Smart Contracts (Solidity)\n- PredictionMarket.sol contract for on-chain settlements\n- Automated payout calculations\n- Oracle-based market resolution\n- Pool-based odds mechanics\n\n### 6. Automated Market Maker (AMM)\n- Constant product formula (x*y=k) for dynamic odds\n- Liquidity pools for each market\n- Buy/sell mechanics that adjust odds in real-time\n- Liquidity provider support with LP tokens\n\n### 7. Oracle Integration\n- Price data feeds from oracle endpoints\n- Market outcome determination\n- Historical price tracking\n- Confidence scoring for resolutions\n\n### 8. Admin Dashboard\n- Create new prediction markets\n- Manage market categories (Crypto, Sports, Weather, Economics, Entertainment)\n- Resolve markets with YES/NO outcomes\n- Monitor total volume and active bets\n- Delete markets if needed\n\n### 9. Leaderboard\n- Top players ranked by profit, wins, or streak\n- Configurable timeframes (Week, Month, All Time)\n- Display win rates, total volume, and streaks\n- Real-time position tracking\n\n### 10. User Statistics Dashboard\n- Personal performance metrics (wins, losses, win rate)\n- Profit trend visualization with line chart\n- Bet category distribution (pie chart)\n- Streak tracking (current and best)\n- Average bet size and total volume\n- Responsive charts and analytics\n\n### 11. Responsive Design\n- Mobile-first approach with Tailwind CSS\n- Fully responsive on all screen sizes\n- Touch-friendly navigation and controls\n- Fast load times with optimized assets\n\n## Market Categories\n\n- **Crypto**: Bitcoin, Ethereum, altcoin predictions\n- **Sports**: Team winners, championship predictions, player stats\n- **Weather**: Temperature records, extreme weather events\n- **Economics**: Interest rates, inflation, stock market indices\n- **Entertainment**: Box office records, awards, releases\n\n## Technical Stack\n\n- **Frontend**: Next.js 16, React 19, TypeScript\n- **Styling**: Tailwind CSS v4, shadcn/ui components\n- **Blockchain**: Viem for web3 interactions\n- **Data**: Somnia Data Streams SDK for immutable records\n- **Smart Contracts**: Solidity (EVM-compatible)\n- **Charts**: Recharts for data visualization\n\n## Security Features\n\n- Row-level security on blockchain data\n- Secure wallet connection with no key exposure\n- Non-custodial bet management\n- Smart contract auditing recommendations\n- Oracle-based dispute resolution\n\n## Future Enhancements\n\n- Multi-chain deployment\n- Governance token for community voting\n- Referral rewards program\n- Advanced analytics and signals\n- Mobile app for iOS/Android\n- Telegram/Discord bots for notifications\n","size_bytes":3510},"lib/oracle-service.ts":{"content":"interface OraclePrice {\n  asset: string\n  price: number\n  timestamp: number\n  source: string\n}\n\ninterface OracleOutcome {\n  marketId: number\n  resolved: boolean\n  outcome?: boolean\n  resolvedAt?: number\n  confidence: number\n}\n\nexport class OracleService {\n  private oracleEndpoint: string\n\n  constructor(endpoint = \"https://oracle.somnia.network\") {\n    this.oracleEndpoint = endpoint\n  }\n\n  async getPriceData(asset: string): Promise<OraclePrice | null> {\n    try {\n      const response = await fetch(`${this.oracleEndpoint}/price/${asset}`)\n      if (!response.ok) return null\n      return await response.json()\n    } catch (error) {\n      console.error(\"Error fetching oracle price:\", error)\n      return null\n    }\n  }\n\n  async resolveMarketOutcome(\n    marketId: number,\n    marketData: {\n      title: string\n      category: string\n      createdAt: number\n    },\n  ): Promise<OracleOutcome> {\n    try {\n      // Parse market title to extract resolution condition\n      const outcome = await this.determineOutcome(marketData)\n\n      return {\n        marketId,\n        resolved: true,\n        outcome,\n        resolvedAt: Date.now(),\n        confidence: 0.95,\n      }\n    } catch (error) {\n      console.error(\"Error resolving market:\", error)\n      return {\n        marketId,\n        resolved: false,\n        confidence: 0,\n      }\n    }\n  }\n\n  private async determineOutcome(marketData: any): Promise<boolean> {\n    // Logic to determine YES/NO outcome based on market parameters\n    // This would integrate with external data sources\n    return Math.random() > 0.5\n  }\n\n  // Get historical price data for trend analysis\n  async getHistoricalPrices(asset: string, days: number): Promise<OraclePrice[]> {\n    try {\n      const response = await fetch(`${this.oracleEndpoint}/historical/${asset}?days=${days}`)\n      if (!response.ok) return []\n      return await response.json()\n    } catch (error) {\n      console.error(\"Error fetching historical prices:\", error)\n      return []\n    }\n  }\n}\n\nexport const oracleService = new OracleService()\n","size_bytes":2046},"components/ui/calendar.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport {\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n} from 'lucide-react'\nimport { DayButton, DayPicker, getDefaultClassNames } from 'react-day-picker'\n\nimport { cn } from '@/lib/utils'\nimport { Button, buttonVariants } from '@/components/ui/button'\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = 'label',\n  buttonVariant = 'ghost',\n  formatters,\n  components,\n  ...props\n}: React.ComponentProps<typeof DayPicker> & {\n  buttonVariant?: React.ComponentProps<typeof Button>['variant']\n}) {\n  const defaultClassNames = getDefaultClassNames()\n\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\n        'bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent',\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className,\n      )}\n      captionLayout={captionLayout}\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString('default', { month: 'short' }),\n        ...formatters,\n      }}\n      classNames={{\n        root: cn('w-fit', defaultClassNames.root),\n        months: cn(\n          'flex gap-4 flex-col md:flex-row relative',\n          defaultClassNames.months,\n        ),\n        month: cn('flex flex-col w-full gap-4', defaultClassNames.month),\n        nav: cn(\n          'flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between',\n          defaultClassNames.nav,\n        ),\n        button_previous: cn(\n          buttonVariants({ variant: buttonVariant }),\n          'size-(--cell-size) aria-disabled:opacity-50 p-0 select-none',\n          defaultClassNames.button_previous,\n        ),\n        button_next: cn(\n          buttonVariants({ variant: buttonVariant }),\n          'size-(--cell-size) aria-disabled:opacity-50 p-0 select-none',\n          defaultClassNames.button_next,\n        ),\n        month_caption: cn(\n          'flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)',\n          defaultClassNames.month_caption,\n        ),\n        dropdowns: cn(\n          'w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5',\n          defaultClassNames.dropdowns,\n        ),\n        dropdown_root: cn(\n          'relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md',\n          defaultClassNames.dropdown_root,\n        ),\n        dropdown: cn(\n          'absolute bg-popover inset-0 opacity-0',\n          defaultClassNames.dropdown,\n        ),\n        caption_label: cn(\n          'select-none font-medium',\n          captionLayout === 'label'\n            ? 'text-sm'\n            : 'rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5',\n          defaultClassNames.caption_label,\n        ),\n        table: 'w-full border-collapse',\n        weekdays: cn('flex', defaultClassNames.weekdays),\n        weekday: cn(\n          'text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none',\n          defaultClassNames.weekday,\n        ),\n        week: cn('flex w-full mt-2', defaultClassNames.week),\n        week_number_header: cn(\n          'select-none w-(--cell-size)',\n          defaultClassNames.week_number_header,\n        ),\n        week_number: cn(\n          'text-[0.8rem] select-none text-muted-foreground',\n          defaultClassNames.week_number,\n        ),\n        day: cn(\n          'relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none',\n          defaultClassNames.day,\n        ),\n        range_start: cn(\n          'rounded-l-md bg-accent',\n          defaultClassNames.range_start,\n        ),\n        range_middle: cn('rounded-none', defaultClassNames.range_middle),\n        range_end: cn('rounded-r-md bg-accent', defaultClassNames.range_end),\n        today: cn(\n          'bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none',\n          defaultClassNames.today,\n        ),\n        outside: cn(\n          'text-muted-foreground aria-selected:text-muted-foreground',\n          defaultClassNames.outside,\n        ),\n        disabled: cn(\n          'text-muted-foreground opacity-50',\n          defaultClassNames.disabled,\n        ),\n        hidden: cn('invisible', defaultClassNames.hidden),\n        ...classNames,\n      }}\n      components={{\n        Root: ({ className, rootRef, ...props }) => {\n          return (\n            <div\n              data-slot=\"calendar\"\n              ref={rootRef}\n              className={cn(className)}\n              {...props}\n            />\n          )\n        },\n        Chevron: ({ className, orientation, ...props }) => {\n          if (orientation === 'left') {\n            return (\n              <ChevronLeftIcon className={cn('size-4', className)} {...props} />\n            )\n          }\n\n          if (orientation === 'right') {\n            return (\n              <ChevronRightIcon\n                className={cn('size-4', className)}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <ChevronDownIcon className={cn('size-4', className)} {...props} />\n          )\n        },\n        DayButton: CalendarDayButton,\n        WeekNumber: ({ children, ...props }) => {\n          return (\n            <td {...props}>\n              <div className=\"flex size-(--cell-size) items-center justify-center text-center\">\n                {children}\n              </div>\n            </td>\n          )\n        },\n        ...components,\n      }}\n      {...props}\n    />\n  )\n}\n\nfunction CalendarDayButton({\n  className,\n  day,\n  modifiers,\n  ...props\n}: React.ComponentProps<typeof DayButton>) {\n  const defaultClassNames = getDefaultClassNames()\n\n  const ref = React.useRef<HTMLButtonElement>(null)\n  React.useEffect(() => {\n    if (modifiers.focused) ref.current?.focus()\n  }, [modifiers.focused])\n\n  return (\n    <Button\n      ref={ref}\n      variant=\"ghost\"\n      size=\"icon\"\n      data-day={day.date.toLocaleDateString()}\n      data-selected-single={\n        modifiers.selected &&\n        !modifiers.range_start &&\n        !modifiers.range_end &&\n        !modifiers.range_middle\n      }\n      data-range-start={modifiers.range_start}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      className={cn(\n        'data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70',\n        defaultClassNames.day,\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Calendar, CalendarDayButton }\n","size_bytes":7679},"components/ui/breadcrumb.tsx":{"content":"import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { ChevronRight, MoreHorizontal } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Breadcrumb({ ...props }: React.ComponentProps<'nav'>) {\n  return <nav aria-label=\"breadcrumb\" data-slot=\"breadcrumb\" {...props} />\n}\n\nfunction BreadcrumbList({ className, ...props }: React.ComponentProps<'ol'>) {\n  return (\n    <ol\n      data-slot=\"breadcrumb-list\"\n      className={cn(\n        'text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbItem({ className, ...props }: React.ComponentProps<'li'>) {\n  return (\n    <li\n      data-slot=\"breadcrumb-item\"\n      className={cn('inline-flex items-center gap-1.5', className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbLink({\n  asChild,\n  className,\n  ...props\n}: React.ComponentProps<'a'> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : 'a'\n\n  return (\n    <Comp\n      data-slot=\"breadcrumb-link\"\n      className={cn('hover:text-foreground transition-colors', className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbPage({ className, ...props }: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"breadcrumb-page\"\n      role=\"link\"\n      aria-disabled=\"true\"\n      aria-current=\"page\"\n      className={cn('text-foreground font-normal', className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<'li'>) {\n  return (\n    <li\n      data-slot=\"breadcrumb-separator\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn('[&>svg]:size-3.5', className)}\n      {...props}\n    >\n      {children ?? <ChevronRight />}\n    </li>\n  )\n}\n\nfunction BreadcrumbEllipsis({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"breadcrumb-ellipsis\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn('flex size-9 items-center justify-center', className)}\n      {...props}\n    >\n      <MoreHorizontal className=\"size-4\" />\n      <span className=\"sr-only\">More</span>\n    </span>\n  )\n}\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2358},"lib/viem-client.ts":{"content":"import { createPublicClient, createWalletClient, http } from \"viem\"\nimport { somniaTestnet } from \"viem/chains\"\n\n/**\n * Create a public client for reading blockchain data\n */\nexport function createPublicClientInstance() {\n  return createPublicClient({\n    chain: somniaTestnet,\n    transport: http(),\n  })\n}\n\n/**\n * Create a wallet client for wallet interactions\n */\nexport function createWalletClientInstance() {\n  return createWalletClient({\n    chain: somniaTestnet,\n    transport: http(),\n  })\n}\n\n/**\n * Request wallet connection (MetaMask, Coinbase, etc.)\n */\nexport async function requestWalletConnection() {\n  if (!window.ethereum) {\n    throw new Error(\"No wallet extension found\")\n  }\n\n  try {\n    const accounts = await window.ethereum.request({\n      method: \"eth_requestAccounts\",\n    })\n\n    return accounts[0] as `0x${string}`\n  } catch (error) {\n    console.error(\"Wallet connection error:\", error)\n    throw error\n  }\n}\n\n/**\n * Get connected wallet accounts\n */\nexport async function getConnectedAccounts() {\n  if (!window.ethereum) {\n    return []\n  }\n\n  try {\n    const accounts = await window.ethereum.request({\n      method: \"eth_accounts\",\n    })\n\n    return accounts as `0x${string}`[]\n  } catch (error) {\n    console.error(\"Error getting accounts:\", error)\n    return []\n  }\n}\n\n/**\n * Listen for wallet account changes\n */\nexport function onAccountsChanged(callback: (accounts: `0x${string}`[]) => void) {\n  if (!window.ethereum) return\n\n  window.ethereum.on(\"accountsChanged\", (accounts: any) => {\n    callback(accounts)\n  })\n}\n\n/**\n * Listen for chain changes\n */\nexport function onChainChanged(callback: (chainId: string) => void) {\n  if (!window.ethereum) return\n\n  window.ethereum.on(\"chainChanged\", (chainId: string) => {\n    callback(chainId)\n  })\n}\n","size_bytes":1780},"lib/amm-liquidity.ts":{"content":"// Automated Market Maker (AMM) implementation for dynamic odds\n\ninterface LiquidityPool {\n  marketId: number\n  yesReserve: number\n  noReserve: number\n  k: number // Constant product invariant\n  totalLiquidity: number\n}\n\nexport class AMMEngine {\n  private pools: Map<number, LiquidityPool> = new Map()\n\n  initializePool(marketId: number, initialAmount = 10000) {\n    const pool: LiquidityPool = {\n      marketId,\n      yesReserve: initialAmount,\n      noReserve: initialAmount,\n      k: initialAmount * initialAmount,\n      totalLiquidity: initialAmount * 2,\n    }\n    this.pools.set(marketId, pool)\n    return pool\n  }\n\n  calculateSwapOutput(marketId: number, inputAmount: number, isYes: boolean): number {\n    const pool = this.pools.get(marketId)\n    if (!pool) return 0\n\n    const inputReserve = isYes ? pool.yesReserve : pool.noReserve\n    const outputReserve = isYes ? pool.noReserve : pool.yesReserve\n\n    // x * y = k formula\n    const newInputReserve = inputReserve + inputAmount\n    const newOutputReserve = pool.k / newInputReserve\n    const outputAmount = outputReserve - newOutputReserve\n\n    return outputAmount\n  }\n\n  calculateOdds(marketId: number): { yesOdds: number; noOdds: number } {\n    const pool = this.pools.get(marketId)\n    if (!pool) return { yesOdds: 1, noOdds: 1 }\n\n    const yesOdds = pool.noReserve / pool.yesReserve\n    const noOdds = pool.yesReserve / pool.noReserve\n\n    return { yesOdds, noOdds }\n  }\n\n  executeBet(\n    marketId: number,\n    betAmount: number,\n    isYes: boolean,\n  ): { outputAmount: number; newOdds: { yesOdds: number; noOdds: number } } {\n    const pool = this.pools.get(marketId)\n    if (!pool) return { outputAmount: 0, newOdds: { yesOdds: 1, noOdds: 1 } }\n\n    const outputAmount = this.calculateSwapOutput(marketId, betAmount, isYes)\n\n    // Update reserves\n    if (isYes) {\n      pool.yesReserve += betAmount\n      pool.noReserve -= outputAmount\n    } else {\n      pool.noReserve += betAmount\n      pool.yesReserve -= outputAmount\n    }\n\n    const newOdds = this.calculateOdds(marketId)\n\n    return { outputAmount, newOdds }\n  }\n\n  addLiquidity(marketId: number, yesAmount: number, noAmount: number): number {\n    const pool = this.pools.get(marketId)\n    if (!pool) return 0\n\n    const lpTokens = Math.min(yesAmount, noAmount) / Math.sqrt((pool.yesReserve * pool.noReserve) / pool.totalLiquidity)\n\n    pool.yesReserve += yesAmount\n    pool.noReserve += noAmount\n    pool.totalLiquidity += yesAmount + noAmount\n    pool.k = pool.yesReserve * pool.noReserve\n\n    return lpTokens\n  }\n\n  removeLiquidity(\n    marketId: number,\n    lpTokens: number,\n  ): {\n    yesAmount: number\n    noAmount: number\n  } {\n    const pool = this.pools.get(marketId)\n    if (!pool) return { yesAmount: 0, noAmount: 0 }\n\n    const share = lpTokens / pool.totalLiquidity\n    const yesAmount = pool.yesReserve * share\n    const noAmount = pool.noReserve * share\n\n    pool.yesReserve -= yesAmount\n    pool.noReserve -= noAmount\n    pool.totalLiquidity -= lpTokens\n\n    return { yesAmount, noAmount }\n  }\n\n  getPoolState(marketId: number): LiquidityPool | undefined {\n    return this.pools.get(marketId)\n  }\n}\n\nexport const ammEngine = new AMMEngine()\n","size_bytes":3184},"hooks/use-somnia-sdk.ts":{"content":"\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { type SDK, SchemaEncoder } from \"@somnia-chain/streams\"\nimport { createPublicClient, createWalletClient, http, custom, type Hex } from \"viem\"\nimport { initializeSDK, BET_SCHEMA, computeBetSchemaId } from \"@/lib/somnia-sdk\"\nimport { somniaTestnet } from \"@/lib/somnia-chain\"\n\n/**\n * Hook to initialize and manage Somnia SDK instance\n * Uses the connected browser wallet (window.ethereum) for authenticated operations\n */\nexport function useSomniaSDK() {\n  const [sdk, setSDK] = useState<SDK | null>(null)\n  const [schemaId, setSchemaId] = useState<Hex | null>(null)\n  const [schemaEncoder, setSchemaEncoder] = useState<SchemaEncoder | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<Error | null>(null)\n\n  useEffect(() => {\n    const initializeSDKInstance = async () => {\n      try {\n        // Create public client for reading blockchain data\n        const publicClient = createPublicClient({\n          chain: somniaTestnet,\n          transport: http(),\n        })\n\n        // Create wallet client using browser's ethereum provider (MetaMask, etc.)\n        // This ensures we use the actual connected wallet with signer capabilities\n        const walletClient = typeof window !== 'undefined' && window.ethereum\n          ? createWalletClient({\n              chain: somniaTestnet,\n              transport: custom(window.ethereum),\n            })\n          : createWalletClient({\n              chain: somniaTestnet,\n              transport: http(),\n            })\n\n        // Initialize SDK\n        const sdkInstance = initializeSDK(publicClient, walletClient)\n        setSDK(sdkInstance)\n\n        // Compute schema ID\n        const computedSchemaId = await computeBetSchemaId(sdkInstance)\n        setSchemaId(computedSchemaId)\n\n        // Create schema encoder\n        const encoder = new SchemaEncoder(BET_SCHEMA)\n        setSchemaEncoder(encoder)\n\n        setIsLoading(false)\n      } catch (err) {\n        setError(err instanceof Error ? err : new Error(\"Failed to initialize SDK\"))\n        setIsLoading(false)\n      }\n    }\n\n    initializeSDKInstance()\n  }, [])\n\n  return { sdk, schemaId, schemaEncoder, isLoading, error }\n}\n","size_bytes":2245},"components/ui/pagination.tsx":{"content":"import * as React from 'react'\nimport {\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  MoreHorizontalIcon,\n} from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\nimport { Button, buttonVariants } from '@/components/ui/button'\n\nfunction Pagination({ className, ...props }: React.ComponentProps<'nav'>) {\n  return (\n    <nav\n      role=\"navigation\"\n      aria-label=\"pagination\"\n      data-slot=\"pagination\"\n      className={cn('mx-auto flex w-full justify-center', className)}\n      {...props}\n    />\n  )\n}\n\nfunction PaginationContent({\n  className,\n  ...props\n}: React.ComponentProps<'ul'>) {\n  return (\n    <ul\n      data-slot=\"pagination-content\"\n      className={cn('flex flex-row items-center gap-1', className)}\n      {...props}\n    />\n  )\n}\n\nfunction PaginationItem({ ...props }: React.ComponentProps<'li'>) {\n  return <li data-slot=\"pagination-item\" {...props} />\n}\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<React.ComponentProps<typeof Button>, 'size'> &\n  React.ComponentProps<'a'>\n\nfunction PaginationLink({\n  className,\n  isActive,\n  size = 'icon',\n  ...props\n}: PaginationLinkProps) {\n  return (\n    <a\n      aria-current={isActive ? 'page' : undefined}\n      data-slot=\"pagination-link\"\n      data-active={isActive}\n      className={cn(\n        buttonVariants({\n          variant: isActive ? 'outline' : 'ghost',\n          size,\n        }),\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction PaginationPrevious({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) {\n  return (\n    <PaginationLink\n      aria-label=\"Go to previous page\"\n      size=\"default\"\n      className={cn('gap-1 px-2.5 sm:pl-2.5', className)}\n      {...props}\n    >\n      <ChevronLeftIcon />\n      <span className=\"hidden sm:block\">Previous</span>\n    </PaginationLink>\n  )\n}\n\nfunction PaginationNext({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) {\n  return (\n    <PaginationLink\n      aria-label=\"Go to next page\"\n      size=\"default\"\n      className={cn('gap-1 px-2.5 sm:pr-2.5', className)}\n      {...props}\n    >\n      <span className=\"hidden sm:block\">Next</span>\n      <ChevronRightIcon />\n    </PaginationLink>\n  )\n}\n\nfunction PaginationEllipsis({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      aria-hidden\n      data-slot=\"pagination-ellipsis\"\n      className={cn('flex size-9 items-center justify-center', className)}\n      {...props}\n    >\n      <MoreHorizontalIcon className=\"size-4\" />\n      <span className=\"sr-only\">More pages</span>\n    </span>\n  )\n}\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","size_bytes":2713},"components/ui/tooltip.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\n\nimport { cn } from '@/lib/utils'\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1893},"components/ui/use-toast.ts":{"content":"'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3945},"components/ui/switch.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        }\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n","size_bytes":1174},"components/ui/sonner.tsx":{"content":"'use client'\n\nimport { useTheme } from 'next-themes'\nimport { Toaster as Sonner, ToasterProps } from 'sonner'\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = 'system' } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps['theme']}\n      className=\"toaster group\"\n      style={\n        {\n          '--normal-bg': 'var(--popover)',\n          '--normal-text': 'var(--popover-foreground)',\n          '--normal-border': 'var(--border)',\n        } as React.CSSProperties\n      }\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","size_bytes":564},"components/leaderboard.tsx":{"content":"\"use client\"\n\nimport { useState } from \"react\"\nimport { TrendingUp, Trophy } from \"lucide-react\"\n\ninterface UserStats {\n  rank: number\n  address: string\n  wins: number\n  losses: number\n  totalProfit: number\n  winRate: number\n  totalVolume: number\n  streak: number\n  avatar: string\n}\n\nexport default function Leaderboard() {\n  const [leaderboard, setLeaderboard] = useState<UserStats[]>([\n    {\n      rank: 1,\n      address: \"0x742d...8f2e\",\n      wins: 127,\n      losses: 43,\n      totalProfit: 4250,\n      winRate: 75,\n      totalVolume: 18500,\n      streak: 8,\n      avatar: \"\",\n    },\n    {\n      rank: 2,\n      address: \"0x29e4...c51f\",\n      wins: 98,\n      losses: 52,\n      totalProfit: 3180,\n      winRate: 65,\n      totalVolume: 15200,\n      streak: 5,\n      avatar: \"\",\n    },\n    {\n      rank: 3,\n      address: \"0x8f4e...9d3a\",\n      wins: 89,\n      losses: 61,\n      totalProfit: 2640,\n      winRate: 59,\n      totalVolume: 12800,\n      streak: 3,\n      avatar: \"\",\n    },\n    {\n      rank: 4,\n      address: \"0x5c2a...1b8f\",\n      wins: 76,\n      losses: 74,\n      totalProfit: 1520,\n      winRate: 51,\n      totalVolume: 9600,\n      streak: 2,\n      avatar: \"\",\n    },\n    {\n      rank: 5,\n      address: \"0x9e7d...4c2b\",\n      wins: 64,\n      losses: 86,\n      totalProfit: 890,\n      winRate: 43,\n      totalVolume: 7400,\n      streak: 1,\n      avatar: \"\",\n    },\n    {\n      rank: 6,\n      address: \"0x1a2b...3c4d\",\n      wins: 58,\n      losses: 92,\n      totalProfit: 420,\n      winRate: 39,\n      totalVolume: 5800,\n      streak: 0,\n      avatar: \"\",\n    },\n    {\n      rank: 7,\n      address: \"0x4e5f...6a7b\",\n      wins: 52,\n      losses: 98,\n      totalProfit: 180,\n      winRate: 35,\n      totalVolume: 4200,\n      streak: 1,\n      avatar: \"\",\n    },\n    {\n      rank: 8,\n      address: \"0x7c8d...9e0f\",\n      wins: 45,\n      losses: 105,\n      totalProfit: -320,\n      winRate: 30,\n      totalVolume: 3500,\n      streak: 0,\n      avatar: \"\",\n    },\n    {\n      rank: 9,\n      address: \"0x2b3c...4d5e\",\n      wins: 38,\n      losses: 112,\n      totalProfit: -580,\n      winRate: 25,\n      totalVolume: 2800,\n      streak: 0,\n      avatar: \"\",\n    },\n    {\n      rank: 10,\n      address: \"0x6f7a...8b9c\",\n      wins: 31,\n      losses: 119,\n      totalProfit: -840,\n      winRate: 21,\n      totalVolume: 2100,\n      streak: 0,\n      avatar: \"\",\n    },\n  ])\n\n  const [timeframe, setTimeframe] = useState<\"all\" | \"month\" | \"week\">(\"all\")\n  const [filter, setFilter] = useState<\"profit\" | \"wins\" | \"streak\">(\"profit\")\n\n  const sortedLeaderboard = [...leaderboard].sort((a, b) => {\n    if (filter === \"profit\") return b.totalProfit - a.totalProfit\n    if (filter === \"wins\") return b.wins - a.wins\n    return b.streak - a.streak\n  })\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"mx-auto max-w-6xl px-4 py-8 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <Trophy className=\"w-8 h-8 text-primary\" />\n            <h1 className=\"text-4xl font-bold text-foreground\">Leaderboard</h1>\n          </div>\n          <p className=\"text-muted-foreground\">Top performers ranked by {filter === \"profit\" ? \"total profit\" : filter === \"wins\" ? \"total wins\" : \"current win streak\"}</p>\n        </div>\n\n        {/* Filter Controls */}\n        <div className=\"flex flex-wrap gap-4 mb-8\">\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setTimeframe(\"week\")}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                timeframe === \"week\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-card border border-border text-foreground hover:bg-secondary\"\n              }`}\n            >\n              Week\n            </button>\n            <button\n              onClick={() => setTimeframe(\"month\")}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                timeframe === \"month\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-card border border-border text-foreground hover:bg-secondary\"\n              }`}\n            >\n              Month\n            </button>\n            <button\n              onClick={() => setTimeframe(\"all\")}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                timeframe === \"all\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-card border border-border text-foreground hover:bg-secondary\"\n              }`}\n            >\n              All Time\n            </button>\n          </div>\n\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setFilter(\"profit\")}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                filter === \"profit\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-card border border-border text-foreground hover:bg-secondary\"\n              }`}\n            >\n              By Profit\n            </button>\n            <button\n              onClick={() => setFilter(\"wins\")}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                filter === \"wins\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-card border border-border text-foreground hover:bg-secondary\"\n              }`}\n            >\n              By Wins\n            </button>\n            <button\n              onClick={() => setFilter(\"streak\")}\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                filter === \"streak\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-card border border-border text-foreground hover:bg-secondary\"\n              }`}\n            >\n              By Streak\n            </button>\n          </div>\n        </div>\n\n        {/* Leaderboard Table */}\n        <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-secondary border-b border-border\">\n                <tr>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Rank</th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Player</th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Wins</th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Win Rate</th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Total Profit</th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Volume</th>\n                  <th className=\"px-6 py-4 text-left text-sm font-semibold text-foreground\">Streak</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-border\">\n                {sortedLeaderboard.map((user) => (\n                  <tr\n                    key={user.address}\n                    className={`hover:bg-secondary/50 transition-colors ${user.rank <= 3 ? \"bg-secondary/30\" : \"\"}`}\n                  >\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"text-2xl\">{user.avatar}</span>\n                        <span className=\"font-bold text-lg text-primary\">#{user.rank}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <p className=\"text-sm font-medium text-foreground\">{user.address}</p>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm font-medium text-foreground\">\n                      {user.wins}\n                      <span className=\"text-muted-foreground ml-1\">W / {user.losses} L</span>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"w-16 h-2 bg-secondary rounded-full overflow-hidden\">\n                          <div className=\"h-full bg-primary rounded-full\" style={{ width: `${user.winRate}%` }}></div>\n                        </div>\n                        <span className=\"text-sm font-medium text-foreground\">{user.winRate}%</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span\n                        className={`text-sm font-semibold ${user.totalProfit > 0 ? \"text-green-600\" : \"text-red-600\"}`}\n                      >\n                        {user.totalProfit > 0 ? \"+\" : \"\"}${user.totalProfit.toLocaleString()} SMN\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-muted-foreground\">\n                      {user.totalVolume >= 1000 ? `${(user.totalVolume / 1000).toFixed(1)}k` : user.totalVolume} SMN\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-1\">\n                        <TrendingUp className=\"w-4 h-4 text-primary\" />\n                        <span className=\"text-sm font-medium text-foreground\">{user.streak}</span>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","size_bytes":9773},"components/available-bets.tsx":{"content":"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { TrendingUp, TrendingDown } from \"lucide-react\"\n\ninterface Bet {\n  id: string\n  title: string\n  description: string\n  status: \"OPEN\" | \"CLOSED\" | \"SETTLED\"\n  odds: { up: number; down: number }\n  volume: number\n  expiresIn: string\n  category: string\n  currentPrice?: number\n  priceChange?: number\n}\n\ninterface AvailableBetsProps {\n  onSelectBet: (bet: Bet) => void\n}\n\nconst getMockBets = (): Bet[] => [\n  {\n    id: \"1\",\n    title: \"BTC/USD Price Up in 30s\",\n    description: \"Bitcoin will trade above $93,500 in the next 30 seconds\",\n    status: \"OPEN\",\n    odds: { up: 1.95, down: 2.05 },\n    volume: 450000,\n    expiresIn: \"0:00:30\",\n    category: \"Crypto\",\n    currentPrice: 93250 + Math.random() * 500,\n    priceChange: 2.1,\n  },\n  {\n    id: \"2\",\n    title: \"ETH Crosses $3,500\",\n    description: \"Ethereum will breach the $3,500 mark\",\n    status: \"OPEN\",\n    odds: { up: 2.1, down: 1.9 },\n    volume: 280000,\n    expiresIn: \"0:05:00\",\n    category: \"Crypto\",\n    currentPrice: 3450 + Math.random() * 100,\n    priceChange: -1.3,\n  },\n  {\n    id: \"3\",\n    title: \"SOL Volatility Spike\",\n    description: \"Solana will experience >2% price movement\",\n    status: \"OPEN\",\n    odds: { up: 1.85, down: 2.15 },\n    volume: 125000,\n    expiresIn: \"0:01:45\",\n    category: \"Crypto\",\n    currentPrice: 190 + Math.random() * 20,\n    priceChange: 3.5,\n  },\n  {\n    id: \"4\",\n    title: \"Market Cap Growth\",\n    description: \"Total crypto market cap will grow by 1% today\",\n    status: \"OPEN\",\n    odds: { up: 2.0, down: 2.0 },\n    volume: 890000,\n    expiresIn: \"24:00:00\",\n    category: \"Market\",\n    currentPrice: 3200000000000 + Math.random() * 50000000000,\n    priceChange: 1.8,\n  },\n  {\n    id: \"5\",\n    title: \"XRP Breaks Resistance\",\n    description: \"XRP will break through the $2.50 resistance level\",\n    status: \"OPEN\",\n    odds: { up: 1.75, down: 2.25 },\n    volume: 320000,\n    expiresIn: \"0:03:15\",\n    category: \"Crypto\",\n    currentPrice: 2.35 + Math.random() * 0.3,\n    priceChange: 4.2,\n  },\n  {\n    id: \"6\",\n    title: \"Tech Stock Surge\",\n    description: \"NASDAQ will close up more than 1% today\",\n    status: \"OPEN\",\n    odds: { up: 2.15, down: 1.85 },\n    volume: 650000,\n    expiresIn: \"6:30:00\",\n    category: \"Market\",\n    currentPrice: 15420 + Math.random() * 200,\n    priceChange: 0.85,\n  },\n]\n\nexport default function AvailableBets({ onSelectBet }: AvailableBetsProps) {\n  const [bets, setBets] = useState<Bet[]>(getMockBets())\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setBets((prevBets) =>\n        prevBets.map((bet) => ({\n          ...bet,\n          currentPrice: (bet.currentPrice || 0) + (Math.random() - 0.5) * 100,\n          priceChange: (Math.random() - 0.5) * 5,\n        })),\n      )\n    }, 3000)\n    return () => clearInterval(interval)\n  }, [])\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3\">\n        {bets.map((bet) => (\n          <Card\n            key={bet.id}\n            className=\"border-primary/15 hover:border-primary/40 hover:shadow-lg transition-all duration-300 cursor-pointer overflow-hidden group\"\n          >\n            <CardHeader className=\"pb-3\">\n              <div className=\"flex items-start justify-between gap-2\">\n                <div className=\"flex-1 min-w-0\">\n                  <CardTitle className=\"text-sm sm:text-base truncate group-hover:text-primary transition-colors\">\n                    {bet.title}\n                  </CardTitle>\n                  <CardDescription className=\"text-xs mt-1 line-clamp-2\">{bet.description}</CardDescription>\n                </div>\n                <Badge variant=\"secondary\" className=\"shrink-0 text-xs bg-primary/10 text-primary border-primary/30\">\n                  {bet.category}\n                </Badge>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"rounded-lg bg-primary/5 border border-primary/15 p-3\">\n                <p className=\"text-xs text-muted-foreground mb-1\">Current Price</p>\n                <div className=\"flex items-center justify-between\">\n                  <p className=\"text-base sm:text-lg font-bold text-primary\">\n                    ${bet.currentPrice?.toLocaleString(\"en-US\", { maximumFractionDigits: 2 })}\n                  </p>\n                  <div\n                    className={`flex items-center gap-1 text-xs sm:text-sm font-semibold ${bet.priceChange! >= 0 ? \"text-primary\" : \"text-destructive\"}`}\n                  >\n                    {bet.priceChange! >= 0 ? <TrendingUp className=\"w-4 h-4\" /> : <TrendingDown className=\"w-4 h-4\" />}\n                    {Math.abs(bet.priceChange!).toFixed(2)}%\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div className=\"rounded-lg bg-primary/10 border border-primary/20 p-2\">\n                  <p className=\"text-xs text-muted-foreground\">BUY (UP)</p>\n                  <p className=\"text-base font-bold text-primary\">{bet.odds.up.toFixed(2)}x</p>\n                </div>\n                <div className=\"rounded-lg bg-destructive/10 border border-destructive/20 p-2\">\n                  <p className=\"text-xs text-muted-foreground\">SELL (DOWN)</p>\n                  <p className=\"text-base font-bold text-destructive\">{bet.odds.down.toFixed(2)}x</p>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-3 text-xs border-t border-primary/15 pt-3\">\n                <div>\n                  <p className=\"text-muted-foreground\">Volume</p>\n                  <p className=\"font-semibold text-foreground\">${(bet.volume / 1000).toFixed(0)}K</p>\n                </div>\n                <div>\n                  <p className=\"text-muted-foreground\">Expires</p>\n                  <p className=\"font-semibold text-foreground\">{bet.expiresIn}</p>\n                </div>\n              </div>\n\n              <Button\n                onClick={() => onSelectBet(bet)}\n                className=\"w-full bg-primary text-white hover:bg-primary/90 transition-all duration-300 font-semibold text-sm\"\n              >\n                Place Bet\n              </Button>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  )\n}\n","size_bytes":6577},"app/api/somnia/subscribe/route.ts":{"content":"import { SDK } from \"@somnia-chain/streams\"\nimport { createPublicClient, createWalletClient, http } from \"viem\"\nimport { somniaTestnet } from \"@/lib/somnia-chain\"\n\nexport const dynamic = \"force-dynamic\"\n\nexport async function GET(request: Request) {\n  try {\n    const { searchParams } = new URL(request.url)\n    const eventId = searchParams.get(\"eventId\") || \"your-event-id\"\n\n    const publicClient = createPublicClient({\n      chain: somniaTestnet,\n      transport: http(),\n    })\n\n    const walletClient = createWalletClient({\n      chain: somniaTestnet,\n      transport: http(),\n    })\n\n    const sdk = new SDK({\n      public: publicClient,\n      wallet: walletClient,\n    })\n\n    const params = {\n      somniaStreamsEventId: eventId,\n      context: \"data\",\n      ethCalls: [],\n      onlyPushChanges: true,\n      onData: (data: any) => {\n        console.log(\"New stream data:\", data)\n      },\n      onError: (error: Error) => {\n        console.error(\"Stream error:\", error)\n      },\n    }\n\n    const sub = await sdk.streams.subscribe(params)\n\n    return Response.json({\n      success: true,\n      message: \"Subscription active\",\n      eventId: eventId,\n    })\n  } catch (error) {\n    console.error(\"Subscription error:\", error)\n    return Response.json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"Unknown error\",\n      },\n      { status: 500 },\n    )\n  }\n}\n","size_bytes":1406},"components/ui/resizable.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport { GripVerticalIcon } from 'lucide-react'\nimport * as ResizablePrimitive from 'react-resizable-panels'\n\nimport { cn } from '@/lib/utils'\n\nfunction ResizablePanelGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) {\n  return (\n    <ResizablePrimitive.PanelGroup\n      data-slot=\"resizable-panel-group\"\n      className={cn(\n        'flex h-full w-full data-[panel-group-direction=vertical]:flex-col',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ResizablePanel({\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.Panel>) {\n  return <ResizablePrimitive.Panel data-slot=\"resizable-panel\" {...props} />\n}\n\nfunction ResizableHandle({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) {\n  return (\n    <ResizablePrimitive.PanelResizeHandle\n      data-slot=\"resizable-handle\"\n      className={cn(\n        'bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90',\n        className,\n      )}\n      {...props}\n    >\n      {withHandle && (\n        <div className=\"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border\">\n          <GripVerticalIcon className=\"size-2.5\" />\n        </div>\n      )}\n    </ResizablePrimitive.PanelResizeHandle>\n  )\n}\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":2030},"hooks/use-mobile.ts":{"content":"import * as React from 'react'\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener('change', onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener('change', onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"components/bet-history.tsx":{"content":"'use client';\n\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\n\ninterface HistoryItem {\n  id: string;\n  title: string;\n  betType: 'UP' | 'DOWN';\n  amount: number;\n  odds: number;\n  result: 'WIN' | 'LOSS' | 'PENDING';\n  payout: number;\n  timestamp: string;\n}\n\nconst mockHistory: HistoryItem[] = [\n  {\n    id: '1',\n    title: 'BTC/USD Price Up in 30s',\n    betType: 'UP',\n    amount: 100,\n    odds: 1.95,\n    result: 'WIN',\n    payout: 195,\n    timestamp: '2 hours ago',\n  },\n  {\n    id: '2',\n    title: 'ETH Crosses $3,500',\n    betType: 'DOWN',\n    amount: 50,\n    odds: 1.9,\n    result: 'LOSS',\n    payout: 0,\n    timestamp: '4 hours ago',\n  },\n  {\n    id: '3',\n    title: 'SOL Volatility Spike',\n    betType: 'UP',\n    amount: 75,\n    odds: 1.85,\n    result: 'WIN',\n    payout: 138.75,\n    timestamp: '6 hours ago',\n  },\n  {\n    id: '4',\n    title: 'Market Cap Growth',\n    betType: 'UP',\n    amount: 200,\n    odds: 2.0,\n    result: 'PENDING',\n    payout: 0,\n    timestamp: '1 day ago',\n  },\n];\n\nexport default function BetHistory() {\n  const [filter, setFilter] = useState<'all' | 'WIN' | 'LOSS' | 'PENDING'>('all');\n\n  const filtered = filter === 'all' ? mockHistory : mockHistory.filter(h => h.result === filter);\n\n  const stats = {\n    totalBets: mockHistory.length,\n    wins: mockHistory.filter(h => h.result === 'WIN').length,\n    losses: mockHistory.filter(h => h.result === 'LOSS').length,\n    totalStaked: mockHistory.reduce((sum, h) => sum + h.amount, 0),\n    totalPayout: mockHistory.reduce((sum, h) => sum + h.payout, 0),\n    winRate: ((mockHistory.filter(h => h.result === 'WIN').length / mockHistory.filter(h => h.result !== 'PENDING').length) * 100).toFixed(1),\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid gap-4 md:grid-cols-3\">\n        <Card className=\"border-border\">\n          <CardHeader className=\"pb-2\">\n            <CardDescription>Win Rate</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-primary\">{stats.winRate}%</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">{stats.wins} wins out of {stats.wins + stats.losses} resolved</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-border\">\n          <CardHeader className=\"pb-2\">\n            <CardDescription>Total Staked</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-foreground\">${stats.totalStaked}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">{stats.totalBets} bets placed</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-border\">\n          <CardHeader className=\"pb-2\">\n            <CardDescription>Total Payout</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-primary\">${stats.totalPayout.toFixed(2)}</div>\n            <p className={`text-xs mt-1 ${stats.totalPayout > stats.totalStaked ? 'text-green-600' : 'text-destructive'}`}>\n              {stats.totalPayout > stats.totalStaked ? '+' : ''}{(stats.totalPayout - stats.totalStaked).toFixed(2)} net\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Card className=\"border-border\">\n        <CardHeader>\n          <CardTitle>Recent Bets</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"all\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4 bg-muted\">\n              <TabsTrigger value=\"all\">All</TabsTrigger>\n              <TabsTrigger value=\"WIN\">Wins</TabsTrigger>\n              <TabsTrigger value=\"LOSS\">Losses</TabsTrigger>\n              <TabsTrigger value=\"PENDING\">Pending</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"all\" className=\"space-y-3 mt-4\">\n              {filtered.map(bet => (\n                <HistoryRow key={bet.id} bet={bet} />\n              ))}\n            </TabsContent>\n            <TabsContent value=\"WIN\" className=\"space-y-3 mt-4\">\n              {mockHistory.filter(b => b.result === 'WIN').map(bet => (\n                <HistoryRow key={bet.id} bet={bet} />\n              ))}\n            </TabsContent>\n            <TabsContent value=\"LOSS\" className=\"space-y-3 mt-4\">\n              {mockHistory.filter(b => b.result === 'LOSS').map(bet => (\n                <HistoryRow key={bet.id} bet={bet} />\n              ))}\n            </TabsContent>\n            <TabsContent value=\"PENDING\" className=\"space-y-3 mt-4\">\n              {mockHistory.filter(b => b.result === 'PENDING').map(bet => (\n                <HistoryRow key={bet.id} bet={bet} />\n              ))}\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction HistoryRow({ bet }: { bet: HistoryItem }) {\n  const badgeColor = bet.result === 'WIN' ? 'bg-success text-success-foreground' : bet.result === 'LOSS' ? 'bg-destructive text-destructive-foreground' : 'bg-warning text-warning-foreground';\n\n  return (\n    <div className=\"flex items-center justify-between rounded-lg border border-border p-4 hover:bg-muted transition-colors\">\n      <div className=\"flex-1\">\n        <p className=\"font-medium text-foreground\">{bet.title}</p>\n        <p className=\"text-sm text-muted-foreground\">{bet.timestamp}</p>\n      </div>\n      <div className=\"flex items-center gap-4\">\n        <div className=\"text-right\">\n          <Badge className={`mb-1 ${bet.betType === 'UP' ? 'bg-primary' : 'bg-muted'}`}>\n            {bet.betType}\n          </Badge>\n          <p className=\"text-sm font-semibold text-foreground\">${bet.amount}</p>\n        </div>\n        <div className=\"text-right\">\n          <p className=\"text-sm text-muted-foreground\">{bet.odds}x odds</p>\n          {bet.payout > 0 && <p className=\"text-sm font-bold text-primary\">${bet.payout}</p>}\n        </div>\n        <Badge className={badgeColor}>{bet.result}</Badge>\n      </div>\n    </div>\n  );\n}\n","size_bytes":6183},"hooks/use-oracle.ts":{"content":"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { oracleService } from \"@/lib/oracle-service\"\n\ninterface UseOracleResult {\n  priceData: any\n  loading: boolean\n  error: string | null\n}\n\nexport function useOracle(asset: string) {\n  const [priceData, setPriceData] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    const fetchPrice = async () => {\n      try {\n        const data = await oracleService.getPriceData(asset)\n        if (data) {\n          setPriceData(data)\n        }\n      } catch (err) {\n        setError(\"Failed to fetch oracle data\")\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchPrice()\n    const interval = setInterval(fetchPrice, 3000)\n    return () => clearInterval(interval)\n  }, [asset])\n\n  return { priceData, loading, error }\n}\n","size_bytes":890},"components/ui/alert-dialog.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog'\n\nimport { cn } from '@/lib/utils'\nimport { buttonVariants } from '@/components/ui/button'\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn('text-lg font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: 'outline' }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":3867},"components/ui/navigation-menu.tsx":{"content":"import * as React from 'react'\nimport * as NavigationMenuPrimitive from '@radix-ui/react-navigation-menu'\nimport { cva } from 'class-variance-authority'\nimport { ChevronDownIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction NavigationMenu({\n  className,\n  children,\n  viewport = true,\n  ...props\n}: React.ComponentProps<typeof NavigationMenuPrimitive.Root> & {\n  viewport?: boolean\n}) {\n  return (\n    <NavigationMenuPrimitive.Root\n      data-slot=\"navigation-menu\"\n      data-viewport={viewport}\n      className={cn(\n        'group/navigation-menu relative flex max-w-max flex-1 items-center justify-center',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      {viewport && <NavigationMenuViewport />}\n    </NavigationMenuPrimitive.Root>\n  )\n}\n\nfunction NavigationMenuList({\n  className,\n  ...props\n}: React.ComponentProps<typeof NavigationMenuPrimitive.List>) {\n  return (\n    <NavigationMenuPrimitive.List\n      data-slot=\"navigation-menu-list\"\n      className={cn(\n        'group flex flex-1 list-none items-center justify-center gap-1',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction NavigationMenuItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof NavigationMenuPrimitive.Item>) {\n  return (\n    <NavigationMenuPrimitive.Item\n      data-slot=\"navigation-menu-item\"\n      className={cn('relative', className)}\n      {...props}\n    />\n  )\n}\n\nconst navigationMenuTriggerStyle = cva(\n  'group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1',\n)\n\nfunction NavigationMenuTrigger({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof NavigationMenuPrimitive.Trigger>) {\n  return (\n    <NavigationMenuPrimitive.Trigger\n      data-slot=\"navigation-menu-trigger\"\n      className={cn(navigationMenuTriggerStyle(), 'group', className)}\n      {...props}\n    >\n      {children}{' '}\n      <ChevronDownIcon\n        className=\"relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180\"\n        aria-hidden=\"true\"\n      />\n    </NavigationMenuPrimitive.Trigger>\n  )\n}\n\nfunction NavigationMenuContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof NavigationMenuPrimitive.Content>) {\n  return (\n    <NavigationMenuPrimitive.Content\n      data-slot=\"navigation-menu-content\"\n      className={cn(\n        'data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto',\n        'group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction NavigationMenuViewport({\n  className,\n  ...props\n}: React.ComponentProps<typeof NavigationMenuPrimitive.Viewport>) {\n  return (\n    <div\n      className={'absolute top-full left-0 isolate z-50 flex justify-center'}\n    >\n      <NavigationMenuPrimitive.Viewport\n        data-slot=\"navigation-menu-viewport\"\n        className={cn(\n          'origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]',\n          className,\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction NavigationMenuLink({\n  className,\n  ...props\n}: React.ComponentProps<typeof NavigationMenuPrimitive.Link>) {\n  return (\n    <NavigationMenuPrimitive.Link\n      data-slot=\"navigation-menu-link\"\n      className={cn(\n        \"data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction NavigationMenuIndicator({\n  className,\n  ...props\n}: React.ComponentProps<typeof NavigationMenuPrimitive.Indicator>) {\n  return (\n    <NavigationMenuPrimitive.Indicator\n      data-slot=\"navigation-menu-indicator\"\n      className={cn(\n        'data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden',\n        className,\n      )}\n      {...props}\n    >\n      <div className=\"bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md\" />\n    </NavigationMenuPrimitive.Indicator>\n  )\n}\n\nexport {\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n  navigationMenuTriggerStyle,\n}\n","size_bytes":6651},"DEPLOYMENT_GUIDE.md":{"content":"# Somnia Testnet Deployment Guide\n\n## Setup Instructions\n\n### 1. Configure Environment Variables\nCreate a `.env.local` file with your Somnia testnet RPC endpoint:\n\n\\`\\`\\`env\nNEXT_PUBLIC_SOMNIA_RPC_URL=https://rpc.somnia.network\nNEXT_PUBLIC_SOMNIA_CHAIN_ID=1149\n\\`\\`\\`\n\n### 2. Install Dependencies\n\\`\\`\\`bash\nnpm install\n# or\nyarn install\n# or\npnpm install\n\\`\\`\\`\n\n### 3. Run Locally\n\\`\\`\\`bash\nnpm run dev\n\\`\\`\\`\n\nVisit `http://localhost:3000` and connect your wallet to the Somnia testnet.\n\n### 4. Build for Production\n\\`\\`\\`bash\nnpm run build\nnpm start\n\\`\\`\\`\n\n### 5. Deploy to Vercel\n\\`\\`\\`bash\nvercel deploy\n\\`\\`\\`\n\nMake sure to add the environment variables in your Vercel project settings.\n\n## Network Configuration\n\n**Chain Details:**\n- Chain ID: 1149\n- Network: Somnia Testnet\n- RPC: https://rpc.somnia.network\n- Explorer: https://explorer.somnia.network\n\n## Wallet Setup\n\nUsers need to add Somnia testnet to their wallet:\n1. Network Name: Somnia Testnet\n2. RPC URL: https://rpc.somnia.network\n3. Chain ID: 1149\n4. Currency Symbol: SMN\n5. Explorer: https://explorer.somnia.network\n\n## Testing\n\n1. Connect your wallet (MetaMask, Coinbase, Trust Wallet)\n2. Make sure you're on Somnia testnet\n3. View available prediction markets\n4. Place test bets\n5. Check your bet history\n\nAll data is stored and retrieved from Somnia Data Streams on the testnet.\n","size_bytes":1355},"components/wallet-connect.tsx":{"content":"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { AlertCircle } from \"lucide-react\"\n\ninterface WalletConnectProps {\n  onConnect: (address: string) => void\n}\n\ninterface DetectedWallet {\n  name: string\n  icon: string\n  installed: boolean\n  provider?: any\n  isPreferred?: boolean\n}\n\ndeclare global {\n  interface Window {\n    ethereum?: any\n    trustwallet?: any\n    coinbaseWalletExtension?: any\n  }\n}\n\nexport default function WalletConnect({ onConnect }: WalletConnectProps) {\n  const [connecting, setConnecting] = useState<string | null>(null)\n  const [error, setError] = useState<string | null>(null)\n  const [wallets, setWallets] = useState<DetectedWallet[]>([])\n\n  useEffect(() => {\n    const detectWallets = () => {\n      const metaMaskProvider = window.ethereum?.isMetaMask ? window.ethereum : null\n      const coinbaseProvider = window.ethereum?.isCoinbaseWallet ? window.ethereum : null\n      const trustWalletProvider = window.ethereum?.isTrustWallet ? window.ethereum : null\n\n      const detectedWallets: DetectedWallet[] = [\n        {\n          name: \"MetaMask\",\n          icon: \"\",\n          installed: !!metaMaskProvider,\n          provider: metaMaskProvider,\n          isPreferred: true,\n        },\n        {\n          name: \"Coinbase Wallet\",\n          icon: \"\",\n          installed: !!coinbaseProvider,\n          provider: coinbaseProvider,\n        },\n        {\n          name: \"Trust Wallet\",\n          icon: \"\",\n          installed: !!trustWalletProvider,\n          provider: trustWalletProvider,\n        },\n        {\n          name: \"WalletConnect\",\n          icon: \"\",\n          installed: true, // WalletConnect is always available via web\n          provider: null,\n        },\n      ]\n\n      setWallets(detectedWallets)\n    }\n\n    detectWallets()\n    const timer = setTimeout(detectWallets, 500)\n    return () => clearTimeout(timer)\n  }, [])\n\n  const handleConnect = async (walletName: string) => {\n    setConnecting(walletName)\n    setError(null)\n\n    try {\n      if (walletName === \"WalletConnect\") {\n        window.location.href = \"https://web3modal.com/\"\n        return\n      }\n\n      const wallet = wallets.find((w) => w.name === walletName)\n\n      if (!wallet?.installed) {\n        setError(`${walletName} is not installed. Please install it first.`)\n        setConnecting(null)\n        return\n      }\n\n      if (!wallet?.provider) {\n        setError(`${walletName} provider not found.`)\n        setConnecting(null)\n        return\n      }\n\n      const accounts = await wallet.provider.request({\n        method: \"eth_requestAccounts\",\n      })\n\n      if (accounts && accounts.length > 0) {\n        onConnect(accounts[0])\n      }\n    } catch (err: any) {\n      setError(err.message || `Failed to connect to ${walletName}`)\n      setConnecting(null)\n    }\n  }\n\n  return (\n    <div className=\"flex min-h-[calc(100vh-120px)] items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md border border-primary/20 shadow-lg\">\n        <CardHeader className=\"text-center pb-6\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"w-16 h-16 rounded-full bg-primary/10 border-2 border-primary/50 flex items-center justify-center neon-glow text-2xl\">\n              \n            </div>\n          </div>\n          <CardTitle className=\"text-3xl neon-glow\">Connect Wallet</CardTitle>\n          <CardDescription className=\"text-muted-foreground mt-2\">Choose your wallet to start trading</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          {error && (\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg flex gap-2\">\n              <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\n              <p className=\"text-sm text-red-700\">{error}</p>\n            </div>\n          )}\n          {wallets.length > 0 ? (\n            wallets.map((wallet) => (\n              <Button\n                key={wallet.name}\n                onClick={() => handleConnect(wallet.name)}\n                disabled={connecting !== null || (!wallet.installed && wallet.name !== \"WalletConnect\")}\n                className={`w-full h-12 sm:h-14 border border-primary/30 text-foreground hover:bg-primary/5 hover:border-primary/60 hover:text-primary transition-all duration-300`}\n                variant=\"outline\"\n              >\n                <span className=\"text-xl\">{wallet.icon}</span>\n                <span className=\"ml-3 flex-1 text-left font-medium text-sm sm:text-base\">\n                  {wallet.name}\n                  {wallet.isPreferred && wallet.installed && \" (preferred)\"}\n                </span>\n                {connecting === wallet.name && <span className=\"text-xs text-primary\">Connecting...</span>}\n              </Button>\n            ))\n          ) : (\n            <div className=\"text-center py-6\">\n              <p className=\"text-muted-foreground text-sm mb-4\">Loading wallets...</p>\n            </div>\n          )}\n          <div className=\"pt-4 space-y-2 border-t border-primary/10\">\n            <p className=\"text-center text-xs text-muted-foreground\">Don't have a wallet?</p>\n            <div className=\"flex gap-2\">\n              <a\n                href=\"https://metamask.io\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"flex-1 text-primary hover:underline text-xs font-medium text-center\"\n              >\n                Install MetaMask\n              </a>\n              <a\n                href=\"https://trustwallet.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"flex-1 text-primary hover:underline text-xs font-medium text-center\"\n              >\n                Install Trust\n              </a>\n            </div>\n          </div>\n          <p className=\"text-center text-xs text-muted-foreground pt-2\"> Somnia Testnet Network Required</p>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n","size_bytes":6135},"components/ui/progress.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\n\nimport { cn } from '@/lib/utils'\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n","size_bytes":741},"components/ui/badge.tsx":{"content":"import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1632},"components/ui/slider.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as SliderPrimitive from '@radix-ui/react-slider'\n\nimport { cn } from '@/lib/utils'\n\nfunction Slider({\n  className,\n  defaultValue,\n  value,\n  min = 0,\n  max = 100,\n  ...props\n}: React.ComponentProps<typeof SliderPrimitive.Root>) {\n  const _values = React.useMemo(\n    () =>\n      Array.isArray(value)\n        ? value\n        : Array.isArray(defaultValue)\n          ? defaultValue\n          : [min, max],\n    [value, defaultValue, min, max],\n  )\n\n  return (\n    <SliderPrimitive.Root\n      data-slot=\"slider\"\n      defaultValue={defaultValue}\n      value={value}\n      min={min}\n      max={max}\n      className={cn(\n        'relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col',\n        className,\n      )}\n      {...props}\n    >\n      <SliderPrimitive.Track\n        data-slot=\"slider-track\"\n        className={\n          'bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5'\n        }\n      >\n        <SliderPrimitive.Range\n          data-slot=\"slider-range\"\n          className={\n            'bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full'\n          }\n        />\n      </SliderPrimitive.Track>\n      {Array.from({ length: _values.length }, (_, index) => (\n        <SliderPrimitive.Thumb\n          data-slot=\"slider-thumb\"\n          key={index}\n          className=\"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50\"\n        />\n      ))}\n    </SliderPrimitive.Root>\n  )\n}\n\nexport { Slider }\n","size_bytes":1990},"components/ui/field.tsx":{"content":"'use client'\n\nimport { useMemo } from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\nimport { Label } from '@/components/ui/label'\nimport { Separator } from '@/components/ui/separator'\n\nfunction FieldSet({ className, ...props }: React.ComponentProps<'fieldset'>) {\n  return (\n    <fieldset\n      data-slot=\"field-set\"\n      className={cn(\n        'flex flex-col gap-6',\n        'has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLegend({\n  className,\n  variant = 'legend',\n  ...props\n}: React.ComponentProps<'legend'> & { variant?: 'legend' | 'label' }) {\n  return (\n    <legend\n      data-slot=\"field-legend\"\n      data-variant={variant}\n      className={cn(\n        'mb-3 font-medium',\n        'data-[variant=legend]:text-base',\n        'data-[variant=label]:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldGroup({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"field-group\"\n      className={cn(\n        'group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nconst fieldVariants = cva(\n  'group/field flex w-full gap-3 data-[invalid=true]:text-destructive',\n  {\n    variants: {\n      orientation: {\n        vertical: ['flex-col [&>*]:w-full [&>.sr-only]:w-auto'],\n        horizontal: [\n          'flex-row items-center',\n          '[&>[data-slot=field-label]]:flex-auto',\n          'has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px',\n        ],\n        responsive: [\n          'flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto',\n          '@md/field-group:[&>[data-slot=field-label]]:flex-auto',\n          '@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px',\n        ],\n      },\n    },\n    defaultVariants: {\n      orientation: 'vertical',\n    },\n  },\n)\n\nfunction Field({\n  className,\n  orientation = 'vertical',\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof fieldVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"field\"\n      data-orientation={orientation}\n      className={cn(fieldVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction FieldContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"field-content\"\n      className={cn(\n        'group/field-content flex flex-1 flex-col gap-1.5 leading-snug',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof Label>) {\n  return (\n    <Label\n      data-slot=\"field-label\"\n      className={cn(\n        'group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50',\n        'has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4',\n        'has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"field-label\"\n      className={cn(\n        'flex w-fit items-center gap-2 text-sm leading-snug font-medium group-data-[disabled=true]/field:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldDescription({ className, ...props }: React.ComponentProps<'p'>) {\n  return (\n    <p\n      data-slot=\"field-description\"\n      className={cn(\n        'text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance',\n        'last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5',\n        '[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<'div'> & {\n  children?: React.ReactNode\n}) {\n  return (\n    <div\n      data-slot=\"field-separator\"\n      data-content={!!children}\n      className={cn(\n        'relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2',\n        className,\n      )}\n      {...props}\n    >\n      <Separator className=\"absolute inset-0 top-1/2\" />\n      {children && (\n        <span\n          className=\"bg-background text-muted-foreground relative mx-auto block w-fit px-2\"\n          data-slot=\"field-separator-content\"\n        >\n          {children}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction FieldError({\n  className,\n  children,\n  errors,\n  ...props\n}: React.ComponentProps<'div'> & {\n  errors?: Array<{ message?: string } | undefined>\n}) {\n  const content = useMemo(() => {\n    if (children) {\n      return children\n    }\n\n    if (!errors) {\n      return null\n    }\n\n    if (errors.length === 1 && errors[0]?.message) {\n      return errors[0].message\n    }\n\n    return (\n      <ul className=\"ml-4 flex list-disc flex-col gap-1\">\n        {errors.map(\n          (error, index) =>\n            error?.message && <li key={index}>{error.message}</li>,\n        )}\n      </ul>\n    )\n  }, [children, errors])\n\n  if (!content) {\n    return null\n  }\n\n  return (\n    <div\n      role=\"alert\"\n      data-slot=\"field-error\"\n      className={cn('text-destructive text-sm font-normal', className)}\n      {...props}\n    >\n      {content}\n    </div>\n  )\n}\n\nexport {\n  Field,\n  FieldLabel,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLegend,\n  FieldSeparator,\n  FieldSet,\n  FieldContent,\n  FieldTitle,\n}\n","size_bytes":6055},"lib/somnia-sdk.ts":{"content":"import { SDK, SchemaEncoder } from \"@somnia-chain/streams\"\nimport type { PublicClient, WalletClient, Hex } from \"viem\"\n\n/**\n * Initialize Somnia SDK with public and wallet clients\n */\nexport function initializeSDK(publicClient: PublicClient, walletClient: WalletClient) {\n  return new SDK({\n    public: publicClient,\n    wallet: walletClient,\n  })\n}\n\n/**\n * Schema for bet data on Somnia Data Streams\n * Stores bet information with timestamp, bet type, amount, and odds\n */\nexport const BET_SCHEMA = `uint64 timestamp, uint8 betType, uint256 amount, uint256 odds, bytes32 betId, bytes32 marketId`\n\n/**\n * Create a schema encoder for bet data\n */\nexport function createBetSchemaEncoder() {\n  return new SchemaEncoder(BET_SCHEMA)\n}\n\n/**\n * Compute schema ID for bet data\n */\nexport async function computeBetSchemaId(sdk: SDK): Promise<Hex> {\n  return await sdk.streams.computeSchemaId(BET_SCHEMA) as Hex\n}\n\n/**\n * Encode bet data for publishing to Somnia Data Streams\n * @param schemaEncoder The SchemaEncoder instance\n * @param data The bet data to encode\n */\nexport function encodeBetData(\n  schemaEncoder: SchemaEncoder,\n  data: {\n    timestamp: number\n    betType: number // 0 for UP, 1 for DOWN\n    amount: bigint\n    odds: bigint\n    betId: Hex\n    marketId: Hex\n  },\n) {\n  return schemaEncoder.encodeData([\n    { name: \"timestamp\", value: data.timestamp.toString(), type: \"uint64\" },\n    { name: \"betType\", value: data.betType.toString(), type: \"uint8\" },\n    { name: \"amount\", value: data.amount.toString(), type: \"uint256\" },\n    { name: \"odds\", value: data.odds.toString(), type: \"uint256\" },\n    { name: \"betId\", value: data.betId, type: \"bytes32\" },\n    { name: \"marketId\", value: data.marketId, type: \"bytes32\" },\n  ])\n}\n\n/**\n * Publish bet data to Somnia Data Streams\n */\nexport async function publishBetData(sdk: SDK, schemaId: Hex, publisherAddress: Hex, encodedData: Hex) {\n  return await sdk.streams.set([\n    {\n      id: publisherAddress,\n      schemaId: schemaId,\n      data: encodedData,\n    },\n  ])\n}\n\n/**\n * Retrieve bet data from Somnia Data Streams\n */\nexport async function getBetData(sdk: SDK, schemaId: Hex, publisherAddress: Hex, betId: Hex) {\n  return await sdk.streams.getByKey(schemaId, publisherAddress, betId)\n}\n\n/**\n * Retrieve all bet data for a user\n */\nexport async function getAllUserBets(sdk: SDK, schemaId: Hex, publisherAddress: Hex) {\n  return await sdk.streams.getAllPublisherDataForSchema(schemaId, publisherAddress)\n}\n\n/**\n * Subscribe to bet events using Somnia Streams\n */\nexport async function subscribeToBetEvents(\n  sdk: SDK,\n  callback: (data: any) => void,\n  errorCallback?: (error: Error) => void,\n) {\n  return await sdk.streams.subscribe({\n    ethCalls: [],\n    onData: callback,\n    onError: errorCallback,\n    onlyPushChanges: true,\n  })\n}\n","size_bytes":2795},"components/ui/table.tsx":{"content":"'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2452},"components/ui/kbd.tsx":{"content":"import { cn } from '@/lib/utils'\n\nfunction Kbd({ className, ...props }: React.ComponentProps<'kbd'>) {\n  return (\n    <kbd\n      data-slot=\"kbd\"\n      className={cn(\n        'bg-muted w-fit text-muted-foreground pointer-events-none inline-flex h-5 min-w-5 items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium select-none',\n        \"[&_svg:not([class*='size-'])]:size-3\",\n        '[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction KbdGroup({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <kbd\n      data-slot=\"kbd-group\"\n      className={cn('inline-flex items-center gap-1', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Kbd, KbdGroup }\n","size_bytes":863},"lib/somnia-chain.ts":{"content":"import { defineChain } from \"viem\"\n\n/**\n * Somnia Testnet Chain Configuration\n * Update RPC URL based on your Somnia testnet endpoint\n */\nexport const somniaTestnet = defineChain({\n  id: 1149, // Somnia testnet chain ID\n  name: \"Somnia Testnet\",\n  network: \"somnia-testnet\",\n  nativeCurrency: {\n    decimals: 18,\n    name: \"Somnia\",\n    symbol: \"SMN\",\n  },\n  rpcUrls: {\n    default: {\n      http: [process.env.NEXT_PUBLIC_SOMNIA_RPC_URL || \"https://rpc.somnia.network\"],\n    },\n    public: {\n      http: [process.env.NEXT_PUBLIC_SOMNIA_RPC_URL || \"https://rpc.somnia.network\"],\n    },\n  },\n  blockExplorers: {\n    default: {\n      name: \"Somnia Explorer\",\n      url: \"https://explorer.somnia.network\",\n    },\n  },\n})\n","size_bytes":717},"lib/utils.ts":{"content":"import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"README.md":{"content":"# Somniai\n\nA prediction markets app built on Somnia Data Streams. Place bets on market outcomes, check your history, and everything is stored on the blockchain transparently.\n\n## What's Somniai?\n\nSomniai is a betting platform where you can predict market movements and earn returns. Instead of a company holding all your bet data, it's stored on **Somnia Data Streams** - so you own everything.\n\nYou connect your wallet (MetaMask, Coinbase Wallet, Trust Wallet, or WalletConnect), place bets, and all the data lives on-chain permanently. No middleman, no shady databases.\n\n## How Somnia Data Streams Makes This Work\n\nThink of Somnia Data Streams as a shared, transparent record that everyone can read but only you can add to (with your wallet). \n\nHere's the flow:\n\n1. **You place a bet** - Click buy or sell on any market\n2. **Data gets encoded** - Your bet info (amount, type, odds, timestamp) gets formatted\n3. **Published to SDS** - Your wallet signs and sends it to Somnia Data Streams\n4. **It's permanent** - The bet is now on the blockchain, forever\n5. **Anyone can verify** - Your history is public and verifiable anytime\n\n## Why This Matters\n\n- **You own your data** - Not us, not some server farm. You.\n- **It's transparent** - Every bet is on-chain, fully auditable\n- **It's secure** - Uses your wallet's private key, no passwords\n- **It's decentralized** - No single point of failure, can't be shut down\n\n## How to Use\n\n### Connect Your Wallet\n\n1. Open Somniai\n2. Click \"Connect Wallet\"\n3. Choose your wallet (MetaMask recommended)\n4. Approve the connection\n\nThat's it. You're in.\n\n### Place a Bet\n\n1. Browse available markets\n2. Pick one you like\n3. Click Buy (bet it goes up) or Sell (bet it goes down)\n4. Enter your amount\n5. Confirm in your wallet\n6. Bet is now on-chain\n\n### Check Your History\n\n1. Click the history icon in the top right\n2. See all your past bets\n3. Check wins, losses, profits\n4. Everything's stored on Somnia Data Streams\n\n## The Tech Behind It\n\n### Bet Data Storage\n\nEvery bet follows the same format:\n\n\\`\\`\\`\ntimestamp (when) | bet type (up/down) | amount | odds | bet ID | market ID\n\\`\\`\\`\n\nThis structure lets us store and retrieve bets efficiently, and it's the same format everyone uses. No mess.\n\n### Your Wallet Address = Your ID\n\nWhen you publish a bet, it's tied to your wallet address. So:\n- `0x1234...` places a bet\n- It's stored under `0x1234...` on SDS\n- Only you can prove you placed it (you have the private key)\n- Anyone can verify it (it's on-chain)\n\n### Real-Time Prices\n\nMarkets update every 3 seconds with live prices. It's pulling current data and calculating odds based on what's actually happening in the market.\n\n## The Parts That Matter\n\n- **lib/somnia-sdk.ts** - Handles all SDS communication (publish bets, read bets)\n- **lib/viem-client.ts** - Manages wallet connections\n- **components/betting-interface.tsx** - The bet placement UI\n- **components/bet-history-modal.tsx** - Shows your history from SDS\n- **components/available-bets.tsx** - Displays live markets\n\n## Data Flow\n\n### When You Place a Bet\n\n\\`\\`\\`\nYou click BUY\n    \nBet details collected (amount, odds, market)\n    \nData encoded to match our schema\n    \nSent to your wallet for signing\n    \nYou approve it\n    \nPublished to Somnia Data Streams\n    \nIt's permanent on the blockchain\n\\`\\`\\`\n\n### When You Check History\n\n\\`\\`\\`\nYou click history icon\n    \nApp fetches all bets for your wallet from SDS\n    \nDecodes the data back into readable format\n    \nCalculates stats (wins, losses, profit)\n    \nShows it all in a nice modal\n\\`\\`\\`\n\n## Traditional App vs. Somniai\n\n| What | Normal App | Somniai |\n|------|-----------|---------|\n| Where's your data? | Their servers | Blockchain |\n| Who owns it? | Them | You |\n| Can they see everything? | Yes | Only what's on-chain |\n| Can they delete your history? | Yes | No |\n| Can they go offline? | Yes | No (it's decentralized) |\n| Can you verify bets? | No | Yes (cryptographically) |\n\n## Getting Started Locally\n\n\\`\\`\\`bash\n# Install dependencies\nnpm install\n\n# Run the dev server\nnpm run dev\n\n# Open http://localhost:3000\n\\`\\`\\`\n\nThat's it.\n\n## What You Need\n\n- A web3 wallet installed (MetaMask, Coinbase Wallet, etc.)\n- Connected to Ethereum (or whatever network we're on)\n- Some test tokens if you want to actually place bets\n\n## The Stack\n\n- **Next.js 16** - Frontend framework\n- **React 19** - UI library\n- **TailwindCSS** - Styling\n- **Somnia Data Streams** - On-chain data storage\n- **Viem** - Wallet integration\n- **Shadcn/ui** - UI components\n\n## What's Stored on Somnia?\n\nEvery bet you place, including:\n- When you placed it\n- If it was a buy or sell\n- How much you bet\n- The odds at the time\n- The market you bet on\n- Your unique bet ID\n\nAll stored under your wallet address so it's provably yours.\n\n## Why Not Just Use a Database?\n\nBecause then we'd be in control of your data. With SDS, you are. You can:\n- Access your history from any Somnia-compatible app\n- Prove you made a bet without asking us\n- See exactly when it was made and what the odds were\n- Know it'll never be deleted or modified\n\n## Built By\n\n**Mide**\n\nMade with blockchain technology and a love for transparent systems.\n\n---\n\n**That's Somniai.** Place bets, own your data.\n","size_bytes":5254},"components/ui/skeleton.tsx":{"content":"import { cn } from '@/lib/utils'\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn('bg-accent animate-pulse rounded-md', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":276},"components/ui/hover-card.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as HoverCardPrimitive from '@radix-ui/react-hover-card'\n\nimport { cn } from '@/lib/utils'\n\nfunction HoverCard({\n  ...props\n}: React.ComponentProps<typeof HoverCardPrimitive.Root>) {\n  return <HoverCardPrimitive.Root data-slot=\"hover-card\" {...props} />\n}\n\nfunction HoverCardTrigger({\n  ...props\n}: React.ComponentProps<typeof HoverCardPrimitive.Trigger>) {\n  return (\n    <HoverCardPrimitive.Trigger data-slot=\"hover-card-trigger\" {...props} />\n  )\n}\n\nfunction HoverCardContent({\n  className,\n  align = 'center',\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof HoverCardPrimitive.Content>) {\n  return (\n    <HoverCardPrimitive.Portal data-slot=\"hover-card-portal\">\n      <HoverCardPrimitive.Content\n        data-slot=\"hover-card-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden',\n          className,\n        )}\n        {...props}\n      />\n    </HoverCardPrimitive.Portal>\n  )\n}\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1533},"hooks/use-wallet.ts":{"content":"\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { requestWalletConnection, getConnectedAccounts, onAccountsChanged } from \"@/lib/viem-client\"\n\n/**\n * Hook to manage wallet connection state and account changes\n */\nexport function useWallet() {\n  const [account, setAccount] = useState<string | null>(null)\n  const [isConnected, setIsConnected] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<Error | null>(null)\n\n  useEffect(() => {\n    // Check if wallet is already connected\n    const checkConnection = async () => {\n      try {\n        const accounts = await getConnectedAccounts()\n        if (accounts.length > 0) {\n          setAccount(accounts[0])\n          setIsConnected(true)\n        }\n      } catch (err) {\n        console.error(\"Error checking wallet connection:\", err)\n      }\n    }\n\n    checkConnection()\n\n    // Listen for account changes\n    const unsubscribe = onAccountsChanged((accounts: any) => {\n      if (accounts.length > 0) {\n        setAccount(accounts[0])\n        setIsConnected(true)\n      } else {\n        setAccount(null)\n        setIsConnected(false)\n      }\n    })\n\n    return () => unsubscribe?.()\n  }, [])\n\n  const connect = async () => {\n    setIsLoading(true)\n    setError(null)\n    try {\n      const address = await requestWalletConnection()\n      setAccount(address)\n      setIsConnected(true)\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error(\"Failed to connect wallet\")\n      setError(error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const disconnect = () => {\n    setAccount(null)\n    setIsConnected(false)\n  }\n\n  return { account, isConnected, isLoading, error, connect, disconnect }\n}\n","size_bytes":1743},"components/ui/textarea.tsx":{"content":"import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n","size_bytes":760},"components/user-stats.tsx":{"content":"\"use client\"\n\nimport { useState } from \"react\"\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n} from \"recharts\"\nimport { Award, TrendingUp, Target, Zap } from \"lucide-react\"\n\ninterface UserStatsProps {\n  walletAddress?: string\n}\n\nexport default function UserStats({ walletAddress }: UserStatsProps) {\n  const [stats] = useState({\n    totalWins: 24,\n    totalLosses: 8,\n    totalProfit: 4250,\n    winRate: 75,\n    currentStreak: 3,\n    bestStreak: 7,\n    totalBetsPlaced: 32,\n    averageBetSize: 145.3,\n    totalVolume: 4650,\n  })\n\n  const chartData = [\n    { date: \"Mon\", profit: 250 },\n    { date: \"Tue\", profit: 420 },\n    { date: \"Wed\", profit: 180 },\n    { date: \"Thu\", profit: 590 },\n    { date: \"Fri\", profit: 820 },\n    { date: \"Sat\", profit: 490 },\n    { date: \"Sun\", profit: 510 },\n  ]\n\n  const categoryData = [\n    { name: \"Crypto\", value: 45, fill: \"#00b854\" },\n    { name: \"Sports\", value: 30, fill: \"#0097a7\" },\n    { name: \"Economics\", value: 15, fill: \"#d32f2f\" },\n    { name: \"Weather\", value: 10, fill: \"#7b1fa2\" },\n  ]\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold text-foreground\">Your Stats</h1>\n          <p className=\"text-muted-foreground mt-2\">\n            {walletAddress ? `${walletAddress.slice(0, 6)}...${walletAddress.slice(-4)}` : \"Your performance metrics\"}\n          </p>\n        </div>\n\n        {/* Main Stats Grid */}\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-8\">\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex items-start justify-between mb-2\">\n              <p className=\"text-sm text-muted-foreground\">Total Wins</p>\n              <Award className=\"w-5 h-5 text-primary\" />\n            </div>\n            <p className=\"text-3xl font-bold text-foreground\">{stats.totalWins}</p>\n            <p className=\"text-xs text-muted-foreground mt-2\">{stats.totalLosses} losses</p>\n          </div>\n\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex items-start justify-between mb-2\">\n              <p className=\"text-sm text-muted-foreground\">Win Rate</p>\n              <Target className=\"w-5 h-5 text-primary\" />\n            </div>\n            <p className=\"text-3xl font-bold text-foreground\">{stats.winRate}%</p>\n            <p className=\"text-xs text-muted-foreground mt-2\">Very solid performance</p>\n          </div>\n\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex items-start justify-between mb-2\">\n              <p className=\"text-sm text-muted-foreground\">Total Profit</p>\n              <TrendingUp className=\"w-5 h-5 text-primary\" />\n            </div>\n            <p className=\"text-3xl font-bold text-primary\">${stats.totalProfit}</p>\n            <p className=\"text-xs text-muted-foreground mt-2\">Net earnings</p>\n          </div>\n\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex items-start justify-between mb-2\">\n              <p className=\"text-sm text-muted-foreground\">Current Streak</p>\n              <Zap className=\"w-5 h-5 text-primary\" />\n            </div>\n            <p className=\"text-3xl font-bold text-foreground\">{stats.currentStreak}</p>\n            <p className=\"text-xs text-muted-foreground mt-2\">Best: {stats.bestStreak}</p>\n          </div>\n        </div>\n\n        {/* Charts */}\n        <div className=\"grid gap-8 lg:grid-cols-3 mb-8\">\n          {/* Profit Over Time */}\n          <div className=\"lg:col-span-2 bg-card border border-border rounded-lg p-6\">\n            <h3 className=\"text-lg font-semibold text-foreground mb-4\">Profit Trend</h3>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <LineChart data={chartData}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--border)\" />\n                <XAxis dataKey=\"date\" stroke=\"var(--muted-foreground)\" />\n                <YAxis stroke=\"var(--muted-foreground)\" />\n                <Tooltip\n                  contentStyle={{\n                    backgroundColor: \"var(--card)\",\n                    border: \"1px solid var(--border)\",\n                    borderRadius: \"8px\",\n                  }}\n                />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"profit\"\n                  stroke=\"var(--primary)\"\n                  strokeWidth={2}\n                  dot={{ fill: \"var(--primary)\" }}\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n\n          {/* Bet Categories */}\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <h3 className=\"text-lg font-semibold text-foreground mb-4\">Bets by Category</h3>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={categoryData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                >\n                  {categoryData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={entry.fill} />\n                  ))}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n            <div className=\"mt-4 space-y-2 text-xs\">\n              {categoryData.map((cat) => (\n                <div key={cat.name} className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-3 h-3 rounded-full\" style={{ backgroundColor: cat.fill }}></div>\n                    <span className=\"text-muted-foreground\">{cat.name}</span>\n                  </div>\n                  <span className=\"font-medium text-foreground\">{cat.value}%</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Additional Stats */}\n        <div className=\"grid gap-4 md:grid-cols-3\">\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <p className=\"text-sm text-muted-foreground mb-1\">Bets Placed</p>\n            <p className=\"text-2xl font-bold text-foreground\">{stats.totalBetsPlaced}</p>\n          </div>\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <p className=\"text-sm text-muted-foreground mb-1\">Avg Bet Size</p>\n            <p className=\"text-2xl font-bold text-foreground\">${stats.averageBetSize.toFixed(2)}</p>\n          </div>\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <p className=\"text-sm text-muted-foreground mb-1\">Total Volume</p>\n            <p className=\"text-2xl font-bold text-foreground\">${(stats.totalVolume / 1000).toFixed(1)}k</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","size_bytes":7163},"pnpm-lock.yaml":{"content":"lockfileVersion: '9.0'\n\nsettings:\n  autoInstallPeers: true\n  excludeLinksFromLockfile: false","size_bytes":92},"components/ui/menubar.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as MenubarPrimitive from '@radix-ui/react-menubar'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Menubar({\n  className,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Root>) {\n  return (\n    <MenubarPrimitive.Root\n      data-slot=\"menubar\"\n      className={cn(\n        'bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu data-slot=\"menubar-menu\" {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group data-slot=\"menubar-group\" {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal data-slot=\"menubar-portal\" {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return (\n    <MenubarPrimitive.RadioGroup data-slot=\"menubar-radio-group\" {...props} />\n  )\n}\n\nfunction MenubarTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Trigger>) {\n  return (\n    <MenubarPrimitive.Trigger\n      data-slot=\"menubar-trigger\"\n      className={cn(\n        'focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarContent({\n  className,\n  align = 'start',\n  alignOffset = -4,\n  sideOffset = 8,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Content>) {\n  return (\n    <MenubarPortal>\n      <MenubarPrimitive.Content\n        data-slot=\"menubar-content\"\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </MenubarPortal>\n  )\n}\n\nfunction MenubarItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <MenubarPrimitive.Item\n      data-slot=\"menubar-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.CheckboxItem>) {\n  return (\n    <MenubarPrimitive.CheckboxItem\n      data-slot=\"menubar-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <MenubarPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </MenubarPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </MenubarPrimitive.CheckboxItem>\n  )\n}\n\nfunction MenubarRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioItem>) {\n  return (\n    <MenubarPrimitive.RadioItem\n      data-slot=\"menubar-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <MenubarPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </MenubarPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </MenubarPrimitive.RadioItem>\n  )\n}\n\nfunction MenubarLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <MenubarPrimitive.Label\n      data-slot=\"menubar-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Separator>) {\n  return (\n    <MenubarPrimitive.Separator\n      data-slot=\"menubar-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"menubar-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nfunction MenubarSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <MenubarPrimitive.SubTrigger\n      data-slot=\"menubar-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        'focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n    </MenubarPrimitive.SubTrigger>\n  )\n}\n\nfunction MenubarSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.SubContent>) {\n  return (\n    <MenubarPrimitive.SubContent\n      data-slot=\"menubar-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Menubar,\n  MenubarPortal,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarGroup,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarItem,\n  MenubarShortcut,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarSub,\n  MenubarSubTrigger,\n  MenubarSubContent,\n}\n","size_bytes":8404},"ACCESS_INFO.md":{"content":"#  Your Somniai App is Live!\n\n## Access Your App:\n\n### Main Betting Platform:\n**URL:** https://34abeb9f-e3db-4bd5-ac94-d57f6d7b881c-00-6koyrzuuky0r.kirk.replit.dev\n\n### Somnia Streams Demo:\n**URL:** https://34abeb9f-e3db-4bd5-ac94-d57f6d7b881c-00-6koyrzuuky0r.kirk.replit.dev/somnia-demo\n\n## What You'll See:\n\n1. **Connect Wallet Page** - Choose from MetaMask, Coinbase, Trust Wallet, or WalletConnect\n2. **Betting Dashboard** - Once connected, you can place bets on market predictions\n3. **Somnia Streams** - Real-time blockchain data subscriptions and emissions\n\n## Running Locally:\n\nThe app is running on port 5000. You can see the preview in the Replit webview.\n\n```bash\nnpm run dev     # Already running\n```\n\n## Testing the Somnia Streams:\n\n1. Visit `/somnia-demo`\n2. Click \"Start Somnia Stream\" to activate subscriptions\n3. Click \"Emit Sample Data\" to test data publishing\n4. Check server console for real-time logs\n\n## Cleaned Up:\n\n Removed \"my-v0-project\"  Changed to \"somniai\"\n All AI references removed\n App ready for production\n\nEnjoy your blockchain betting platform! \n","size_bytes":1101},"HOW_TO_SEE_SUBSCRIBE_BUTTON.md":{"content":"#  How to See the Subscribe Button\n\n## The button is in TWO places:\n\n### 1. Main Dashboard (After Wallet Connection)\n**Location:** Top right of the dashboard, next to \"Welcome, Dev Mide\"\n\n**Steps:**\n1. Connect your wallet (choose any option)\n2. You'll be taken to the Markets dashboard\n3. Look at the top-right corner\n4. You'll see: **\"Start Somnia Stream\"** button\n\n### 2. Demo Page (No Wallet Required)\n**URL:** `/somnia-demo`\n\n**Steps:**\n1. In your browser, go to your app URL and add `/somnia-demo`\n2. Full URL: `https://34abeb9f-e3db-4bd5-ac94-d57f6d7b881c-00-6koyrzuuky0r.kirk.replit.dev/somnia-demo`\n3. You'll immediately see the subscribe interface with:\n   - **\"Start Somnia Stream\"** button (green)\n   - **\"Emit Sample Data\"** button (green)\n   - Full instructions on how it works\n\n## What the Button Does:\n\nWhen you click **\"Start Somnia Stream\"**, it:\n Subscribes to real-time blockchain data streams\n Listens for live betting events\n Shows a success notification\n Logs all incoming data to the server console\n\n## Quick Test:\n\n1. Go to `/somnia-demo`\n2. Click \"Start Somnia Stream\"\n3. Click \"Emit Sample Data\"\n4. Check your browser's developer console or server logs to see the data flow\n\nThat's it! The subscribe functionality is working and ready to use.\n","size_bytes":1285},"components/ui/empty.tsx":{"content":"import { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nfunction Empty({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"empty\"\n      className={cn(\n        'flex min-w-0 flex-1 flex-col items-center justify-center gap-6 rounded-lg border-dashed p-6 text-center text-balance md:p-12',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"empty-header\"\n      className={cn(\n        'flex max-w-sm flex-col items-center gap-2 text-center',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nconst emptyMediaVariants = cva(\n  'flex shrink-0 items-center justify-center mb-2 [&_svg]:pointer-events-none [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'bg-transparent',\n        icon: \"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6\",\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction EmptyMedia({\n  className,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof emptyMediaVariants>) {\n  return (\n    <div\n      data-slot=\"empty-icon\"\n      data-variant={variant}\n      className={cn(emptyMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"empty-title\"\n      className={cn('text-lg font-medium tracking-tight', className)}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyDescription({ className, ...props }: React.ComponentProps<'p'>) {\n  return (\n    <div\n      data-slot=\"empty-description\"\n      className={cn(\n        'text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"empty-content\"\n      className={cn(\n        'flex w-full max-w-sm min-w-0 flex-col items-center gap-4 text-sm text-balance',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Empty,\n  EmptyHeader,\n  EmptyTitle,\n  EmptyDescription,\n  EmptyContent,\n  EmptyMedia,\n}\n","size_bytes":2401},"components/ui/checkbox.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { CheckIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n","size_bytes":1227},"components/ui/collapsible.tsx":{"content":"'use client'\n\nimport * as CollapsiblePrimitive from '@radix-ui/react-collapsible'\n\nfunction Collapsible({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {\n  return <CollapsiblePrimitive.Root data-slot=\"collapsible\" {...props} />\n}\n\nfunction CollapsibleTrigger({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {\n  return (\n    <CollapsiblePrimitive.CollapsibleTrigger\n      data-slot=\"collapsible-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction CollapsibleContent({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {\n  return (\n    <CollapsiblePrimitive.CollapsibleContent\n      data-slot=\"collapsible-content\"\n      {...props}\n    />\n  )\n}\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":800},"components/bet-history-modal.tsx":{"content":"'use client';\n\nimport React, { useState } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { X, TrendingUp, TrendingDown, Download, Loader2, AlertCircle } from 'lucide-react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { useBetHistory } from '@/hooks/use-bet-history';\nimport { toast } from 'sonner';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\n\ninterface HistoryItem {\n  id: string;\n  title: string;\n  betType: 'UP' | 'DOWN';\n  amount: number;\n  odds: number;\n  result: 'WIN' | 'LOSS' | 'PENDING';\n  payout: number;\n  timestamp: string;\n}\n\nconst mockHistory: HistoryItem[] = [\n  {\n    id: '1',\n    title: 'BTC/USD Price Up in 30s',\n    betType: 'UP',\n    amount: 100,\n    odds: 1.95,\n    result: 'WIN',\n    payout: 195,\n    timestamp: '2 hours ago',\n  },\n  {\n    id: '2',\n    title: 'ETH Crosses $3,500',\n    betType: 'DOWN',\n    amount: 50,\n    odds: 1.9,\n    result: 'LOSS',\n    payout: 0,\n    timestamp: '4 hours ago',\n  },\n  {\n    id: '3',\n    title: 'SOL Volatility Spike',\n    betType: 'UP',\n    amount: 75,\n    odds: 1.85,\n    result: 'WIN',\n    payout: 138.75,\n    timestamp: '6 hours ago',\n  },\n  {\n    id: '4',\n    title: 'Market Cap Growth',\n    betType: 'UP',\n    amount: 200,\n    odds: 2.0,\n    result: 'PENDING',\n    payout: 0,\n    timestamp: '1 day ago',\n  },\n];\n\ninterface BetHistoryModalProps {\n  onClose: () => void;\n  walletAddress?: string;\n}\n\nexport default function BetHistoryModal({ onClose, walletAddress }: BetHistoryModalProps) {\n  const { bets, isLoading, error, downloadAsJSON } = useBetHistory(walletAddress);\n\n  const handleDownload = () => {\n    try {\n      if (bets.length === 0) {\n        toast.info('No bet data available to download');\n        return;\n      }\n      downloadAsJSON(`somnia-bets-${walletAddress?.slice(0, 6)}-${Date.now()}.json`);\n      toast.success(`Downloaded ${bets.length} bet records successfully!`);\n    } catch (err) {\n      toast.error('Failed to download stream data');\n      console.error(err);\n    }\n  };\n\n  const displayHistory = bets.length > 0 ? bets.map((bet, index) => ({\n    id: bet.betId || `bet-${index}`,\n    title: `${bet.betType} Bet`,\n    betType: bet.betType,\n    amount: Number(bet.amount) / 1e18,\n    odds: Number(bet.odds) / 1e18,\n    result: 'PENDING' as const,\n    payout: 0,\n    timestamp: new Date(Number(bet.timestamp) * 1000).toLocaleString(),\n  })) : mockHistory;\n\n  const stats = {\n    totalBets: displayHistory.length,\n    wins: displayHistory.filter(h => h.result === 'WIN').length,\n    losses: displayHistory.filter(h => h.result === 'LOSS').length,\n    totalStaked: displayHistory.reduce((sum, h) => sum + h.amount, 0),\n    totalPayout: displayHistory.reduce((sum, h) => sum + h.payout, 0),\n    winRate: displayHistory.filter(h => h.result !== 'PENDING').length > 0\n      ? ((displayHistory.filter(h => h.result === 'WIN').length / displayHistory.filter(h => h.result !== 'PENDING').length) * 100).toFixed(1)\n      : '0',\n  };\n\n  return (\n    <>\n      <div\n        className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-40\"\n        onClick={onClose}\n        aria-label=\"Close modal\"\n      />\n\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none\">\n        <Card className=\"w-full max-w-2xl border-primary/20 pointer-events-auto max-h-[90vh] overflow-y-auto\">\n          <CardHeader className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-3 sm:space-y-0 border-b border-primary/15 pb-4 sticky top-0 bg-white/80 backdrop-blur z-10\">\n            <div className=\"flex-1\">\n              <CardTitle className=\"text-2xl neon-glow\">Betting History</CardTitle>\n              <CardDescription className=\"text-muted-foreground mt-1 text-xs sm:text-sm\">View your bets and performance</CardDescription>\n            </div>\n            <div className=\"flex gap-2\">\n              <Button\n                onClick={handleDownload}\n                disabled={isLoading || !walletAddress || bets.length === 0}\n                className=\"border border-primary/20 text-primary hover:bg-primary/5\"\n                variant=\"outline\"\n                size=\"sm\"\n                title={bets.length === 0 ? \"No data to download\" : \"Download bet history as JSON\"}\n              >\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Loading...\n                  </>\n                ) : (\n                  <>\n                    <Download className=\"w-4 h-4 mr-2\" />\n                    Download JSON\n                  </>\n                )}\n              </Button>\n              <Button\n                onClick={onClose}\n                className=\"border border-primary/20 text-primary hover:bg-primary/5 p-2 sm:p-3 w-auto\"\n                variant=\"outline\"\n                size=\"icon\"\n              >\n                <X className=\"w-5 h-5\" />\n              </Button>\n            </div>\n          </CardHeader>\n\n          <CardContent className=\"pt-4 sm:pt-6 space-y-6\">\n            {error && (\n              <Alert variant=\"destructive\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{error}</AlertDescription>\n              </Alert>\n            )}\n            {bets.length > 0 && (\n              <Alert className=\"border-primary/20 bg-primary/5\">\n                <AlertDescription className=\"text-sm\">\n                  Displaying {bets.length} bet{bets.length !== 1 ? 's' : ''} from Somnia Data Streams\n                </AlertDescription>\n              </Alert>\n            )}\n            {isLoading && (\n              <div className=\"flex items-center justify-center py-8\">\n                <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n                <span className=\"ml-3 text-muted-foreground\">Loading bet history from Somnia...</span>\n              </div>\n            )}\n            <div className=\"grid gap-3 grid-cols-1 sm:grid-cols-3\">\n              <div className=\"border border-primary/15 bg-primary/5 rounded-lg p-3 sm:p-4\">\n                <p className=\"text-xs text-muted-foreground mb-1\">Win Rate</p>\n                <p className=\"text-2xl font-bold neon-glow\">{stats.winRate}%</p>\n                <p className=\"text-xs text-muted-foreground mt-1\">{stats.wins}W / {stats.losses}L</p>\n              </div>\n              <div className=\"border border-primary/15 bg-primary/5 rounded-lg p-3 sm:p-4\">\n                <p className=\"text-xs text-muted-foreground mb-1\">Total Staked</p>\n                <p className=\"text-2xl font-bold text-foreground\">${stats.totalStaked}</p>\n                <p className=\"text-xs text-muted-foreground mt-1\">{stats.totalBets} bets</p>\n              </div>\n              <div className=\"border border-primary/15 bg-primary/5 rounded-lg p-3 sm:p-4\">\n                <p className=\"text-xs text-muted-foreground mb-1\">Total Payout</p>\n                <p className={`text-2xl font-bold ${stats.totalPayout > stats.totalStaked ? 'neon-glow' : 'text-destructive'}`}>\n                  ${stats.totalPayout.toFixed(2)}\n                </p>\n                <p className={`text-xs mt-1 ${stats.totalPayout > stats.totalStaked ? 'text-primary' : 'text-destructive'}`}>\n                  {stats.totalPayout > stats.totalStaked ? '+' : ''}{(stats.totalPayout - stats.totalStaked).toFixed(2)} net\n                </p>\n              </div>\n            </div>\n\n            <div>\n              <Tabs defaultValue=\"all\" className=\"w-full\">\n                <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-4 border border-primary/15 bg-primary/5\">\n                  <TabsTrigger value=\"all\" className=\"text-xs sm:text-sm\">All Bets</TabsTrigger>\n                  <TabsTrigger value=\"WIN\" className=\"text-xs sm:text-sm\">Wins</TabsTrigger>\n                  <TabsTrigger value=\"LOSS\" className=\"text-xs sm:text-sm\">Losses</TabsTrigger>\n                  <TabsTrigger value=\"PENDING\" className=\"text-xs sm:text-sm\">Pending</TabsTrigger>\n                </TabsList>\n\n                <TabsContent value=\"all\" className=\"space-y-2 mt-4\">\n                  {displayHistory.length === 0 ? (\n                    <p className=\"text-center text-muted-foreground py-4 text-sm\">No bets found</p>\n                  ) : (\n                    displayHistory.map(bet => <HistoryRow key={bet.id} bet={bet} />)\n                  )}\n                </TabsContent>\n                <TabsContent value=\"WIN\" className=\"space-y-2 mt-4\">\n                  {displayHistory.filter(b => b.result === 'WIN').length === 0 ? (\n                    <p className=\"text-center text-muted-foreground py-4 text-sm\">\n                      {bets.length > 0 \n                        ? 'Bet outcomes not yet available. Check back later for results.' \n                        : 'No bets found'}\n                    </p>\n                  ) : (\n                    displayHistory.filter(b => b.result === 'WIN').map(bet => <HistoryRow key={bet.id} bet={bet} />)\n                  )}\n                </TabsContent>\n                <TabsContent value=\"LOSS\" className=\"space-y-2 mt-4\">\n                  {displayHistory.filter(b => b.result === 'LOSS').length === 0 ? (\n                    <p className=\"text-center text-muted-foreground py-4 text-sm\">\n                      {bets.length > 0 \n                        ? 'Bet outcomes not yet available. Check back later for results.' \n                        : 'No bets found'}\n                    </p>\n                  ) : (\n                    displayHistory.filter(b => b.result === 'LOSS').map(bet => <HistoryRow key={bet.id} bet={bet} />)\n                  )}\n                </TabsContent>\n                <TabsContent value=\"PENDING\" className=\"space-y-2 mt-4\">\n                  {displayHistory.filter(b => b.result === 'PENDING').length === 0 ? (\n                    <p className=\"text-center text-muted-foreground py-4 text-sm\">No pending bets</p>\n                  ) : (\n                    displayHistory.filter(b => b.result === 'PENDING').map(bet => <HistoryRow key={bet.id} bet={bet} />)\n                  )}\n                </TabsContent>\n              </Tabs>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </>\n  );\n}\n\nfunction HistoryRow({ bet }: { bet: HistoryItem }) {\n  const badgeColor =\n    bet.result === 'WIN'\n      ? 'bg-primary/10 text-primary border border-primary/30'\n      : bet.result === 'LOSS'\n        ? 'bg-destructive/10 text-destructive border border-destructive/30'\n        : 'bg-warning/10 text-warning border border-warning/30';\n\n  return (\n    <div className=\"flex flex-col sm:flex-row sm:items-center justify-between rounded-lg border border-primary/15 p-3 sm:p-4 hover:border-primary/30 transition-all gap-3 sm:gap-0\">\n      <div className=\"flex items-center gap-2 sm:gap-3 flex-1\">\n        <div className=\"shrink-0\">\n          {bet.betType === 'UP' ? (\n            <TrendingUp className=\"w-5 h-5 text-primary\" />\n          ) : (\n            <TrendingDown className=\"w-5 h-5 text-destructive\" />\n          )}\n        </div>\n        <div className=\"min-w-0\">\n          <p className=\"font-medium text-foreground text-sm truncate\">{bet.title}</p>\n          <p className=\"text-xs text-muted-foreground\">{bet.timestamp}</p>\n        </div>\n      </div>\n      <div className=\"flex items-center justify-between sm:justify-end gap-2 sm:gap-3\">\n        <div className=\"text-right\">\n          <p className=\"text-xs sm:text-sm font-semibold text-foreground\">${bet.amount}</p>\n          <p className=\"text-xs text-muted-foreground\">{bet.odds}x</p>\n        </div>\n        {bet.payout > 0 && <p className=\"text-xs sm:text-sm font-bold neon-glow whitespace-nowrap\">${bet.payout.toFixed(2)}</p>}\n        <Badge className={`${badgeColor} text-xs`}>{bet.result}</Badge>\n      </div>\n    </div>\n  );\n}\n","size_bytes":12006},"lib/bet-utils.ts":{"content":"import type { Hex } from \"viem\"\n\n/**\n * Bet history item interface\n */\nexport interface BetHistoryItem {\n  id: string\n  title: string\n  marketId: string\n  betType: \"UP\" | \"DOWN\"\n  amount: number\n  odds: number\n  result: \"WIN\" | \"LOSS\" | \"PENDING\"\n  payout: number\n  timestamp: string\n  transactionHash?: Hex\n}\n\n/**\n * Market interface for available bets\n */\nexport interface Market {\n  id: string\n  title: string\n  description: string\n  category: string\n  currentPrice: number\n  volume: number\n  odds: {\n    up: number\n    down: number\n  }\n  expiresAt: string\n  liquidity: number\n}\n\n/**\n * Calculate potential payout from bet\n */\nexport function calculatePayout(amount: number, odds: number): number {\n  return amount * odds\n}\n\n/**\n * Calculate profit/loss\n */\nexport function calculateProfit(payout: number, amount: number): number {\n  return payout - amount\n}\n\n/**\n * Generate unique bet ID\n */\nexport function generateBetId(): Hex {\n  const randomBytes = Math.random().toString(16).slice(2)\n  return `0x${randomBytes}`.padEnd(66, \"0\") as Hex\n}\n\n/**\n * Format wallet address\n */\nexport function formatAddress(address: string, chars = 4): string {\n  return `${address.slice(0, chars)}...${address.slice(-chars)}`\n}\n\n/**\n * Calculate win rate from bet history\n */\nexport function calculateWinRate(history: BetHistoryItem[]): number {\n  const completedBets = history.filter((b) => b.result !== \"PENDING\")\n  if (completedBets.length === 0) return 0\n  const wins = completedBets.filter((b) => b.result === \"WIN\").length\n  return (wins / completedBets.length) * 100\n}\n\n/**\n * Calculate total staked\n */\nexport function calculateTotalStaked(history: BetHistoryItem[]): number {\n  return history.reduce((sum, bet) => sum + bet.amount, 0)\n}\n\n/**\n * Calculate total payout\n */\nexport function calculateTotalPayout(history: BetHistoryItem[]): number {\n  return history.reduce((sum, bet) => sum + bet.payout, 0)\n}\n\n/**\n * Group bets by status\n */\nexport function groupBetsByStatus(history: BetHistoryItem[]) {\n  return {\n    all: history,\n    wins: history.filter((b) => b.result === \"WIN\"),\n    losses: history.filter((b) => b.result === \"LOSS\"),\n    pending: history.filter((b) => b.result === \"PENDING\"),\n  }\n}\n","size_bytes":2204},"components/somnia-button.tsx":{"content":"\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { toast } from \"sonner\"\n\ninterface SomniaButtonProps {\n  eventId?: string\n  variant?: \"default\" | \"outline\" | \"ghost\" | \"link\" | \"destructive\" | \"secondary\"\n  className?: string\n}\n\nexport function SomniaButton({ eventId, variant = \"default\", className }: SomniaButtonProps) {\n  const [isLoading, setIsLoading] = useState(false)\n\n  async function startSubscription() {\n    setIsLoading(true)\n    try {\n      const url = eventId ? `/api/somnia/subscribe?eventId=${eventId}` : \"/api/somnia/subscribe\"\n      const response = await fetch(url)\n      const data = await response.json()\n\n      if (data.success) {\n        toast.success(\"Somnia subscription activated!\")\n      } else {\n        toast.error(data.error || \"Failed to activate subscription\")\n      }\n    } catch (error) {\n      toast.error(\"Failed to connect to Somnia streams\")\n      console.error(\"Subscription error:\", error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <Button onClick={startSubscription} disabled={isLoading} variant={variant} className={className}>\n      {isLoading ? \"Connecting...\" : \"Start Somnia Stream\"}\n    </Button>\n  )\n}\n","size_bytes":1231},"components/ui/label.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","size_bytes":612},"components/ui/button-group.tsx":{"content":"import { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\nimport { Separator } from '@/components/ui/separator'\n\nconst buttonGroupVariants = cva(\n  \"flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2\",\n  {\n    variants: {\n      orientation: {\n        horizontal:\n          '[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none',\n        vertical:\n          'flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none',\n      },\n    },\n    defaultVariants: {\n      orientation: 'horizontal',\n    },\n  },\n)\n\nfunction ButtonGroup({\n  className,\n  orientation,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof buttonGroupVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"button-group\"\n      data-orientation={orientation}\n      className={cn(buttonGroupVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupText({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'div'> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : 'div'\n\n  return (\n    <Comp\n      className={cn(\n        \"bg-muted flex items-center gap-2 rounded-md border px-4 text-sm font-medium shadow-xs [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupSeparator({\n  className,\n  orientation = 'vertical',\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"button-group-separator\"\n      orientation={orientation}\n      className={cn(\n        'bg-input relative !m-0 self-stretch data-[orientation=vertical]:h-auto',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ButtonGroup,\n  ButtonGroupSeparator,\n  ButtonGroupText,\n  buttonGroupVariants,\n}\n","size_bytes":2212},"components/ui/chart.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as RechartsPrimitive from 'recharts'\n\nimport { cn } from '@/lib/utils'\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: '', dark: '.dark' } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error('useChart must be used within a <ChartContainer />')\n  }\n\n  return context\n}\n\nfunction ChartContainer({\n  id,\n  className,\n  children,\n  config,\n  ...props\n}: React.ComponentProps<'div'> & {\n  config: ChartConfig\n  children: React.ComponentProps<\n    typeof RechartsPrimitive.ResponsiveContainer\n  >['children']\n}) {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, '')}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-slot=\"chart\"\n        data-chart={chartId}\n        className={cn(\n          \"[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden\",\n          className,\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n}\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color,\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join('\\n')}\n}\n`,\n          )\n          .join('\\n'),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nfunction ChartTooltipContent({\n  active,\n  payload,\n  className,\n  indicator = 'dot',\n  hideLabel = false,\n  hideIndicator = false,\n  label,\n  labelFormatter,\n  labelClassName,\n  formatter,\n  color,\n  nameKey,\n  labelKey,\n}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n  React.ComponentProps<'div'> & {\n    hideLabel?: boolean\n    hideIndicator?: boolean\n    indicator?: 'line' | 'dot' | 'dashed'\n    nameKey?: string\n    labelKey?: string\n  }) {\n  const { config } = useChart()\n\n  const tooltipLabel = React.useMemo(() => {\n    if (hideLabel || !payload?.length) {\n      return null\n    }\n\n    const [item] = payload\n    const key = `${labelKey || item?.dataKey || item?.name || 'value'}`\n    const itemConfig = getPayloadConfigFromPayload(config, item, key)\n    const value =\n      !labelKey && typeof label === 'string'\n        ? config[label as keyof typeof config]?.label || label\n        : itemConfig?.label\n\n    if (labelFormatter) {\n      return (\n        <div className={cn('font-medium', labelClassName)}>\n          {labelFormatter(value, payload)}\n        </div>\n      )\n    }\n\n    if (!value) {\n      return null\n    }\n\n    return <div className={cn('font-medium', labelClassName)}>{value}</div>\n  }, [\n    label,\n    labelFormatter,\n    payload,\n    hideLabel,\n    labelClassName,\n    config,\n    labelKey,\n  ])\n\n  if (!active || !payload?.length) {\n    return null\n  }\n\n  const nestLabel = payload.length === 1 && indicator !== 'dot'\n\n  return (\n    <div\n      className={cn(\n        'border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl',\n        className,\n      )}\n    >\n      {!nestLabel ? tooltipLabel : null}\n      <div className=\"grid gap-1.5\">\n        {payload.map((item, index) => {\n          const key = `${nameKey || item.name || item.dataKey || 'value'}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n          const indicatorColor = color || item.payload.fill || item.color\n\n          return (\n            <div\n              key={item.dataKey}\n              className={cn(\n                '[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5',\n                indicator === 'dot' && 'items-center',\n              )}\n            >\n              {formatter && item?.value !== undefined && item.name ? (\n                formatter(item.value, item.name, item, index, item.payload)\n              ) : (\n                <>\n                  {itemConfig?.icon ? (\n                    <itemConfig.icon />\n                  ) : (\n                    !hideIndicator && (\n                      <div\n                        className={cn(\n                          'shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)',\n                          {\n                            'h-2.5 w-2.5': indicator === 'dot',\n                            'w-1': indicator === 'line',\n                            'w-0 border-[1.5px] border-dashed bg-transparent':\n                              indicator === 'dashed',\n                            'my-0.5': nestLabel && indicator === 'dashed',\n                          },\n                        )}\n                        style={\n                          {\n                            '--color-bg': indicatorColor,\n                            '--color-border': indicatorColor,\n                          } as React.CSSProperties\n                        }\n                      />\n                    )\n                  )}\n                  <div\n                    className={cn(\n                      'flex flex-1 justify-between leading-none',\n                      nestLabel ? 'items-end' : 'items-center',\n                    )}\n                  >\n                    <div className=\"grid gap-1.5\">\n                      {nestLabel ? tooltipLabel : null}\n                      <span className=\"text-muted-foreground\">\n                        {itemConfig?.label || item.name}\n                      </span>\n                    </div>\n                    {item.value && (\n                      <span className=\"text-foreground font-mono font-medium tabular-nums\">\n                        {item.value.toLocaleString()}\n                      </span>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nfunction ChartLegendContent({\n  className,\n  hideIcon = false,\n  payload,\n  verticalAlign = 'bottom',\n  nameKey,\n}: React.ComponentProps<'div'> &\n  Pick<RechartsPrimitive.LegendProps, 'payload' | 'verticalAlign'> & {\n    hideIcon?: boolean\n    nameKey?: string\n  }) {\n  const { config } = useChart()\n\n  if (!payload?.length) {\n    return null\n  }\n\n  return (\n    <div\n      className={cn(\n        'flex items-center justify-center gap-4',\n        verticalAlign === 'top' ? 'pb-3' : 'pt-3',\n        className,\n      )}\n    >\n      {payload.map((item) => {\n        const key = `${nameKey || item.dataKey || 'value'}`\n        const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n        return (\n          <div\n            key={item.value}\n            className={\n              '[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3'\n            }\n          >\n            {itemConfig?.icon && !hideIcon ? (\n              <itemConfig.icon />\n            ) : (\n              <div\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                style={{\n                  backgroundColor: item.color,\n                }}\n              />\n            )}\n            {itemConfig?.label}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string,\n) {\n  if (typeof payload !== 'object' || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    'payload' in payload &&\n    typeof payload.payload === 'object' &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === 'string'\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === 'string'\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":9786},"app/layout.tsx":{"content":"import type React from \"react\"\nimport type { Metadata } from \"next\"\nimport { Geist, Geist_Mono } from \"next/font/google\"\nimport { Analytics } from \"@vercel/analytics/next\"\nimport \"./globals.css\"\n\nconst _geist = Geist({ subsets: [\"latin\"] })\nconst _geistMono = Geist_Mono({ subsets: [\"latin\"] })\n\nexport const metadata: Metadata = {\n  title: \"Somnia - Prediction Markets\",\n  description: \"Real-time prediction markets powered by Somnia Data Streams\",\n  icons: {\n    icon: [\n      {\n        url: \"/icon-light-32x32.png\",\n        media: \"(prefers-color-scheme: light)\",\n      },\n      {\n        url: \"/icon-dark-32x32.png\",\n        media: \"(prefers-color-scheme: dark)\",\n      },\n      {\n        url: \"/icon.svg\",\n        type: \"image/svg+xml\",\n      },\n    ],\n    apple: \"/apple-icon.png\",\n  },\n    generator: 'v0.app'\n}\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode\n}>) {\n  return (\n    <html lang=\"en\">\n      <body className={`font-sans antialiased`}>\n        {children}\n        <Analytics />\n      </body>\n    </html>\n  )\n}\n","size_bytes":1071},"components/ui/sidebar.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, VariantProps } from 'class-variance-authority'\nimport { PanelLeftIcon } from 'lucide-react'\n\nimport { useIsMobile } from '@/hooks/use-mobile'\nimport { cn } from '@/lib/utils'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/components/ui/sheet'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\n\nconst SIDEBAR_COOKIE_NAME = 'sidebar_state'\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = '16rem'\nconst SIDEBAR_WIDTH_MOBILE = '18rem'\nconst SIDEBAR_WIDTH_ICON = '3rem'\nconst SIDEBAR_KEYBOARD_SHORTCUT = 'b'\n\ntype SidebarContextProps = {\n  state: 'expanded' | 'collapsed'\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error('useSidebar must be used within a SidebarProvider.')\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<'div'> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === 'function' ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open],\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? 'expanded' : 'collapsed'\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              '--sidebar-width': SIDEBAR_WIDTH,\n              '--sidebar-width-icon': SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            'group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full',\n            className,\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = 'left',\n  variant = 'sidebar',\n  collapsible = 'offcanvas',\n  className,\n  children,\n  ...props\n}: React.ComponentProps<'div'> & {\n  side?: 'left' | 'right'\n  variant?: 'sidebar' | 'floating' | 'inset'\n  collapsible?: 'offcanvas' | 'icon' | 'none'\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === 'none') {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          'bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden\"\n          style={\n            {\n              '--sidebar-width': SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === 'collapsed' ? collapsible : ''}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          'relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear',\n          'group-data-[collapsible=offcanvas]:w-0',\n          'group-data-[side=right]:rotate-180',\n          variant === 'floating' || variant === 'inset'\n            ? 'group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]'\n            : 'group-data-[collapsible=icon]:w-(--sidebar-width-icon)',\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          'fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex',\n          side === 'left'\n            ? 'left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]'\n            : 'right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]',\n          // Adjust the padding for floating and inset variants.\n          variant === 'floating' || variant === 'inset'\n            ? 'p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]'\n            : 'group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l',\n          className,\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn('size-7', className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<'button'>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        'hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex',\n        'in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize',\n        '[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize',\n        'hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full',\n        '[[data-side=left][data-collapsible=offcanvas]_&]:-right-2',\n        '[[data-side=right][data-collapsible=offcanvas]_&]:-left-2',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<'main'>) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        'bg-background relative flex w-full flex-1 flex-col',\n        'md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn('bg-background h-8 w-full shadow-none', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn('flex flex-col gap-2 p-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn('flex flex-col gap-2 p-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn('bg-sidebar-border mx-2 w-auto', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        'flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn('relative flex w-full min-w-0 flex-col p-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'div'> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'div'\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        'text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\n        'group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\n        // Increases the hit area of the button on mobile.\n        'after:absolute after:-inset-2 md:after:hidden',\n        'group-data-[collapsible=icon]:hidden',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn('w-full text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<'ul'>) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn('flex w-full min-w-0 flex-col gap-1', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<'li'>) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn('group/menu-item relative', className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  'peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'hover:bg-sidebar-accent hover:text-sidebar-accent-foreground',\n        outline:\n          'bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]',\n      },\n      size: {\n        default: 'h-8 text-sm',\n        sm: 'h-7 text-xs',\n        lg: 'h-12 text-sm group-data-[collapsible=icon]:p-0!',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = 'default',\n  size = 'default',\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<'button'> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : 'button'\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === 'string') {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== 'collapsed' || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<'button'> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\n        // Increases the hit area of the button on mobile.\n        'after:absolute after:-inset-2 md:after:hidden',\n        'peer-data-[size=sm]/menu-button:top-1',\n        'peer-data-[size=default]/menu-button:top-1.5',\n        'peer-data-[size=lg]/menu-button:top-2.5',\n        'group-data-[collapsible=icon]:hidden',\n        showOnHover &&\n          'peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        'text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none',\n        'peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground',\n        'peer-data-[size=sm]/menu-button:top-1',\n        'peer-data-[size=default]/menu-button:top-1.5',\n        'peer-data-[size=lg]/menu-button:top-2.5',\n        'group-data-[collapsible=icon]:hidden',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<'div'> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn('flex h-8 items-center gap-2 rounded-md px-2', className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-(--skeleton-width) flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            '--skeleton-width': width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<'ul'>) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        'border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5',\n        'group-data-[collapsible=icon]:hidden',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<'li'>) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn('group/menu-sub-item relative', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = 'md',\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<'a'> & {\n  asChild?: boolean\n  size?: 'sm' | 'md'\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : 'a'\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0',\n        'data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground',\n        size === 'sm' && 'text-xs',\n        size === 'md' && 'text-sm',\n        'group-data-[collapsible=icon]:hidden',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21649},"components/admin-dashboard.tsx":{"content":"\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { Plus, Trash2, TrendingUp, Users } from \"lucide-react\"\n\ninterface AdminMarket {\n  id: number\n  title: string\n  category: string\n  yesPool: number\n  noPool: number\n  totalBets: number\n  status: \"active\" | \"resolved\" | \"pending\"\n  outcome?: boolean\n}\n\ninterface AdminDashboardProps {\n  walletAddress?: string\n}\n\nexport default function AdminDashboard({ walletAddress }: AdminDashboardProps) {\n  const [markets, setMarkets] = useState<AdminMarket[]>([\n    {\n      id: 1,\n      title: \"Bitcoin over $50k by Dec 31?\",\n      category: \"Crypto\",\n      yesPool: 15000,\n      noPool: 12000,\n      totalBets: 42,\n      status: \"active\",\n    },\n    {\n      id: 2,\n      title: \"Ethereum Price > Ethereum Price?\",\n      category: \"Crypto\",\n      yesPool: 8000,\n      noPool: 9500,\n      totalBets: 28,\n      status: \"active\",\n    },\n  ])\n\n  const [showCreateModal, setShowCreateModal] = useState(false)\n  const [formData, setFormData] = useState({\n    title: \"\",\n    category: \"Crypto\",\n  })\n\n  const handleCreateMarket = (e: React.FormEvent) => {\n    e.preventDefault()\n    const newMarket: AdminMarket = {\n      id: markets.length + 1,\n      title: formData.title,\n      category: formData.category,\n      yesPool: 0,\n      noPool: 0,\n      totalBets: 0,\n      status: \"pending\",\n    }\n    setMarkets([...markets, newMarket])\n    setFormData({ title: \"\", category: \"Crypto\" })\n    setShowCreateModal(false)\n  }\n\n  const handleResolveMarket = (id: number, outcome: boolean) => {\n    setMarkets(markets.map((m) => (m.id === id ? { ...m, status: \"resolved\", outcome } : m)))\n  }\n\n  const handleDeleteMarket = (id: number) => {\n    setMarkets(markets.filter((m) => m.id !== id))\n  }\n\n  const totalVolume = markets.reduce((sum, m) => sum + m.yesPool + m.noPool, 0)\n  const totalUsers = markets.reduce((sum, m) => sum + m.totalBets, 0)\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold text-foreground\">Admin Dashboard</h1>\n          <p className=\"text-muted-foreground mt-2\">Manage prediction markets and oversee platform activity</p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid gap-4 md:grid-cols-3 mb-8\">\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Active Markets</p>\n                <p className=\"text-3xl font-bold text-foreground mt-1\">{markets.length}</p>\n              </div>\n              <TrendingUp className=\"w-10 h-10 text-primary\" />\n            </div>\n          </div>\n\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Total Volume</p>\n                <p className=\"text-3xl font-bold text-foreground mt-1\">${(totalVolume / 1000).toFixed(1)}k</p>\n              </div>\n              <TrendingUp className=\"w-10 h-10 text-primary\" />\n            </div>\n          </div>\n\n          <div className=\"bg-card border border-border rounded-lg p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Total Bets</p>\n                <p className=\"text-3xl font-bold text-foreground mt-1\">{totalUsers}</p>\n              </div>\n              <Users className=\"w-10 h-10 text-primary\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Create Market Button */}\n        <div className=\"mb-6\">\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"flex items-center gap-2 bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            Create New Market\n          </button>\n        </div>\n\n        {/* Markets Table */}\n        <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-secondary border-b border-border\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Market Title</th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Category</th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Yes Pool</th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">No Pool</th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Bets</th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Status</th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-foreground\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-border\">\n                {markets.map((market) => (\n                  <tr key={market.id} className=\"hover:bg-secondary/50 transition-colors\">\n                    <td className=\"px-6 py-4 text-sm text-foreground\">{market.title}</td>\n                    <td className=\"px-6 py-4 text-sm text-muted-foreground\">{market.category}</td>\n                    <td className=\"px-6 py-4 text-sm font-medium text-primary\">${market.yesPool}</td>\n                    <td className=\"px-6 py-4 text-sm font-medium text-primary\">${market.noPool}</td>\n                    <td className=\"px-6 py-4 text-sm text-foreground\">{market.totalBets}</td>\n                    <td className=\"px-6 py-4\">\n                      <span\n                        className={`text-xs font-semibold px-3 py-1 rounded-full ${\n                          market.status === \"active\"\n                            ? \"bg-green-100 text-green-700\"\n                            : market.status === \"resolved\"\n                              ? \"bg-blue-100 text-blue-700\"\n                              : \"bg-gray-100 text-gray-700\"\n                        }`}\n                      >\n                        {market.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 flex gap-2\">\n                      {market.status === \"active\" && (\n                        <>\n                          <button\n                            onClick={() => handleResolveMarket(market.id, true)}\n                            className=\"text-primary hover:text-primary/70 text-xs font-medium\"\n                          >\n                            Resolve YES\n                          </button>\n                          <button\n                            onClick={() => handleResolveMarket(market.id, false)}\n                            className=\"text-primary hover:text-primary/70 text-xs font-medium\"\n                          >\n                            Resolve NO\n                          </button>\n                        </>\n                      )}\n                      <button onClick={() => handleDeleteMarket(market.id)}>\n                        <Trash2 className=\"w-4 h-4 text-destructive hover:text-destructive/70\" />\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      {/* Create Market Modal */}\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-card border border-border rounded-lg p-6 w-full max-w-md\">\n            <h2 className=\"text-2xl font-bold text-foreground mb-4\">Create New Market</h2>\n            <form onSubmit={handleCreateMarket} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">Market Title</label>\n                <input\n                  type=\"text\"\n                  value={formData.title}\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                  className=\"w-full border border-border rounded-lg px-4 py-2 text-foreground bg-input focus:outline-none focus:ring-2 focus:ring-primary\"\n                  placeholder=\"e.g., Bitcoin over $50k by Dec 31?\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">Category</label>\n                <select\n                  value={formData.category}\n                  onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n                  className=\"w-full border border-border rounded-lg px-4 py-2 text-foreground bg-input focus:outline-none focus:ring-2 focus:ring-primary\"\n                >\n                  <option>Crypto</option>\n                  <option>Sports</option>\n                  <option>Weather</option>\n                  <option>Economics</option>\n                  <option>Entertainment</option>\n                </select>\n              </div>\n\n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowCreateModal(false)}\n                  className=\"flex-1 border border-border text-foreground px-4 py-2 rounded-lg font-medium hover:bg-secondary transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"flex-1 bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors\"\n                >\n                  Create Market\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","size_bytes":10169},"lib/market-prices.ts":{"content":"/**\n * Mock live price data fetching\n * In production, integrate with CoinGecko, Binance API, or other price feeds\n */\n\nexport interface MarketPrice {\n  symbol: string\n  price: number\n  change24h: number\n  marketCap: number\n  volume24h: number\n}\n\nconst mockPrices: Record<string, MarketPrice> = {\n  BTC: {\n    symbol: \"BTC\",\n    price: 42500,\n    change24h: 2.5,\n    marketCap: 835000000000,\n    volume24h: 28000000000,\n  },\n  ETH: {\n    symbol: \"ETH\",\n    price: 2250,\n    change24h: 1.8,\n    marketCap: 270000000000,\n    volume24h: 12000000000,\n  },\n  SOL: {\n    symbol: \"SOL\",\n    price: 145,\n    change24h: 3.2,\n    marketCap: 47000000000,\n    volume24h: 2500000000,\n  },\n}\n\n/**\n * Fetch live market prices\n * @param symbols Array of symbols to fetch prices for\n */\nexport async function fetchMarketPrices(symbols: string[]): Promise<MarketPrice[]> {\n  // In production, call real API:\n  // const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?...`)\n  // return response.json()\n\n  return symbols.map((symbol) => mockPrices[symbol]).filter((price) => price !== undefined)\n}\n\n/**\n * Get single market price\n */\nexport async function getMarketPrice(symbol: string): Promise<MarketPrice | null> {\n  const prices = await fetchMarketPrices([symbol])\n  return prices.length > 0 ? prices[0] : null\n}\n\n/**\n * Simulate live price updates (for demo purposes)\n */\nexport function subscribeToLivePrice(symbol: string, callback: (price: MarketPrice) => void): () => void {\n  const interval = setInterval(() => {\n    const basePrice = mockPrices[symbol]\n    if (basePrice) {\n      const change = (Math.random() - 0.5) * 0.5 // Random fluctuation\n      callback({\n        ...basePrice,\n        price: basePrice.price + change,\n        change24h: basePrice.change24h + (Math.random() - 0.5) * 0.2,\n      })\n    }\n  }, 3000) // Update every 3 seconds\n\n  return () => clearInterval(interval)\n}\n","size_bytes":1902},"components/ui/dropdown-menu.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n","size_bytes":8432},"components/ui/carousel.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from 'embla-carousel-react'\nimport { ArrowLeft, ArrowRight } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\nimport { Button } from '@/components/ui/button'\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: 'horizontal' | 'vertical'\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error('useCarousel must be used within a <Carousel />')\n  }\n\n  return context\n}\n\nfunction Carousel({\n  orientation = 'horizontal',\n  opts,\n  setApi,\n  plugins,\n  className,\n  children,\n  ...props\n}: React.ComponentProps<'div'> & CarouselProps) {\n  const [carouselRef, api] = useEmblaCarousel(\n    {\n      ...opts,\n      axis: orientation === 'horizontal' ? 'x' : 'y',\n    },\n    plugins,\n  )\n  const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n  const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n  const onSelect = React.useCallback((api: CarouselApi) => {\n    if (!api) return\n    setCanScrollPrev(api.canScrollPrev())\n    setCanScrollNext(api.canScrollNext())\n  }, [])\n\n  const scrollPrev = React.useCallback(() => {\n    api?.scrollPrev()\n  }, [api])\n\n  const scrollNext = React.useCallback(() => {\n    api?.scrollNext()\n  }, [api])\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'ArrowLeft') {\n        event.preventDefault()\n        scrollPrev()\n      } else if (event.key === 'ArrowRight') {\n        event.preventDefault()\n        scrollNext()\n      }\n    },\n    [scrollPrev, scrollNext],\n  )\n\n  React.useEffect(() => {\n    if (!api || !setApi) return\n    setApi(api)\n  }, [api, setApi])\n\n  React.useEffect(() => {\n    if (!api) return\n    onSelect(api)\n    api.on('reInit', onSelect)\n    api.on('select', onSelect)\n\n    return () => {\n      api?.off('select', onSelect)\n    }\n  }, [api, onSelect])\n\n  return (\n    <CarouselContext.Provider\n      value={{\n        carouselRef,\n        api: api,\n        opts,\n        orientation:\n          orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),\n        scrollPrev,\n        scrollNext,\n        canScrollPrev,\n        canScrollNext,\n      }}\n    >\n      <div\n        onKeyDownCapture={handleKeyDown}\n        className={cn('relative', className)}\n        role=\"region\"\n        aria-roledescription=\"carousel\"\n        data-slot=\"carousel\"\n        {...props}\n      >\n        {children}\n      </div>\n    </CarouselContext.Provider>\n  )\n}\n\nfunction CarouselContent({ className, ...props }: React.ComponentProps<'div'>) {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div\n      ref={carouselRef}\n      className=\"overflow-hidden\"\n      data-slot=\"carousel-content\"\n    >\n      <div\n        className={cn(\n          'flex',\n          orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col',\n          className,\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CarouselItem({ className, ...props }: React.ComponentProps<'div'>) {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      data-slot=\"carousel-item\"\n      className={cn(\n        'min-w-0 shrink-0 grow-0 basis-full',\n        orientation === 'horizontal' ? 'pl-4' : 'pt-4',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CarouselPrevious({\n  className,\n  variant = 'outline',\n  size = 'icon',\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      data-slot=\"carousel-previous\"\n      variant={variant}\n      size={size}\n      className={cn(\n        'absolute size-8 rounded-full',\n        orientation === 'horizontal'\n          ? 'top-1/2 -left-12 -translate-y-1/2'\n          : '-top-12 left-1/2 -translate-x-1/2 rotate-90',\n        className,\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n}\n\nfunction CarouselNext({\n  className,\n  variant = 'outline',\n  size = 'icon',\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      data-slot=\"carousel-next\"\n      variant={variant}\n      size={size}\n      className={cn(\n        'absolute size-8 rounded-full',\n        orientation === 'horizontal'\n          ? 'top-1/2 -right-12 -translate-y-1/2'\n          : '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',\n        className,\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n}\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":5562},"components/ui/context-menu.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as ContextMenuPrimitive from '@radix-ui/react-context-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction ContextMenu({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Root>) {\n  return <ContextMenuPrimitive.Root data-slot=\"context-menu\" {...props} />\n}\n\nfunction ContextMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Trigger>) {\n  return (\n    <ContextMenuPrimitive.Trigger data-slot=\"context-menu-trigger\" {...props} />\n  )\n}\n\nfunction ContextMenuGroup({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Group>) {\n  return (\n    <ContextMenuPrimitive.Group data-slot=\"context-menu-group\" {...props} />\n  )\n}\n\nfunction ContextMenuPortal({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Portal>) {\n  return (\n    <ContextMenuPrimitive.Portal data-slot=\"context-menu-portal\" {...props} />\n  )\n}\n\nfunction ContextMenuSub({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Sub>) {\n  return <ContextMenuPrimitive.Sub data-slot=\"context-menu-sub\" {...props} />\n}\n\nfunction ContextMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.RadioGroup>) {\n  return (\n    <ContextMenuPrimitive.RadioGroup\n      data-slot=\"context-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <ContextMenuPrimitive.SubTrigger\n      data-slot=\"context-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto\" />\n    </ContextMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction ContextMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.SubContent>) {\n  return (\n    <ContextMenuPrimitive.SubContent\n      data-slot=\"context-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Content>) {\n  return (\n    <ContextMenuPrimitive.Portal>\n      <ContextMenuPrimitive.Content\n        data-slot=\"context-menu-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </ContextMenuPrimitive.Portal>\n  )\n}\n\nfunction ContextMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <ContextMenuPrimitive.Item\n      data-slot=\"context-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {\n  return (\n    <ContextMenuPrimitive.CheckboxItem\n      data-slot=\"context-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <ContextMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </ContextMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </ContextMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction ContextMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {\n  return (\n    <ContextMenuPrimitive.RadioItem\n      data-slot=\"context-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <ContextMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </ContextMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </ContextMenuPrimitive.RadioItem>\n  )\n}\n\nfunction ContextMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <ContextMenuPrimitive.Label\n      data-slot=\"context-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Separator>) {\n  return (\n    <ContextMenuPrimitive.Separator\n      data-slot=\"context-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"context-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":8282},"app/api/somnia/emit/route.ts":{"content":"import { SDK } from \"@somnia-chain/streams\"\nimport { createPublicClient, createWalletClient, http, toHex } from \"viem\"\nimport { somniaTestnet } from \"@/lib/somnia-chain\"\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json()\n\n    const publicClient = createPublicClient({\n      chain: somniaTestnet,\n      transport: http(),\n    })\n\n    const walletClient = createWalletClient({\n      chain: somniaTestnet,\n      transport: http(),\n    })\n\n    const sdk = new SDK({\n      public: publicClient,\n      wallet: walletClient,\n    })\n\n    const dataStreams = [\n      {\n        id: body.streamId || toHex(\"44-7\", { size: 32 }),\n        schemaId: body.schemaId,\n        data: body.encodedData,\n      },\n    ]\n\n    const eventStreams = [\n      {\n        id: body.eventId,\n        argumentTopics: body.topics || [],\n        data: body.data || \"0x\",\n      },\n    ]\n\n    const result = await sdk.streams.setAndEmitEvents(dataStreams, eventStreams)\n\n    return Response.json({\n      success: true,\n      tx: result,\n      message: \"Data emitted successfully\",\n    })\n  } catch (error) {\n    console.error(\"Emit error:\", error)\n    return Response.json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"Unknown error\",\n      },\n      { status: 500 },\n    )\n  }\n}\n","size_bytes":1329},"BET_BLOCKCHAIN_INTEGRATION.md":{"content":"#  Place Bet Now Publishes to Somnia Blockchain!\n\n## What Changed:\n\nWhen you click **\"Place Bet\"**, the app now:\n1.  Publishes actual bet data to the Somnia blockchain\n2.  Includes the real price, bet type, odds, and all betting details\n3.  Works exactly like \"Start Somnia Stream\" but with your bet information\n\n## Bet Data Published to Blockchain:\n\nEvery time you place a bet, this data is stored on Somnia:\n\n```json\n{\n  \"betType\": \"UP\" or \"DOWN\",\n  \"amount\": 100,\n  \"odds\": 1.95,\n  \"potentialPayout\": 195.00,\n  \"profit\": 95.00,\n  \"marketTitle\": \"BTC/USD Price Up in 30s\",\n  \"currentPrice\": 93250,\n  \"timestamp\": 1732241234567\n}\n```\n\n## How It Works:\n\n1. **User enters bet amount** (e.g., $100)\n2. **Selects UP or DOWN**\n3. **Clicks \"Place Bet\"**\n4. **App publishes to Somnia blockchain:**\n   - Bet type (UP/DOWN)\n   - Bet amount (actual price)\n   - Current odds\n   - Potential payout\n   - Market details\n   - Timestamp\n\n5. **Success notification shows:**\n   - \" Bet published to Somnia blockchain!\"\n   - Details: \"UP for $100 at 1.95x odds\"\n\n## Technical Details:\n\n- **Stream ID:** `bet-stream`\n- **Schema ID:** `bet-schema-v1`\n- **Event ID:** Unique per bet (`bet-{timestamp}`)\n- **Topics:** Bet type and amount for filtering\n- **Data:** Complete bet information in JSON\n\n## Try It Now:\n\n1. Connect your wallet\n2. Enter a bet amount (e.g., $100)\n3. Choose UP or DOWN\n4. Click **\"Place Bet\"**\n5. See the success notification\n6. Your bet is now stored on the Somnia blockchain! \n\nThe bet data is transparent, immutable, and stored on-chain for everyone to see!\n","size_bytes":1582},"components/ui/input.tsx":{"content":"import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","size_bytes":963},"components/ui/dialog.tsx":{"content":"'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n","size_bytes":3985},"hooks/use-stream-download.ts":{"content":"\"use client\"\n\nimport { useState } from \"react\"\nimport { SDK, SchemaEncoder } from \"@somnia-chain/streams\"\nimport type { Hex } from \"viem\"\nimport { BET_SCHEMA } from \"@/lib/somnia-sdk\"\n\nexport interface StreamDataItem {\n  timestamp: number | string\n  betType: \"UP\" | \"DOWN\"\n  amount: string\n  odds: string\n  betId: string\n  marketId: string\n  rawData?: any\n}\n\ninterface SchemaItem {\n  name: string\n  value: string | number\n  type: string\n}\n\nexport function useStreamDownload() {\n  const [isDownloading, setIsDownloading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const downloadStreamData = async (\n    sdk: SDK | null,\n    schemaId: Hex,\n    publisherAddress: Hex,\n    filename: string = \"somnia-stream-data.json\"\n  ) => {\n    if (!sdk) {\n      setError(\"SDK not initialized\")\n      return\n    }\n\n    setIsDownloading(true)\n    setError(null)\n\n    try {\n      const rawData: any = await sdk.streams.getAllPublisherDataForSchema(\n        schemaId,\n        publisherAddress\n      )\n\n      const decoder = new SchemaEncoder(BET_SCHEMA)\n      const decodedData: StreamDataItem[] = []\n\n      if (rawData && Array.isArray(rawData)) {\n        for (const item of rawData) {\n          try {\n            const decoded: any = decoder.decodeData(item.data)\n            \n            const timestampItem = decoded.find((d: any) => d.name === \"timestamp\")\n            const betTypeItem = decoded.find((d: any) => d.name === \"betType\")\n            const amountItem = decoded.find((d: any) => d.name === \"amount\")\n            const oddsItem = decoded.find((d: any) => d.name === \"odds\")\n            const betIdItem = decoded.find((d: any) => d.name === \"betId\")\n            const marketIdItem = decoded.find((d: any) => d.name === \"marketId\")\n            \n            const decodedItem: StreamDataItem = {\n              timestamp: timestampItem?.value || 0,\n              betType: String(betTypeItem?.value) === \"0\" ? \"UP\" : \"DOWN\",\n              amount: String(amountItem?.value || \"0\"),\n              odds: String(oddsItem?.value || \"0\"),\n              betId: String(betIdItem?.value || \"\"),\n              marketId: String(marketIdItem?.value || \"\"),\n              rawData: item,\n            }\n            \n            decodedData.push(decodedItem)\n          } catch (decodeError) {\n            console.warn(\"Failed to decode item:\", decodeError)\n          }\n        }\n      }\n\n      const jsonData = {\n        exportDate: new Date().toISOString(),\n        publisherAddress,\n        schemaId,\n        schema: BET_SCHEMA,\n        totalRecords: decodedData.length,\n        data: decodedData,\n      }\n\n      const blob = new Blob([JSON.stringify(jsonData, null, 2)], {\n        type: \"application/json\",\n      })\n\n      const url = URL.createObjectURL(blob)\n      const link = document.createElement(\"a\")\n      link.href = url\n      link.download = filename\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      URL.revokeObjectURL(url)\n\n      setIsDownloading(false)\n      return decodedData.length\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : \"Failed to download stream data\"\n      setError(errorMessage)\n      setIsDownloading(false)\n      throw err\n    }\n  }\n\n  return {\n    downloadStreamData,\n    isDownloading,\n    error,\n  }\n}\n","size_bytes":3338},"hooks/use-bet-history.ts":{"content":"\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useSomniaSDK } from \"./use-somnia-sdk\"\nimport type { Hex } from \"viem\"\n\nexport interface BetHistoryItem {\n  timestamp: number | string\n  betType: \"UP\" | \"DOWN\"\n  amount: string\n  odds: string\n  betId: string\n  marketId: string\n}\n\nexport function useBetHistory(walletAddress?: string) {\n  const { sdk, schemaId, schemaEncoder, isLoading: sdkLoading, error: sdkError } = useSomniaSDK()\n  const [bets, setBets] = useState<BetHistoryItem[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    const fetchBets = async () => {\n      if (!sdk || !schemaId || !schemaEncoder || !walletAddress) {\n        return\n      }\n\n      setIsLoading(true)\n      setError(null)\n\n      try {\n        const rawData: any = await sdk.streams.getAllPublisherDataForSchema(\n          schemaId,\n          walletAddress as Hex\n        )\n\n        const decodedBets: BetHistoryItem[] = []\n\n        if (rawData && Array.isArray(rawData)) {\n          for (const item of rawData) {\n            try {\n              if (!item || !item.data) {\n                console.warn(\"Skipping malformed item:\", item)\n                continue\n              }\n\n              const decoded: any = schemaEncoder.decodeData(item.data)\n\n              const timestampItem = decoded.find((d: any) => d.name === \"timestamp\")\n              const betTypeItem = decoded.find((d: any) => d.name === \"betType\")\n              const amountItem = decoded.find((d: any) => d.name === \"amount\")\n              const oddsItem = decoded.find((d: any) => d.name === \"odds\")\n              const betIdItem = decoded.find((d: any) => d.name === \"betId\")\n              const marketIdItem = decoded.find((d: any) => d.name === \"marketId\")\n\n              decodedBets.push({\n                timestamp: timestampItem?.value || 0,\n                betType: String(betTypeItem?.value) === \"0\" ? \"UP\" : \"DOWN\",\n                amount: String(amountItem?.value || \"0\"),\n                odds: String(oddsItem?.value || \"0\"),\n                betId: String(betIdItem?.value || \"\"),\n                marketId: String(marketIdItem?.value || \"\"),\n              })\n            } catch (decodeError) {\n              console.error(\"Failed to decode bet:\", decodeError)\n              setError(\"Some bets could not be decoded\")\n            }\n          }\n        }\n\n        setBets(decodedBets)\n        setIsLoading(false)\n      } catch (err) {\n        const errorMessage = err instanceof Error ? err.message : \"Failed to fetch bet history\"\n        setError(errorMessage)\n        setIsLoading(false)\n        console.error(\"Error fetching bets:\", err)\n      }\n    }\n\n    fetchBets()\n  }, [sdk, schemaId, schemaEncoder, walletAddress])\n\n  const downloadAsJSON = (filename: string = \"somnia-bets.json\") => {\n    try {\n      const jsonData = {\n        exportDate: new Date().toISOString(),\n        walletAddress,\n        schema: \"uint64 timestamp, uint8 betType, uint256 amount, uint256 odds, bytes32 betId, bytes32 marketId\",\n        totalRecords: bets.length,\n        bets,\n      }\n\n      const jsonString = JSON.stringify(jsonData, null, 2)\n      const blob = new Blob([jsonString], { type: \"application/json;charset=utf-8;\" })\n      \n      const link = document.createElement(\"a\")\n      const url = URL.createObjectURL(blob)\n      \n      link.setAttribute(\"href\", url)\n      link.setAttribute(\"download\", filename)\n      link.style.visibility = \"hidden\"\n      \n      document.body.appendChild(link)\n      \n      // Use setTimeout to ensure the link is in the DOM before clicking\n      setTimeout(() => {\n        link.click()\n        document.body.removeChild(link)\n        URL.revokeObjectURL(url)\n      }, 0)\n    } catch (error) {\n      console.error(\"Download failed:\", error)\n      throw new Error(\"Failed to download bet data\")\n    }\n  }\n\n  return {\n    bets,\n    isLoading: sdkLoading || isLoading,\n    error: sdkError?.message || error,\n    downloadAsJSON,\n  }\n}\n","size_bytes":4028},"STREAM_DOWNLOAD_FEATURE.md":{"content":"# Somnia Data Streams JSON Download Feature\n\n## Overview\nThis feature allows users to download their bet history from Somnia Data Streams in JSON format.\n\n## How It Works\n\n1. **Connect Wallet**: User connects their Web3 wallet (MetaMask, Coinbase Wallet, etc.)\n2. **View Bet History**: Click \"History\" in the navigation to open the betting history modal\n3. **Download Data**: Click the \"Download JSON\" button to export all bet data from Somnia Data Streams\n\n## JSON Export Format\n\n```json\n{\n  \"exportDate\": \"2025-11-22T08:45:30.123Z\",\n  \"walletAddress\": \"0x1234...5678\",\n  \"schema\": \"uint64 timestamp, uint8 betType, uint256 amount, uint256 odds, bytes32 betId, bytes32 marketId\",\n  \"totalRecords\": 5,\n  \"bets\": [\n    {\n      \"timestamp\": 1732241234,\n      \"betType\": \"UP\",\n      \"amount\": \"100000000000000000000\",\n      \"odds\": \"1950000000000000000\",\n      \"betId\": \"0x...\",\n      \"marketId\": \"0x...\"\n    }\n  ]\n}\n```\n\n## Data Schema\n\nThe bet data is stored on Somnia Data Streams with the following schema:\n- `timestamp` (uint64): Unix timestamp when the bet was placed\n- `betType` (uint8): 0 for UP, 1 for DOWN\n- `amount` (uint256): Bet amount in wei (1e18 = 1 token)\n- `odds` (uint256): Odds in wei format (1.95x = 1950000000000000000)\n- `betId` (bytes32): Unique identifier for the bet\n- `marketId` (bytes32): Market identifier\n\n## Implementation Details\n\n### Components\n- `hooks/use-bet-history.ts`: Fetches bet data from Somnia streams and provides download functionality\n- `hooks/use-somnia-sdk.ts`: Initializes Somnia SDK with browser wallet connection\n- `components/bet-history-modal.tsx`: UI for viewing and downloading bet history\n\n### Features\n-  Real-time data fetching from Somnia Data Streams\n-  Download as formatted JSON file\n-  Loading states and error handling\n-  Uses connected browser wallet (signer-aware)\n-  Falls back to mock data when no bets exist\n\n### Current Limitations\n1. **Bet Outcomes**: All fetched bets show as \"PENDING\" status since outcome data is not yet stored on-chain\n2. **Result Filtering**: WIN/LOSS tabs will only show data once bet outcome tracking is implemented\n3. **All bets are currently displayed in the \"All\" and \"Pending\" tabs**\n\n## Future Enhancements\n- Store bet outcomes on Somnia Data Streams\n- Implement real-time bet result calculation\n- Add historical P&L tracking\n- Support for multiple market types\n","size_bytes":2374}},"version":2}